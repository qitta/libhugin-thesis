

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Projektarbeit</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  

    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:'../',
        VERSION:'0.1',
        COLLAPSE_INDEX:false,
        FILE_SUFFIX:'.html',
        HAS_SOURCE:  true
      };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
    <link rel="top" title="None" href="../index.html"/>

<link rel="stylesheet" type="text/css" href="../_static/custom.css" />
<link rel="stylesheet" type="text/css" href="../_static/colorbox/colorbox.css" />

<script type="text/javascript" src="../_static/colorbox/jquery.colorbox-min.js" />
<script type="text/javascript">
	function endsWith(str, suffix) {
	    return str.indexOf(suffix, str.length - suffix.length) !== -1;
	}

    $(document).ready(function() {
    	var im, imsrc;
    	$('img').each(function() {
    		im = $(this);
    		imsrc = im.attr('src');
    		imalt = im.attr('alt');
    		if (endsWith(imsrc, 'svg')) {
    			im.wrap($('<a>').attr({'href': imsrc, 'title': imalt}).addClass('svglink'));
    		}
    	});

    	$('a.svglink').colorbox({
    		'width': '95%',
    		'height': '95%',
    		'photo': true});
    });
</script>


  <script src="//cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="index.html#document-rst/index" class="icon icon-home"> Projektarbeit</a>
        <form class="wy-form" action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search docs" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix">
        
        
            <ul>
<li class="toctree-l1"><a class="reference internal" href="rst/index.html#document-rst/abstract">Abstract</a></li>
<li class="toctree-l1"><a class="reference internal" href="rst/index.html#document-rst/acknowledgements">Danksagung</a></li>
<li class="toctree-l1"><a class="reference internal" href="rst/index.html#document-rst/dedication">Widmung</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="rst/index.html#document-rst/I/index">1 Einleitung</a><ul>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/I/index#motivation">1.1 Motivation</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/I/index#namensgebung">1.2 Namensgebung</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="rst/index.html#document-rst/II/index">2 Einstieg</a><ul>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/II/index#einsatzszenarien">2.1 Einsatzszenarien</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/II/index#vorhandene-alternativen">2.2 Vorhandene Alternativen</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/II/index#vorhandene-arbeiten">2.3 Vorhandene Arbeiten</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/II/index#schlussfolgerungen">2.4 Schlussfolgerungen</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/II/index#anforderungen">2.5 Anforderungen</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/II/index#zielgruppe">2.6 Zielgruppe</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="rst/index.html#document-rst/III/index">3 Design</a><ul>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/III/index#architektur">3.1 Architektur</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/III/index#algorithmik">3.2 Algorithmik</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/III/index#integration-von-libmunin-in-die-umwelt">3.3 Integration von libmunin in die Umwelt</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/III/index#periphere-komponenten">3.4 Periphere Komponenten</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/III/index#entwurf-der-software">3.5 Entwurf der Software</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="rst/index.html#document-rst/IV/index">4 Implementierung</a><ul>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/IV/index#kurze-implementierungshistorie">4.1 Kurze Implementierungshistorie</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/IV/index#liste-verfugbarer-provider-und-distanzfunktionen">4.2 Liste verfügbarer Provider und Distanzfunktionen</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/IV/index#paketubersicht">4.3 Paketübersicht</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/IV/index#anwendungsbeispiel">4.4 Anwendungsbeispiel</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/IV/index#trivia">4.5 Trivia</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="rst/index.html#document-rst/V/index">5 Test</a><ul>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/V/index#erfullung-der-anforderungen">5.1 Erfüllung der Anforderungen</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/V/index#verifizierung">5.2 Verifizierung</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/V/index#validierung">5.3 Validierung</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/V/index#demonanwendung-als-debugger">5.4 Demonanwendung als Debugger</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="rst/index.html#document-rst/VI/index">6 Zusammenfassung</a><ul>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/VI/index#ausblick">6.1 Ausblick</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/VI/index#mogliche-weiterentwicklungen">6.2 Mögliche Weiterentwicklungen</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/VI/index#fazit">6.3 Fazit</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="rst/index.html#document-rst/appendix">Abkürzungsverzeichnis</a></li>
<li class="toctree-l1"><a class="reference internal" href="rst/index.html#document-rst/appendix#glossar">Glossar</a></li>
<li class="toctree-l1"><a class="reference internal" href="rst/index.html#document-rst/appendix#ausfuhrliches-beispiel">Ausführliches Beispiel</a></li>
<li class="toctree-l1"><a class="reference internal" href="rst/index.html#document-rst/zzz_bibliography">Bibliographie</a></li>
<li class="toctree-l1"><a class="reference internal" href="rst/index.html#document-rst/zzz_bibliography#weblink-verzeichnis">Weblink Verzeichnis</a></li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top">
        <i data-toggle="wy-nav-top" class="icon icon-reorder"></i>
        <a href="/">Projektarbeit</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <ul class="wy-breadcrumbs">
  <li><a href="index.html#document-rst/index">Docs</a> &raquo;</li>
  <li><a href="">Projektarbeit</a></li>
  
</ul>
<hr/>

          
  <div class="section" id="libmunin-br-projektarbeit">
<span id="doc-title"></span><h1>libmunin: <br /> Projektarbeit<a class="headerlink" href="#libmunin-br-projektarbeit" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
<span id="document-rst/abstract"></span><div class="section" id="abstract">
<h2>Abstract<a class="headerlink" href="#abstract" title="Permalink to this headline">¶</a></h2>
</div>
<p>This paper shows a way to build a music recommendation system based on
datamining algorithms and a nearest neighbor graph. A extensible python library
is developed, using a variety of inputs differing from music metadata like
lyrics or the genre to the analysis of the associated audio data. In order to
demonstrate and verify the results, a gtk based MPD client is developed that can
be used either as debugging tool or true media player. Various techniques are
shown to compare all possible attributes of a song with each other in a
efficient way.</p>
<p><em>Keywords:</em></p>
<blockquote>
<div>Music Information Retrieval (MIR) <span class="math">\(\cdot\)</span>
Music Recommendation Engine <span class="math">\(\cdot\)</span>
Data Mining <span class="math">\(\cdot\)</span>
k-Nearest-Neighbor-Graph</div></blockquote>
<span id="document-rst/acknowledgements"></span><div class="section" id="danksagung">
<h2>Danksagung<a class="headerlink" href="#danksagung" title="Permalink to this headline">¶</a></h2>
</div>
<p>Danke an folgende Personen und Dinge: Katzen, Vögel aller Art, Teehersteller
alle Länder, Herrn Prof. Dr. Jörg Scheidt und meiner Familie sowie Freunden.</p>
<p>Ihr wisst warum.</p>
<span id="document-rst/dedication"></span><div class="section" id="widmung">
<h2>Widmung<a class="headerlink" href="#widmung" title="Permalink to this headline">¶</a></h2>
</div>
<p><em>Für meine Katzen.</em></p>
</div>
<div class="toctree-wrapper compound">
<span id="document-rst/I/index"></span><div class="section" id="einleitung">
<h2>1 Einleitung<a class="headerlink" href="#einleitung" title="Permalink to this headline">¶</a></h2>
<blockquote class="epigraph">
<div><p>'' <em>Sei froh dass du du bist, und nicht dieser Fisch.</em> ''</p>
<p class="attribution">&mdash;<em>Das Lied von der Makrele, Marc Uwe Kling</em></p>
</div></blockquote>
<div class="section" id="motivation">
<h3>1.1 Motivation<a class="headerlink" href="#motivation" title="Permalink to this headline">¶</a></h3>
<div class="section" id="state-of-the-art">
<h4>1.1.1 State of the Art<a class="headerlink" href="#state-of-the-art" title="Permalink to this headline">¶</a></h4>
<p>Empfehlungen sind allgegenwärtig. Ob in sozialen Netzwerken, ob in Webshops oder
gar im Supermarkt.</p>
<p>Besonders im weltweitem Netz gibt es eine Vielzahl von Plattformen die Musik
anbieten, entweder zum kaufen (amazon), zum streamen (<tt class="docutils literal"><span class="pre">last.fm</span></tt>, spotify,
rhapsody, pandora, webradios...) oder auch um Menschen mit ähnlichem
Musikgeschmack zu finden (youtube, myspace).</p>
<p>All diese Plattformen bieten neben der eigentlichen Musik auch immer
Empfehlungen zu anderer Songs die der User möglicherweise ebenfalls anhören
möchte - natürlich mit dem Hintergedanken dass der User sich auch diese anhört
oder gar kauft. Kunden die neue Bands entdecken und später weitere Alben von
diesen sind natürlich ein wichtiger wirtschaftlicher Faktor.</p>
<p>Doch wie entstehen solche Empfehlungen eigentlich? Werden diese manuell
von den Betreibern gepflegt? Bei der großen Anzahl an ,,Waren'' wohl kaum.
Schaut sich ein System an was die User oft zusammen hören?
Kann es ein System geben das komplett automatisch arbeitet?</p>
<p>Die oben genannten Plattformen lösen diese Probleme auf unterschiedliche Weise.
Amazon verlässt sich dabei auf die großen Mengen an gespeicherten Warenkörben -
aus diesen werden dann Alben abgeleitet die oft zusammen gekauft werden.
Last.fm hingegen setzt auf mehrere Strategien indem es seine Nutzer die
gestreamten Lieder raten lässt und dann deren Hörverhalten analysiert - Lieder
die nur selten ganz angehört werden, werden auch selten empfohlen.
Myspace setzt auf die Annahme dass befreundete Personen auch einen ähnlichen
Musikgeschmack haben. Spotify's Empfehlungen basieren u.a. auf Interviews mit
echten Personen.</p>
<p>Wie man sieht sind die Wege nahezu unendlich, das Ziel aber immer gleich:
Musik-Empfehlungen aussprechen die den Nutzer länger auf der Seite halten</p>
<p>Auch von wissenschaftlicher Seite ist das Problem der ,, <em>Music Recommendation
Engine</em> '' noch nicht abschließend behandelt - es gibt allerdings eine steigende
Anzahl von Arbeiten auf diesem Gebiet:</p>
<div class="figure align-center">
<center><table border="1" class="docutils">
<colgroup>
<col width="31%" />
<col width="19%" />
<col width="31%" />
<col width="19%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head align-right">Jahre</th>
<th class="head align-left">Anzahl</th>
<th class="head align-right">Jahre</th>
<th class="head align-left">Anzahl</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td class="align-right">1994-2000</td>
<td class="align-left">1</td>
<td class="align-right">2007-2008</td>
<td class="align-left">8</td>
</tr>
<tr class="row-odd"><td class="align-right">2001-2002</td>
<td class="align-left">4</td>
<td class="align-right">2009-2010</td>
<td class="align-left">9</td>
</tr>
<tr class="row-even"><td class="align-right">2003-2004</td>
<td class="align-left">3</td>
<td class="align-right">2011-2012</td>
<td class="align-left">6</td>
</tr>
<tr class="row-odd"><td class="align-right">2005-2006</td>
<td class="align-left">8</td>
<td class="align-right">2013-2014</td>
<td class="align-left">5+</td>
</tr>
</tbody>
</table>
<p class="caption">Anzahl der Arbeiten auf Google Scholar zum Suchbegriff
,,Music Recommendation'' aufgeteilt auf die Jahre 1994-2014.</p>
</center></div><p>Und mittlerweile gibt es mit <em>Music Recommendation and Discovery</em> sogar ein 200
Seiten starkes Buch. <a class="reference internal" href="rst/index.html#celma2010music" id="id1">[1]</a>.</p>
</div>
<div class="section" id="was-fehlt-also">
<h4>1.1.2 Was fehlt also?<a class="headerlink" href="#was-fehlt-also" title="Permalink to this headline">¶</a></h4>
<p>Viele dieser Arbeiten präsentieren jeweils einen Weg um die Ähnlichkeit zweier
Musikstücke zu bestimmen - viele greifen dabei auf Audioanalyse zurück, also
beispielsweise die Bestimmung der Schnelligkeit und der Stimmung des Liedes,
oder nutzen vorhandene Metadaten um beispielsweise auf den Songtexten die Themen
zu extrahieren die im Lied behandelt werden.</p>
<p>Dabei sind heutzutage die Metadaten zu den Musikstücken dank Musikdatenbank wie
<em>MusicBrainz</em> <a class="footnote-reference" href="#f1" id="id2"><sup>1</sup></a> leicht aufzufinden - lediglich die Audiodaten sind aus
verständlichen Gründen schwer zu besorgen.</p>
<p>Die nötigen Bauteile um ein System zu schaffen dass gute Musikempfehlungen zu
schaffen sind also vorhanden - nur die Umsetzung fehlt.</p>
<p class="rubric">Footnotes</p>
<table class="docutils footnote" frame="void" id="f1" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[1]</a></td><td>eine frei verfügbare Musikmetadatendatenbank. <a class="reference internal" href="rst/index.html#a3" id="id3">[Link-1]</a></td></tr>
</tbody>
</table>
</div>
<div class="section" id="wie-ist-die-aktuelle-situation">
<h4>1.1.3 Wie ist die aktuelle Situation?<a class="headerlink" href="#wie-ist-die-aktuelle-situation" title="Permalink to this headline">¶</a></h4>
<p>Weit verbreitet sind bei Musicplayern ,,Dynamische Playliste'' die allerdings
bei den meisten Implementierungen bei vorhandenen Plattformen wie <tt class="docutils literal"><span class="pre">last.fm</span></tt>
suchen um Musikempfehlungen auszusprechen. Das ist keineswegs eine schlechte
Lösung, da solche Dienste sehr gute Resultate liefern können.</p>
<p>Trotzdem ist die Abhängigkeit von externen Diensten und einer Internetverbindung
nicht immer möglich oder überhaupt wünschenswert - eine Lösung die rein auf
einen Rechner laufen kann wäre von Nöten. Gewißermaßen das Backend von
<tt class="docutils literal"><span class="pre">last.fm</span></tt> für den freien (frei wie in <em>Free Open Source Software</em>) Einsatz.</p>
<p>Ein zusätzlicher Vorteil: Man entgeht einerseits der Werbung die zwischen allen
paar Liedern gespielt wird, andererseits ist man nicht einer Vorauswahl der
Musiklabes ausgeliefert - denn meist wird nur die momentan <em>populäre</em> Musik bei
den oben genannten Plattformen gespielt. Zudem ist diese Musik kommerzieller
Natur - freie, Creative Commons-lizensierte Musik wie man sie beispielsweise auf
Jamendo <a class="footnote-reference" href="#f2" id="id4"><sup>2</sup></a> zu finden ist sucht man anderswo vergebens.</p>
<p>Dadurch dass das entstehende System frei in den Quellen verfügbar sein soll kann
jeder daran mitarbeiten und es selbst einsetzen. Im Gegensatz zu den
existierenden Backends, wie sie beispielsweise hinter <tt class="docutils literal"><span class="pre">last.fm</span></tt> stehen, wäre
ein solches System auf Qualität optimiert - weniger auf Wirtschaftlichkeit,
sprich anstatt Empfehlungen die mehr Geld einbringen sollen nachvollziehbare
qualitative Empfehlungen möglich sein.</p>
<p>Die Tatsache dass der Autor sich schon seit längerer Zeit ein ,, <em>echtes Dynamic
Playlist Feature</em> '' für den MPD Client <a class="footnote-reference" href="#f3" id="id5"><sup>3</sup></a> den er entwickelt wünscht trägt
natürlich auch zur Motivation bei - vor allem soll auch nach dem Abschluss
dieser Arbeit das Projekt weiterentwickelt werden.</p>
<p class="rubric">Footnotes</p>
<table class="docutils footnote" frame="void" id="f2" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id4">[2]</a></td><td>Eine Streaming Plattform für freie, Creative Commons-lizensierte Musik. <a class="reference internal" href="rst/index.html#t" id="id6">[Link-2]</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="f3" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id5">[3]</a></td><td>Ein MPD Client ist eine ,, <em>Fernbedienung</em> '' für den unter Unix weit
vebreitenden MPD (MusicPlayerDaemon).</td></tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="namensgebung">
<h3>1.2 Namensgebung<a class="headerlink" href="#namensgebung" title="Permalink to this headline">¶</a></h3>
<p>Menschen neigen dazu Dingen einen Namen zu geben - im Folgenden wird unser
Musikempfehlungssystem <em>libmunin</em> genannt.</p>
<blockquote class="epigraph">
<div><p>In Norse mythology, Hugin (from Old Norse “thought”)
and Munin (Old Norse “memory” or “mind”)
are a pair of ravens that fly all over the world Midgard,
and bring information to the god Odin.</p>
<p class="attribution">&mdash;<a class="reference external" href="http://en.wikipedia.org/wiki/Huginn_and_Muninn">http://en.wikipedia.org/wiki/Huginn_and_Muninn</a> <a class="reference internal" href="rst/index.html#wiki2014hugin" id="id7">[8]</a></p>
</div></blockquote>
<p>Der Name <em>Munin</em> war bereits vergeben an ein Monitoring Tool, deswegen wurde die
library <em>libmunin</em> benannt. Das hat den humorvollen Nebeneffekt dass eine
kommerzielle Library mit ähnlichem Namen (<em>mufin-audiogen</em> <a class="reference internal" href="rst/index.html#ikc" id="id8">[Link-3]</a>) eine
freie Alternative erhält.</p>
</div>
</div>
<span id="document-rst/II/index"></span><div class="section" id="einstieg">
<h2>2 Einstieg<a class="headerlink" href="#einstieg" title="Permalink to this headline">¶</a></h2>
<blockquote class="epigraph">
<div><p>'' <em>Der Computer wurde zur Lösung von Problemen erfunden, die es früher nicht gab.</em> ''</p>
<p class="attribution">&mdash;<em>Bill Gates</em></p>
</div></blockquote>
<div class="section" id="einsatzszenarien">
<h3>2.1 Einsatzszenarien<a class="headerlink" href="#einsatzszenarien" title="Permalink to this headline">¶</a></h3>
<p>Wo ist also das Problem dass <em>libmunin</em> nun lösen soll?</p>
<p>Das erklärte Ziel ist es eine Bibliothek (,, <em>libmunin</em> '') zu schaffen die
einen auf Musik spezialisierten <em>Empfehlungsdienst</em> implementiert.</p>
<blockquote class="epigraph">
<div><p>Ein Empfehlungsdienst (englisch Recommender System) ist ein automatisches
Verfahren, das ausgehend von vorhandenen Webseiten oder anderen Objekten
ähnliche Objekte ermittelt und empfiehlt. Zur Ermittlung der passenden
Empfehlungen verwendet ein Empfehlungsdienst Methoden des Data-Minings und
Information Retrieval. [...] darüber hinaus [werden] Informationen aus dem
konkreten Kontext (Webseiten-Zugriff) und zusätzliche Informationen wie z.
B. die Kauf-, Navigations- oder Klick-Historie herangezogen.</p>
<p class="attribution">&mdash;<a class="reference external" href="http://de.wikipedia.org/wiki/Empfehlungsdienst">http://de.wikipedia.org/wiki/Empfehlungsdienst</a> <a class="reference internal" href="rst/index.html#wiki2014empfehlungsdienst" id="id1">[7]</a></p>
</div></blockquote>
<p>Einsatzmöglichkeiten eines auf Musik spezialisierten <em>Empfehlungsdienstes</em>:</p>
<blockquote>
<div><ol class="arabic simple">
<li>Einsatz in Mediaplayern für große (lokale) Musiksammlungen.</li>
<li>Einsatz bei Music Streaming Plattformen als Backend für Empfehlungen.</li>
<li>Einsatz bei Music Shops - um ähnliche Artikel vorzuschlagen.</li>
<li>Einsatz bei webradios als <em>DJ-Software</em> - Erstellung einer automatischen
Playlist.</li>
<li>Einsatz in sozialen Netzwerken um Menschen mit ähnlichem Musikgeschmack
zu finden.</li>
</ol>
</div></blockquote>
<p>Weitere Einsatzmöglichkeiten sind natürlich denkbar und sind bei kreativen
Nutzern zu erwarten.</p>
</div>
<div class="section" id="vorhandene-alternativen">
<h3>2.2 Vorhandene Alternativen<a class="headerlink" href="#vorhandene-alternativen" title="Permalink to this headline">¶</a></h3>
<p>Wenn man vermeiden will das Rad neu zu erfinden ist es hilfreich sich vorhandene
Alternativen anzuschauen und deren Herangehensweise an das Problem. Es werden
einige ausgewählte Plattformen aller Couleur gezeigt und deren Funktionsweise
und Besonderheiten kurz erklärt.</p>
<div class="section" id="bekannte-plattformen">
<h4>2.2.1 Bekannte Plattformen<a class="headerlink" href="#bekannte-plattformen" title="Permalink to this headline">¶</a></h4>
<p>TODO: Nachweise</p>
<ul>
<li><p class="first"><strong>last.fm</strong> <a class="reference internal" href="rst/index.html#nt" id="id2">[Link-4]</a></p>
<blockquote>
<div><p>Der wohl bekannteste Musik Empfehlungs Service im Netz. User können sich mit
ihren Account ein personalisiertes Webradio (auch <em>Station</em> genannt, siehe
) zusammenstellen. Dabei wählen sie ein Lied auf
der Seite aus und lassen sich darauf basierend dann weitere Lieder oder
Künstler (siehe ) vorschlagen die in eine
ähnliche Richtung gehen. Für viele Musicplayer gibt es Plugins die die
gespielten Lieder zu last.fm übermitteln. Diesen Vorgang nennen die
Betreiber <em>scrobbeln</em>. Durch diese Informationen werden dann spezialisierte
Empfehlungen getroffen - es handelt sich also um ein lernendes System.</p>
<div class="figure compound align-center" id="fig-lastfm">
<div style="width: 50%" class="subfigure align-center" id="fig-lastfm-similar-artists">
<a class="reference internal image-reference" href="../../_images/lastfm_similar_artists.png"><img alt="Ähnliche Künstler auf last.fm" src="../../_images/lastfm_similar_artists.png" style="width: 75%;" /></a>
<p class="caption">Anzeige ähnlicher Künstler auf last.fm</p>
</div>
<div style="width: 50%" class="subfigure align-center" id="fig-lastfm-webradio">
<a class="reference internal image-reference" href="../../_images/lastfm_spotify_radio.png"><img alt="Eine *Station* auf Spotify" src="../../_images/lastfm_spotify_radio.png" style="width: 100%;" /></a>
<p class="caption">Eine <em>Station</em> auf Spotify (Empfehlungen von last.fm)</p>
</div>
<p class="caption">Screenshots von Last.fm.</p>
</div></div></blockquote>
</li>
<li id="fig-lastfm"><p class="first"><strong>YouTube</strong> <a class="reference internal" href="rst/index.html#wnn" id="id3">[Link-5]</a></p>
<blockquote>
<div><p>Youtube ist vorrangig als Videoplattform bekannt, durch ihre enorme
Beliebtheit laden dort Nutzer allerdings auch Musik - verpackt als Video -
hoch. Interessant dabei ist dass in der Sidebar stets Empfehlungen für
weitere Videos angezeigt (siehe ) - in den meisten Fällen
dann auch weitere Musikvideos. Dabei haben die meisten Videos auch etwas mit
dem aktuellen zu tun - nur einige der ersten Empfehlungen sind die
,,Trending Videos''.</p>
<p>Einige der Attribute die in die Empfehlung mit eingehen:</p>
<blockquote>
<div><ul class="simple">
<li>Video-Metadaten (Qualität, Beschreibung, Titel)</li>
<li>Upload-Datum</li>
<li>,,Plays'' und tatsächliche ,,Plays'' (also ob das video lang genug
angeschaut wurde)</li>
<li>...</li>
</ul>
</div></blockquote>
<div class="figure align-center" id="fig-youtube">
<a class="reference internal image-reference" href="../../_images/youtube_sidebar.png"><img alt="Sidebar eines Youtube Videos" src="../../_images/youtube_sidebar.png" style="width: 100%;" /></a>
<p class="caption">Die Vorschläge zu einem Musikvideo auf YouTube</p>
</div>
</div></blockquote>
</li>
<li><p class="first"><strong>MySpace</strong></p>
<blockquote>
<div><p>Obwohl das soziale Netzwerk myspace seine besten Tage hinter sich hat haben
viele Bands noch auf der Seite ein Profil unter dem man sich oft kostenlos
Musik anhören kann (siehe ). Ähnlich wie bei anderen
populären sozialen Netzen kann man diese Seite <em>liken</em>. Diese Information
wird dann dafür genutzt einem User Bands vorzuschlagen die auch seine
Freunde mögen - unter der Annahme dass die Freunde einen ähnlichen
Musikgeschmack haben.</p>
<div class="figure align-center" id="fig-myspace">
<a class="reference internal image-reference" href="../../_images/myspace_queue.png"><img alt="Die Playlist von MySpace" src="../../_images/myspace_queue.png" style="width: 75%;" /></a>
<p class="caption">Die Vorschläge die MySpace basierend auf den ersten Song macht.</p>
</div>
</div></blockquote>
</li>
<li><p class="first"><strong>Amazon</strong> <a class="reference internal" href="rst/index.html#xxx" id="id4">[Link-6]</a></p>
<blockquote>
<div><p>Den Grundstein für die Empfehlungen bei amazon bilded die Warenkorbanalyse.
Dabei werden die Warenkörbe der User analysiert und es werden
Assoziationsregeln erstellt - bevorzugtermaßen Regeln die unerwartete
Zusammenhänge aufdecken. Das typische Beispiel ist dabei: ,,Wer Bier kauft,
kauft auch Windeln''. Diese Regeln werden dann genutzt um neue Artikel für
bestimmte Artikel vorzuschlagen (siehe ). Natürlich fließt
auch die personalisierte Shopping-Historie in die Empfehlunge mit ein.</p>
<p>Zudem hat amazon im vergleich zu den oben genannten Plattformen den Vorteil
dass der Kauf eines Artikels ein klare Absichtserklärung ist - bei
Plattformen wie Youtube schaut man hingegen ein Video oft aus Neugier an
obwohl dieses möglicherweise nicht in das Muster des Users passt.</p>
<div class="figure align-center" id="fig-amazon">
<a class="reference internal image-reference" href="../../_images/amazon_recommendations.png"><img alt="Empfehlungen von Amazon.com" src="../../_images/amazon_recommendations.png" style="width: 100%;" /></a>
<p class="caption">Zu fast jedem Artikel erhält man Empfehlungen was man noch kaufen
könnte. Hier zu <em>Knorkator - The Schlechtest of</em></p>
</div>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="sonstige-webseiten">
<h4>2.2.2 Sonstige Webseiten<a class="headerlink" href="#sonstige-webseiten" title="Permalink to this headline">¶</a></h4>
<p><strong>tastekid</strong> <a class="reference internal" href="rst/index.html#idk" id="id5">[Link-7]</a></p>
<blockquote>
<div><p><em>Tastekid</em> ist ein allgemeiner Empfehlungsdienst und kann neben Musik auch
Künstler (siehe ), Videos, Bücher und vieles mehr
vorschlagen. Es kann als <em>Meta-Aggregator</em> für Empfehlungen aufgefasst
werden - die eigentlichen Grunddaten kommen von anderen Diensten (im Falle
von Musik von <strong>last.fm</strong>).</p>
<p>Basierend auf diesen Grunddaten werden noch die User eingebunden indem sie
die Empfehlungen <em>liken</em> oder <em>disliken</em> können. Klar fehlerhafte
Empfehlungen können gemeldet werden woraufhin sie nach einer manuellen
Beschauung korrigiert werden.</p>
<p>Eine interessante Idee ist dabei dass die Resultate auch begründet werden -
so wird die Suche nach ,,The Beatles'' folgendermaßen begründet:</p>
<div class="figure align-center" id="fig-tastekid">
<a class="reference internal image-reference" href="../../_images/tastekid_recom.png"><img alt="Empfehlungen von tastekid.com" src="../../_images/tastekid_recom.png" style="width: 100%;" /></a>
<p class="caption">Die Empfehlung von tastekid.com zu <em>Knorkator</em> - man beachte dass die
Eingabe automatisch als <em>Künstler</em> erkannt wurde.</p>
</div>
</div></blockquote>
<p><strong>Musicovery</strong> <a class="reference internal" href="rst/index.html#zmf" id="id6">[Link-8]</a></p>
<blockquote>
<div><p>Diese Seite kategorisiert eine groß Anzahl von Musikstücken nach Stimmung
(<em>dunkel</em> bis <em>positiv</em>) und Tempo (<em>ruhig</em> bis <em>energiegeladen</em>). Diese zwei
Attribute werden an den Achsen eines Koordinatensystems aufgetragen. So
erhält der User eine Möglichkeit einen Punkt darin zu selektieren und
basierend auf diesen Eigenschaften sich Empfehlungen liefern zu lassen
(siehe ).</p>
<div class="figure compound align-center" id="fig-musicovery">
<div style="width: 90%" class="subfigure align-left" id="fig-musicovery-moodmap">
<a class="reference internal image-reference" href="../../_images/musicovery_moodmap.png"><img alt="Die Moodmap" src="../../_images/musicovery_moodmap.png" style="width: 100%;" /></a>
<p class="caption">Die Moodmap</p>
</div>
<div style="width: 90%" class="subfigure align-left" id="fig-musicovery-likemap">
<a class="reference internal image-reference" href="../../_images/musicovery_likemap.png"><img alt="Die Musicmap" src="../../_images/musicovery_likemap.png" style="width: 100%;" /></a>
<p class="caption">Die Musicmap (auch Likemap genannt).
Schwer zu erkennen ist die Beschriftung der X-Achse: 1950-2010.</p>
</div>
<p class="caption">Verschiedene Möglichkeiten auf <em>musicovery.com</em></p>
</div><p id="fig-musicovery">Der sonstige Hauptzweck der Seite besteht aus der <em>Music Discovery</em> (daher
auch das Kofferwort aus <em>Music</em> und <em>Discovery</em> als Name) - also dem
Entdecken neuer Musik.  Ein Beispiel dafür ist die sogenannte <em>MusicMap</em>
(siehe ) - ein Koordinatensystem bei dem auf
der X-Achse die Zeit (1950 - 2010) und nach oben das Verhältnis von <em>Likes</em>
zu <em>Dislikes</em>. Mit anderen Worten: Liegt ein Punkt etwa in der Mitte der
Höhe so mochten ihn genauso viele Leute wie sie ihn nicht mochten. Je weiter
weg man von der Mitte ist desto einiger sind sich die User ob der Song gut
oder schlecht ist.</p>
</div></blockquote>
</div>
<div class="section" id="software-bibliotheken">
<h4>2.2.3 Software-Bibliotheken<a class="headerlink" href="#software-bibliotheken" title="Permalink to this headline">¶</a></h4>
<p>Während die Anzahl der Plattformen noch ins unermeßliche ging, so liefert eine
suche nach <em>Music Recommendation (Library|System|Engine)</em> schon deutlich weniger
Resultate. Es scheint keine etablierte Bibliothek zu geben die dieses Problem
angeht.</p>
<ul>
<li><p class="first"><strong>mirage</strong> <a class="reference internal" href="rst/index.html#ahx" id="id7">[Link-9]</a></p>
<blockquote>
<div><p>Eine freie in der Programmiersprache C# (mithilfe von Mono) implementierte
Bibliothek für Music Recommendations. Sie kommt den Zielen des Autors am
nähesten ist aber wenig auf große Datenbanken ausgelegt und stützt sich
allein auf Audio-Analyse - dazu wird während des <em>Kaltstartes</em> die gesamten
Audiodaten der Musiksammlung analysiert.</p>
<p>Sie ist momentan nur im freien Mediaplayer Banshee als Plugin nutzbar.
<em>Banshee</em> selbst ist ebenfalls in C# geschrieben - die Wahl der
Programmiersprache ist für die Bibliothek also von nicht geringer Bedeutung.</p>
</div></blockquote>
</li>
<li><p class="first"><strong>mufin audiogen</strong> <a class="reference internal" href="rst/index.html#uzb" id="id8">[Link-10]</a></p>
<blockquote>
<div><p>Eine kommerzielle in C++ entwickelte Bibliothek die im (mittlerweile
eingestellten) Mufin-Audioplayer verwendet wurde. Sie bietet - laut der
Werbebroschüre - enorm viele  Features und hat nicht das Problem des
<em>Kaltstartes</em>. Das soll heißen: Die Musikdatenbank muss nicht erst aufwändig
importiert werden was zu einem, sondern es können gleich Empfehlungen
getroffen werden.</p>
<p>Zudem sind Visualisierungen und mobile Anwendungen mit der Bibliothek
möglich.</p>
</div></blockquote>
</li>
</ul>
</div>
</div>
<div class="section" id="vorhandene-arbeiten">
<h3>2.3 Vorhandene Arbeiten<a class="headerlink" href="#vorhandene-arbeiten" title="Permalink to this headline">¶</a></h3>
<p>Wie bereits eingangs erwähnt gibt es eine zwar noch überschaubare aber doch
schon recht umfangreiche Menge an Arbeiten zum Thema <em>Music Recommendation</em>.</p>
<p>Einige ausgesuchte Arbeiten werden  im folgenden aufgelistet und deren
Kernaussagen im Bezug auf diese Arbeit erläutert:</p>
<ul>
<li><p class="first"><em>A self-organizing map based knowledge discovery for music recommendation systems</em> <a class="reference internal" href="rst/index.html#vembu2005self" id="id9">[6]</a></p>
<blockquote>
<div><p>Statt den Computern die Ähnlichkeit zwischen zwei Liedern zu bestimmen zu
lassen verwendet diese Arbeit Reviews von <em>Amazon</em> um daraus Beziehungen
zwischen Künstlern abzuleiten.</p>
<p>Dieser Ansatz fällt unter <em>Social-based Recommendations</em> - man nutzt also
das Wissen vieler Menschen um Ähnlichkeiten abzubilden. Dies steht im
Gegensatz zu <em>Content-based Recommendations</em> - bei diesen wird die
Ähnlichkeit anhand von Audio- und Metadaten automatisch ermittelt.</p>
<p><em>Vorteil:</em> Elegant und oft sehr akkurat.</p>
<p><em>Nachteil:</em> Unvollständig, nicht für jeden Artist ist eine Empfehlung vorhanden.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Smart radio-building music radio on the fly</em> <a class="reference internal" href="rst/index.html#hayes2001smart" id="id10">[2]</a></p>
<blockquote>
<div><p>Smart-Radio: Die Musik der  Zukunft kommt aus dem Web... TODO</p>
</div></blockquote>
</li>
<li><p class="first"><em>A music search engine built upon audio-based and web-based similarity measures</em> <a class="reference internal" href="rst/index.html#knees2007music" id="id11">[4]</a></p>
<blockquote>
<div><p>Das in diesem Paper vorgestellte System kommt der Vorstellung von <em>libmunin</em>
am nähstem. Die Audio- und Metadaten der einzelnen Lieder wird analysiert
und abgespeichert. Fehlende Metadaten werden automatisch aus dem Netz
bezogen (<em>Reviews</em> und <em>Lyrics</em>). Statt die Musikstücke aber zueinander in
Relation zu setzen werden die Informationen für eine skalierbare
Suchmaschine benutzt die basierend auf natürlicher Sprache (<em>rock with great
riffs</em>) passende Lieder findet.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Music for my mood</em> <a class="reference internal" href="rst/index.html#lee2006music" id="id12">[5]</a></p>
<blockquote>
<div><p>Die Ähnlichkeit zwischen zwei Stücken wird über die <em>Stimmung</em> in einem
Lied definiert. Diese wird durch Audioanalyse extrahiert.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="schlussfolgerungen">
<h3>2.4 Schlussfolgerungen<a class="headerlink" href="#schlussfolgerungen" title="Permalink to this headline">¶</a></h3>
<p>TODO</p>
<p>Folgende Ideen sind übernehmenswert:</p>
<blockquote>
<div><ul class="simple">
<li>lernendes System, nutzer-erfahrung (last.fm)</li>
<li>Einbeziehung von Metadaten (youtube)</li>
<li>warenkorbanalyse zum lernen nutzen (amazon)</li>
<li>soziele empefhlung (myspace)</li>
<li>mood basiert (musicovery) / audio analyse (mirage)</li>
<li>graphen basiert (mufin)</li>
</ul>
</div></blockquote>
<p>Stolpersteine die man vermeiden sollte:</p>
<blockquote>
<div><ul class="simple">
<li>Kaltstart (mufin)</li>
<li>Große Datenmengen (mirage)</li>
<li>Programmiersprache (mirage)</li>
<li>Keine Abhängigkeit von Audiodaten (mirage)</li>
<li>Lizenz (mufin)</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="anforderungen">
<h3>2.5 Anforderungen<a class="headerlink" href="#anforderungen" title="Permalink to this headline">¶</a></h3>
<p>Nachdem man sich also das Umfeld angeschaut hat kann man versuchen
<em>Anforderungen</em> abzuleiten die eine gute Schnittmenge aus den obigen Plattformen
und Arbeiten bildet, welche dann das System erfüllen muss.</p>
<p>Dabei wird zwischen <strong>technischen Anforderungen</strong> und <strong>weichen Anforderungen</strong>
unterschieden - erstere sind atomar, sprich sie können ganz oder gar nicht
erfüllt werden, letztere können partiell erfüllt werden.</p>
<div class="section" id="technische-anforderungen">
<h4>2.5.1 Technische Anforderungen<a class="headerlink" href="#technische-anforderungen" title="Permalink to this headline">¶</a></h4>
<div class="section" id="performante-empfehlungen">
<span id="anf-performance"></span><h5>2.5.1.1 Performante Empfehlungen<a class="headerlink" href="#performante-empfehlungen" title="Permalink to this headline">¶</a></h5>
<p>Ausstellen von Empfehlungen muss performant möglich sein.</p>
<p>Da später sehr viele Anfragen, unter Umständen gleichzeitig, an das System
gestellt werden darf auch eine Abfrage von 100 Empfehlungen nicht länger
als eine Sekunde dauern.</p>
<p>Die eigentliche Arbeit muss daher in einem vorgelagerten Analyse-Schritt
erfolgen und die daraus gewonnenen Kenntnisse in einer geeigneten
Datenstruktur gespeichert werden.</p>
</div>
<div class="section" id="empfehlungen-bilden-eine-kette">
<span id="anf-chain"></span><h5>2.5.1.2 Empfehlungen bilden eine Kette<a class="headerlink" href="#empfehlungen-bilden-eine-kette" title="Permalink to this headline">¶</a></h5>
<p>Wird eine Anfrage an das System gestellt so wird ein Iterator zurückgegeben
der alle dem System bekannten Songs nach Relevanz absteigend sortiert ausgibt.</p>
</div>
<div class="section" id="handhabung-groszer-datenmengen">
<span id="anf-data"></span><h5>2.5.1.3 Handhabung großer Datenmengen.<a class="headerlink" href="#handhabung-groszer-datenmengen" title="Permalink to this headline">¶</a></h5>
<p>Groß definiert sich hierbei durch das Einsatzszenario. Bei privaten
Musiksammlungen beträgt die maximale Größe die problemlos unterstützt werden
soll bis zu 40.000 Lieder.</p>
<p>Größere Datenmengen, wie sie vlt. bei Webradios vorkommen, sollen auch unterstützt
werden. Hier ist allerdings dann ein höherer Rechenaufwand gerechtfertigt.</p>
</div>
<div class="section" id="lizenz">
<span id="anf-license"></span><h5>2.5.1.4 Lizenz<a class="headerlink" href="#lizenz" title="Permalink to this headline">¶</a></h5>
<p>Die Lizenz sollte einen libertären Einsatz ermöglichen und sicherstellen dass
Weiterentwicklungen in das Projekt zurückfließen.</p>
<p>Die GPLv3 Lizenz erfüllt diese Bedingungen. Der kommerzielle Einsatz ist
erwünscht.</p>
</div>
<div class="section" id="begrundbarkeit">
<span id="anf-reasoning"></span><h5>2.5.1.5 Begründbarkeit<a class="headerlink" href="#begrundbarkeit" title="Permalink to this headline">¶</a></h5>
<p>Empfehlungen sollen begründbar sein.</p>
<p>Es muss möglich sein welche Merkmale eines Songs zu der Empfehlung geführt
haben.</p>
</div>
</div>
<div class="section" id="weiche-anforderungen">
<h4>2.5.2 Weiche Anforderungen<a class="headerlink" href="#weiche-anforderungen" title="Permalink to this headline">¶</a></h4>
<div class="section" id="anpassungsfahige-api">
<span id="anf-api"></span><h5>2.5.2.1 Anpassungsfähige API<a class="headerlink" href="#anpassungsfahige-api" title="Permalink to this headline">¶</a></h5>
<p>Die bereitgestellte API muss auf die stark variierende Qualität und Form von
Musiksammlungen eingestellt sein.</p>
<p>Viele existierende Musiksammlungen sind unterschiedlich gut mit Metadaten
(<em>Tags</em>) versorgt. So sind manche Tags gar nicht erst vorhanden oder sind
je nach Format und verwendeten Tagging-Tool/Datenbank anders benannt.</p>
<p>Das fertige System soll mit Szenarien zurecht kommen wo lediglich die
Metadaten der zu untersuchenden Songs zur Verfügung stehen, aber nicht die
eigentlichen Audio-Daten. Dies kann beispielsweise vorteilhaft in Fällen
sein bei denen man die Lieder nicht selbst besitzt aber Zugriff auf
Musikdatenbanken wie <em>MusicBrainz</em>.</p>
</div>
<div class="section" id="programmiersprachen-agnostisch">
<span id="anf-agnostic"></span><h5>2.5.2.2 Programmiersprachen agnostisch<a class="headerlink" href="#programmiersprachen-agnostisch" title="Permalink to this headline">¶</a></h5>
<p>Das System soll von mehreren Programmiersprachen aus benutzbar sein.</p>
<p>Dieses Ziel könnte entweder durch verschiedene Languagebindings erreicht
werden, oder alternativ durch eine Server/Client Struktur mit einem
definierten Protokoll in der Mitte.</p>
<p>Portabilität ist für das erste zweitrangig.
Für den Prototypen sollen lediglich unixoide Betriebssysteme, im speziellen
<em>Arch Linux</em> <a class="reference internal" href="rst/index.html#jv6" id="id13">[Link-11]</a>, dem bevorzugten Betriebssystem des Autors, unterstützt werden.</p>
</div>
<div class="section" id="demonstrations-und-debuggeranwendung-inkludiert">
<span id="anf-demo"></span><h5>2.5.2.3 Demonstrations und Debuggeranwendung inkludiert<a class="headerlink" href="#demonstrations-und-debuggeranwendung-inkludiert" title="Permalink to this headline">¶</a></h5>
<p>Eine Demonstrations-Anwendung sollte entwickelt werden die zur
Fehlersuche, Verbesserung und als Einsatzbeispiel dient.</p>
<p>Als Demo-Anwendung eignet sich ein Musicplayer der dem Nutzer mithilfe des
zu entwickelnden System Musikstücke vorschlägt und optimalerweise diese
Empfehlung auch <em>begründen</em> kann. Daher soll diese Anwendung auch als
<em>Debugger</em> dienen.</p>
<p>Die Demoanwendung sollte dabei auf den freien MPD-Client <em>Moosecat</em> <a class="reference internal" href="rst/index.html#jh7" id="id14">[Link-12]</a>
aufsetzen.</p>
<div class="admonition-exkurs-zu-moosecat admonition">
<p class="first admonition-title">Exkurs zu <em>Moosecat</em>:</p>
<p>Moosecat ist ein vom Auto seit 2012 entwickelter GPLv3 lizensierter
MPD-Client. Im Gegensatz zu den meisten, etablierten Clients hält er
eine Zwischendatenbank die den Zustand des Servers spiegelt. Dadurch
wird die Netzwerklast und die Startzeit reduziert und interessante
Feature wie Volltextsuche wird möglich.</p>
<p class="last">Er wird in Python, Cython und C entwickelt und befindet sich noch im
Entwicklungsstadium.</p>
</div>
</div>
<div class="section" id="einfaches-information-retrieval">
<span id="anf-retrieval"></span><h5>2.5.2.4 Einfaches <em>Information Retrieval</em><a class="headerlink" href="#einfaches-information-retrieval" title="Permalink to this headline">¶</a></h5>
<p>Es sollte einfach sein fehlende Daten zu beschaffen.</p>
<p>In den meisten privaten Musisammlungen sind die wichtigsten Attribute
<em>getaggt</em> - sprich in der Audiodatei sind Werte wie <em>Artist</em>, <em>Album</em> und
<em>Titel</em> hinterlegt. Manche Attribute sind allerdings schwerer zu bekommen,
wie beispielsweise die <em>Lyrics</em> zu einem bestimmten <em>Titel</em> oder auch das
<em>Genre</em> eines Albums</p>
<p>Es sollte aus Komfortgründen auf einface Art und Weise möglich sein externe
Bibliotheken zur Datenbeschaffung in <em>libmunin</em> einzubinden.
Für diesen Einsatz ist <em>libglyr</em> <a class="reference internal" href="rst/index.html#xu" id="id15">[Link-13]</a> gut geeignet.</p>
<div class="admonition-exkurs-zu-libglyr admonition">
<p class="first admonition-title">Exkurs zu <em>libglyr</em>:</p>
<p><em>libglyr</em> ist eine vom Autor seit Ende 2010
entwickelte C-Bibliothek um Musikmetadatensuchmaschine um schwer zu
besorgende Daten wie die Lyrics, Coverart und</p>
<p class="last">Sie ist GPLv3 lizensiert und wird unter anderem im
<em>GnomeMusicPlayerClient (gmpc)</em>, vielen Shellskripten eingesetzt und
natürlich in dem oben genannten <em>moosecat</em>.</p>
</div>
</div>
<div class="section" id="anpassungsfahigkeit-an-den-benutzer">
<span id="anf-learning"></span><h5>2.5.2.5 Anpassungsfähigkeit an den Benutzer<a class="headerlink" href="#anpassungsfahigkeit-an-den-benutzer" title="Permalink to this headline">¶</a></h5>
<p>Das System muss mit der Zeit sich dem User anpassen.</p>
<p>Mit der Zeit soll es <em>bessere</em> Empfehlungen liefern als am Anfang.
Es soll dabei auf explizite und auf implizite Weise lernen. Beim expliziten
Lernen gibt der User Tipps (beispielsweise kann er eine Empfehlung
bewerten), beim implizierten Lernen wird das Verhalten des Users beobachtet
und daraus werden Schlussfolgerungen getroffen.</p>
</div>
</div>
<div class="section" id="nicht-anforderungen">
<h4>2.5.3 Nicht-Anforderungen<a class="headerlink" href="#nicht-anforderungen" title="Permalink to this headline">¶</a></h4>
<p>Folgendes sind keine Probleme die von <em>libmunin</em> gelöst werden müssen:</p>
<blockquote>
<div><ul>
<li><p class="first">Einpflegen manuell ersteller Empfehlungen</p>
<blockquote>
<div><p>Dies ist per Wrapper um die Library möglich.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Social-based music recommendation</em></p>
<blockquote>
<div><p><em>libmunin</em> soll eine rein <em>Content-based music recommendation</em> engine
werden. TODO: Erklären.</p>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="zielgruppe">
<h3>2.6 Zielgruppe<a class="headerlink" href="#zielgruppe" title="Permalink to this headline">¶</a></h3>
<p><em>libmunin</em> soll eine Bibliothek für Entwickler sein. Es stellt also keine
einfach zu nutzende Webseite bereit wie die oben genannten - es kann aber als
Backend dafür dienen.</p>
<p>In frühen Phase sind vor allem interessierte Entwickler die Zielgruppe -
vorzugsweise mit viel Geduld, da sich diese dann auch als Beta-Tester beweise
müssen. Vor allem Entwickler von Musikplayern sind dabei angesprochen die</p>
<p>Vom Autor sind die folgenden zwei Projekte anvisiert:</p>
<blockquote>
<div><ul>
<li><p class="first"><strong>moosecat</strong></p>
<blockquote>
<div><p>Implementierung als Plugin für Dynamische Playlisten.</p>
</div></blockquote>
</li>
<li><p class="first"><strong>mopidy</strong> <a class="reference internal" href="rst/index.html#w5" id="id16">[Link-14]</a></p>
<blockquote>
<div><div class="admonition-exkurs-zu-mopidy admonition">
<p class="first admonition-title">Exkurs zu <em>mopidy</em></p>
<p class="last">Mopidy ist eine Alternative Implementierung zum <em>MusicPlayerDaemon
(MPD)</em> in Python mit erweiterten Features. Sie bietet eine Anbindung
zu Music-Streaming-Plattformen wie <em>Spotify</em>. Dabei ist es
kompatibel mit den existierenden MPD-Clients.</p>
</div>
<p>Da die Entwickler eine Möglichkeit suchen um Dynamische Playlists zu
implementieren <a class="reference internal" href="rst/index.html#xvg" id="id17">[Link-15]</a> wäre dies ein guter Anlaufpunkt.</p>
</div></blockquote>
</li>
</ul>
</div></blockquote>
<p>Später kann ein Kommandozeilen-Programm entwickelt werden dass eine beliebige
Musksammlung einliest und das daraus gewonne Wissen auf Platte speichert.
Ein weiteres Kommandozeilenprogramm könnte dieses dann einlesen und frei
formattierbare Empfehlungen ausgeben. Besonders für Shellskripte wäre dies
sicherlich interessant.</p>
<p>Basierend darauf kann auch ein DBUS-Service erstellt werden der diese gewonnene
Daten Programmiersprachen-agnostisch anderen Anwendungen bereitstellt. Der
Vorteil ist dabei dass es eine zentrale Anwendung gäbe - eine mehrfache Analyse
der Musiksammlung von verschiedenen Programmen würde dabei entfallen.</p>
</div>
</div>
<span id="document-rst/III/index"></span><div class="section" id="design">
<h2>3 Design<a class="headerlink" href="#design" title="Permalink to this headline">¶</a></h2>
<blockquote class="epigraph">
<div><div class="line-block">
<div class="line"><em>If the implementation is hard to explain, it's a bad idea.</em></div>
<div class="line"><em>If the implementation is easy to explain, it</em> may <em>be a good idea.</em></div>
</div>
<p class="attribution">&mdash;<em>Zen of Python</em>, <tt class="docutils literal"><span class="pre">import</span> <span class="pre">this</span></tt></p>
</div></blockquote>
<div class="section" id="architektur">
<h3>3.1 Architektur<a class="headerlink" href="#architektur" title="Permalink to this headline">¶</a></h3>
<p>Baukastenprinzip</p>
</div>
<div class="section" id="algorithmik">
<h3>3.2 Algorithmik<a class="headerlink" href="#algorithmik" title="Permalink to this headline">¶</a></h3>
<p>Die genaue Beschreibung der Algorithmik wird in der Bachelorarbeit detailliert
besprochen. Hier nur ein kurzer Überblick was mit welchem Ziel implementiert
wird.</p>
<div class="section" id="grunduberlegungen">
<h4>3.2.1 Grundüberlegungen<a class="headerlink" href="#grunduberlegungen" title="Permalink to this headline">¶</a></h4>
<p>Um die Distanzen zu speichern wird bei vielen Datamining-Projekten eine
Distanzmatrix genutzt - also eine quadratische Dreiecksmatrix in der
die Distanzen von jedem Dokument zu jedem anderen gespeichert werden.</p>
<p>Da das System auch für eine sehr hohe Anzahl von Songs funktionieren soll
schließt sich die Benutzung einer Distanzmatrix allerdings von alleine aus.
Nehmen wir an ein Benutzer möchte seine Musiksammlung mit 40.000 Liedern
importieren, so bräuchten wir soviele Felder in der Matrix:</p>
<div class="math">
\[\frac{(40.000^2 - 40.0000)}{2} = 799.980.000\]</div>
<p>Nimmt man für jedes Feld einen günstig geschätzten Speicherverbrauch von 4 Byte
an, so bräuchte man allein für die Distanzmatrix hier aufgerundet 3 Gigabyte
Hauptspeicher - was selbst für diesen günstig geschätzten Fall unakzeptabel
wäre. Auch eine Sparsematrix wäre hier kaum sinnvoll da in allen Fällen ja etwas
weniger als die Hälfte aller Felder befüllt ist.</p>
<p>Man muss also versuchen nur eine bestimmte Anzahl von Distanzen für einen Song
zu speichern - vorzugsweise eine Menge von Songs mit der kleinsten
<a class="reference internal" href="rst/index.html#term-distanz"><em class="xref std std-term">Distanz</em></a>. Als geeignete Datenstruktur erscheint hier ein Graph - die
Knoten desselben sind die Songs und die Kanten dazwischen die Distanzen.</p>
<p>TODO: Erläuterung: kNN Graph</p>
</div>
<div class="section" id="graphenoperationen">
<h4>3.2.2 Graphenoperationen<a class="headerlink" href="#graphenoperationen" title="Permalink to this headline">¶</a></h4>
<p>Angenommen jeder <a class="reference internal" href="rst/index.html#term-song"><em class="xref std std-term">Song</em></a> ist eine Mapping von Attributen zu Werten, so
können wir für jedes Attribut eine <a class="reference internal" href="rst/index.html#term-distanzfunktion"><em class="xref std std-term">Distanzfunktion</em></a> definieren. Nach
einer bestimmten Gewichtung können wir dann die einzelnen Distanzen
zusammenrechnen und zu einer gemeinsamen <a class="reference internal" href="rst/index.html#term-distanz"><em class="xref std std-term">Distanz</em></a> zusammenschmelzen.</p>
<p>Um mit unseren Graphen arbeiten zu können müssen wir einige Operationen auf ihm
definieren:</p>
<div class="section" id="rebuild">
<h5>3.2.2.1 rebuild<a class="headerlink" href="#rebuild" title="Permalink to this headline">¶</a></h5>
<p>Bevor der Graph benutzt werden kann muss er natürlich erstmal aufgebaut werden.
Der naive Ansatz wäre dabei für jeden Song die Distanzen zu jedem anderen Song
zu berechnen - dies hätte einen Aufwand von <span class="math">\(O(n^2)\)</span> zur Folge. Dies ist
aus oben genannten Gründen ebenfalls kaum wünschenswert.</p>
<p>Deshalb kann die <tt class="docutils literal"><span class="pre">rebuild</span></tt> keinen <em>perfekten</em> Graph erzeugen sondern muss für
hinreichend große Datenmengen auf eine Approximation zurückgreifen.</p>
<p>Nach dem Aufbau sollte ein ungerichteter Graph dabei herauskommen im dem
idealerweise jeder Knoten vom jedem anderen Knoten erreichbar ist - es sollten
also keine <em>Inseln</em> dabei entstehen. Es gibt keine maximale Anzahl von Nachbarn
die ein Song haben darf - lediglich einen <em>Richtwert</em>.</p>
</div>
<div class="section" id="add">
<h5>3.2.2.2 add<a class="headerlink" href="#add" title="Permalink to this headline">¶</a></h5>
<p>Füge einen einzelnen Song zu dem Graphen hinzu, verbinde ihn aber noch nicht.
Dies ist die bevorzugte Operation um viele Songs dem Graphen hinzuzufügen -
beispielsweise am Anfang - da das Verbinden später in einem <tt class="docutils literal"><span class="pre">rebuild</span></tt>-Schritt
erledigt werden kann.</p>
</div>
<div class="section" id="insert">
<h5>3.2.2.3 insert<a class="headerlink" href="#insert" title="Permalink to this headline">¶</a></h5>
<p>Fügen einen einzelnen Song zu dem Graphen hinzu und verbinde ihn. Suche dazu
erst eine passende Stelle in der er eingepasst wird.</p>
</div>
<div class="section" id="remove">
<h5>3.2.2.4 remove<a class="headerlink" href="#remove" title="Permalink to this headline">¶</a></h5>
<p>Entferne einen einzelnen Song aus dem Graphen und versuche das entstandene
<em>Loch</em> zu flicken indem die Nachbarn des entfernte Songs untereinander
verkuppelt werden.</p>
</div>
<div class="section" id="modify">
<h5>3.2.2.5 modify<a class="headerlink" href="#modify" title="Permalink to this headline">¶</a></h5>
<p>Manchmal ist es nötig das Attribut eines einzelnen Songs - wie beispielsweise
das stark vom Benutzer abhängige <strong>Rating</strong> - zu ändern. Dabei wird der Song
erst mittels <tt class="docutils literal"><span class="pre">remove</span></tt> entfernt, die Attribute werden angepasst und er wird
mittels <tt class="docutils literal"><span class="pre">insert</span></tt> wieder eingefügt.</p>
</div>
<div class="section" id="fixing">
<h5>3.2.2.6 fixing<a class="headerlink" href="#fixing" title="Permalink to this headline">¶</a></h5>
<p>Durch das Löschen und Hinzufügen von Songs können <em>Einbahnstraßen</em> im Graphen
entstehen. Durch dem nachgelagerten <em>fixing</em> Schritt werden diese, nach
bestimmten Regeln, entweder entfernt oder in bidirektionale Verbindungen
umgebaut.</p>
</div>
</div>
<div class="section" id="ausstellen-von-empfehlungen">
<h4>3.2.3 Ausstellen von Empfehlungen<a class="headerlink" href="#ausstellen-von-empfehlungen" title="Permalink to this headline">¶</a></h4>
<p>Das Ausstellen von Empfehlungen wird durch das Traversieren des Graphen
mittelseiner Breitensuche erledigt. Dabei wird der Ursprung durch ein
sogenannten <a class="reference internal" href="rst/index.html#term-seedsong"><em class="xref std std-term">Seedsong</em></a> bestimmt. Anschaulich wäre der Seedsong bei einer
Anfrage wie ,,10 ähnliche Songs zu <em>The Beatles - Yellow Submarine</em> `` eben
dieser Song.</p>
<p>Aus der funktionalen Programmierung wurde dabei das Konzept der <em>Infinite
Iterators</em> übernommen: Anstatt eine bestimmte Anzahl von Empfehlungen als Liste
wird ein Versprechen herauzugeben die Empfehlungen genau dann zu berechnen wenn
sie gebraucht werden (<em>Layz Evaluation</em>). Dadurch ist auch die Zahl der
zu gebenden Empfehlungen variabel - was sehr nützlich beim Erstellen einer
dynamischen Playlist ist.</p>
<p>Es können auch mehrere Seedsongs verwendet werden - dann werden die einzelnen
<em>Iteratoren</em> im Reißschlußverfahren verwebt.</p>
</div>
<div class="section" id="filtern-von-empfehlungen">
<h4>3.2.4 Filtern von Empfehlungen<a class="headerlink" href="#filtern-von-empfehlungen" title="Permalink to this headline">¶</a></h4>
<p>Oft es nötig die gegebenen Empfehlungen noch zusätzlich zu filtern. Das hat den
simplen Grund das im Graphen einzelne Alben einzelne <em>Cluster</em> bilden - die
Lieder auf einem Album sind unter sich sehr ähnlich. Da man aber vermeiden
möchte dass zu einem Seed-Song ein Lied vom selben Album oder gar selben
Künstler empfohlen wird müssen diese beim Iterieren über den Graphen ausgesiebt
werden.</p>
<p>Dazu werden die zuletzt gegebenen Empfehlunge betrachtet - ist beispielsweise in
den letzten 5 Empfehlungen der gleiche Artist bereits vorhanden so wird die
Empefhlunge gesiebt.</p>
</div>
<div class="section" id="lernen-durch-die-history">
<h4>3.2.5 Lernen durch die History<a class="headerlink" href="#lernen-durch-die-history" title="Permalink to this headline">¶</a></h4>
<p>Nur eine bestimmte Anzahl von Regeln wird gespeichert - zuviele Regeln würden
<em>historische Altlasten</em> immer weiter mitschleppen und der aktuelle Geschmack des
Benutzers würde nicht widergespiegelt werden.</p>
</div>
</div>
<div class="section" id="integration-von-libmunin-in-die-umwelt">
<h3>3.3 Integration von libmunin in die Umwelt<a class="headerlink" href="#integration-von-libmunin-in-die-umwelt" title="Permalink to this headline">¶</a></h3>
<div class="figure align-center">
<a class="reference internal image-reference" href="../../_images/integration.svg"><img alt="Integrationsübersicht" src="../../_images/integration.svg" width="100%" /></a>
<p class="caption">Wie fügt sich libmunin in seine Umgebung ein?</p>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="../../_images/munin_startup.svg"><img alt="Allgemeine Benutzung" src="../../_images/munin_startup.svg" width="75%" /></a>
<p class="caption">Allgemeine Benutzung von libmunin</p>
</div>
</div>
<div class="section" id="periphere-komponenten">
<h3>3.4 Periphere Komponenten<a class="headerlink" href="#periphere-komponenten" title="Permalink to this headline">¶</a></h3>
<p>Jetzt wissen wir wie unsere interne Datenstruktur aussieht und wie diese sich in
die Umwelt einfügen muss. Wie also kann man die Schnittstellen zwischen beiden
bilden?</p>
<ul class="simple">
<li>Musikdaten müssen importiert werden</li>
<li>...</li>
</ul>
<div class="figure align-center">
<a class="reference internal image-reference" href="../../_images/arch.svg"><img alt="Architekturübersicht." src="../../_images/arch.svg" width="100%" /></a>
<p class="caption">Grobe Übersicht über die Architektur.</p>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="../../_images/provider_process.svg"><img alt="Der Werdegang eines Attributes" src="../../_images/provider_process.svg" width="75%" /></a>
<p class="caption">Wie wird ein einzelnes Attribut verarbeitet?</p>
</div>
</div>
<div class="section" id="entwurf-der-software">
<h3>3.5 Entwurf der Software<a class="headerlink" href="#entwurf-der-software" title="Permalink to this headline">¶</a></h3>
<p>Da wir jetzt wissen aus welchen Komponenten unsere Software besteht können wir uns
Gedanken darüber machen wie diese einzelnen Teile konkret aussehen.
Im folgenden werden die ,, <em>Hauptakteure</em> '' der Software vorgestellt:</p>
<div class="section" id="maske">
<h4>3.5.1 Maske<a class="headerlink" href="#maske" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Beschreibung der Musikdatenbank die von außen reinkommt.</li>
<li>Besteht aus einem Mapping, bei dem die keys den Namen eines Attributes
festlegt das ein einzelner Song haben wird, das zugehörige Value legt
den dafür zuständigen Provider, die zuständige Distanzfunktion und
wie stark dieses Attribut des Songs gewichtet werden soll.</li>
</ul>
</div>
<div class="section" id="session">
<h4>3.5.2 Session<a class="headerlink" href="#session" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>API Entry für alle Funktionen</li>
<li>Speichert songs ab</li>
<li>Speichert die Maske</li>
</ul>
</div>
<div class="section" id="song">
<h4>3.5.3 Song<a class="headerlink" href="#song" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Speichert nur values, keine keys.</li>
</ul>
</div>
<div class="section" id="distance">
<h4>3.5.4 Distance<a class="headerlink" href="#distance" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Speichert alle Teildistanzen, statt einzelne weighted Distanz.</li>
<li>Macht 'explanations' leicht.</li>
</ul>
</div>
</div>
</div>
<span id="document-rst/IV/index"></span><div class="section" id="implementierung">
<h2>4 Implementierung<a class="headerlink" href="#implementierung" title="Permalink to this headline">¶</a></h2>
<blockquote class="epigraph">
<div><p>'' <em>Programmieren Sie immer so, als wäre der Typ, der den Code pflegen muss, ein
gewaltbereiter Psychopath, der weiß, wo Sie wohnen.</em> ''</p>
<p class="attribution">&mdash;<em>Peter Stöhr</em></p>
</div></blockquote>
<div class="section" id="kurze-implementierungshistorie">
<h3>4.1 Kurze Implementierungshistorie<a class="headerlink" href="#kurze-implementierungshistorie" title="Permalink to this headline">¶</a></h3>
<p>Probleme:</p>
<blockquote>
<div><ul class="simple">
<li>Graphenaufbau (combinations = teuer)</li>
<li>Festlegung von distance_add funktionsweise</li>
</ul>
</div></blockquote>
<p>Parallel zur Implementierugn wurde ein ,,Tagebuch'' <a class="reference internal" href="rst/index.html#thv" id="id1">[Link-16]</a> verfasst das
dazu dienen sollte Ideen und Geschehnisse festzuhalten - weniger als Information
für Dritte.</p>
</div>
<div class="section" id="liste-verfugbarer-provider-und-distanzfunktionen">
<h3>4.2 Liste verfügbarer Provider und Distanzfunktionen<a class="headerlink" href="#liste-verfugbarer-provider-und-distanzfunktionen" title="Permalink to this headline">¶</a></h3>
<p>Insgesamt wurden 13 unterschiedliche Provider implementiert - davon variieren
einige allerdings nur in Details. Dazu gesellen sich 9 Distanzfunktionen - auch
manche davon unterscheiden sich nur in ihrer Fusionierungsmethode.</p>
<div class="section" id="liste-der-distanzfunktionen">
<h4>4.2.1 Liste der Distanzfunktionen<a class="headerlink" href="#liste-der-distanzfunktionen" title="Permalink to this headline">¶</a></h4>
<p>Die genaue Berechnung der Distanz wird in der Bachelorarbeit betrachtet.</p>
<div class="section" id="date">
<h5>4.2.1.1 Date<a class="headerlink" href="#date" title="Permalink to this headline">¶</a></h5>
</div>
<div class="section" id="moodbar">
<h5>4.2.1.2 Moodbar<a class="headerlink" href="#moodbar" title="Permalink to this headline">¶</a></h5>
</div>
<div class="section" id="rating">
<h5>4.2.1.3 Rating<a class="headerlink" href="#rating" title="Permalink to this headline">¶</a></h5>
</div>
<div class="section" id="bpm">
<h5>4.2.1.4 BPM<a class="headerlink" href="#bpm" title="Permalink to this headline">¶</a></h5>
</div>
<div class="section" id="wordlist-levenshtein-keywords">
<h5>4.2.1.5 Wordlist, <tt class="docutils literal"><span class="pre">Levenshtein</span></tt>, <tt class="docutils literal"><span class="pre">Keywords</span></tt><a class="headerlink" href="#wordlist-levenshtein-keywords" title="Permalink to this headline">¶</a></h5>
</div>
<div class="section" id="genretreeavglink-genretree">
<h5>4.2.1.6 GenreTreeAvgLink, <tt class="docutils literal"><span class="pre">GenreTree</span></tt><a class="headerlink" href="#genretreeavglink-genretree" title="Permalink to this headline">¶</a></h5>
</div>
</div>
<div class="section" id="id2">
<h4>4.2.2 Liste der Distanzfunktionen<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h4>
<p>Die genaue Funtkionsweise der Provider wird in der Bachelorarbeitet betrachtet.
Im folgenden wird nur eine Auflistung verfügbarer Provider gegeben und welche
Eingabe sie erwarten sowie welche Ausgabe sie produzieren.</p>
<div class="section" id="id3">
<h5>4.2.2.1 Date<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h5>
<p>Wandelt und normalisiert ein Datum dass als String übergeben wird zu einer
Jahreszahl (<em>1975</em> beispielsweise). Dabei werden die häufigsten
Datum-Formattierungen automatisch erkannt. Dies ist nötig da je nach Region ganz
unterschiedliche Datumsangaben in den Audiofiles getaggt sind.</p>
</div>
<div class="section" id="id4">
<h5>4.2.2.2 Moodbar<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h5>
<p>Berechnet mit dem <tt class="docutils literal"><span class="pre">moodbar</span></tt> (TODO: zitieren) Programm aus einen beliebigen
Audio File einen Vektor mit 1000 RGB-Farbwerten. Jeder dieser Farbwerte
repräsentiert den Anteil niedriger Frequenzen (rot), mittlerer (grün) und
hoher Frequenzen (blau) in einem Tausendstel des Audiostücks.</p>
<p>Obwohl man aus dem Namen dises Verfahren schließen könnte dass hier die
<em>Stimmung</em> im Lied angedeutet wird, kann man aus diesen Informationen
lediglich herauslesen wie ,,engergetisch'' ein Lied zu einem bestimmten
Zeitpunkt ist - mit etwas Glück kann man auch Instrumente erkennen - so ist
die Kombination von E-Gitarre und Drums oft ein helles Türkis.</p>
<p>Aus diesem RGB-Vektoren werden die prägnantesten Merkmale abgeleitet - die
dominaten Farben, der Stilleanteil (<em>schwarz</em>) und einige weitere Merkmale.</p>
<p>Dieser Provider kommt in drei verschiedenen Ausführungen daher die sich in dem
Typ ihrer Eingabe unterscheiden:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">Moodbar</span></tt>: Nimmt eine Liste von 1000 RGB-Werten.</li>
<li><tt class="docutils literal"><span class="pre">MoodbarFile</span></tt>: Nimmt ein Pfad zu einem von der <tt class="docutils literal"><span class="pre">moodbar</span></tt> erstellten Datei
entgegen die einen Vektor aus 1000 RGB-Werten binär beeinhaltet.</li>
<li><tt class="docutils literal"><span class="pre">MoodbarAudioFile</span></tt>: Nimmt ein Pfad zu einer beliebigen Audio-Datei entgegen
und führt das <tt class="docutils literal"><span class="pre">moodbar</span></tt>-Utility darauf aus falls noch keine weiter Datei mit
demselben Pfad plus der zusätzlichen Endung <tt class="docutils literal"><span class="pre">.mood</span></tt> vorhanden ist.</li>
</ul>
</div>
<div class="section" id="wordlist">
<h5>4.2.2.3 Wordlist<a class="headerlink" href="#wordlist" title="Permalink to this headline">¶</a></h5>
<p>Bricht einen String in eine Liste von Wörter auf.</p>
</div>
<div class="section" id="id5">
<h5>4.2.2.4 BPM<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h5>
<p>Berechnet die ,,Beats-Per-Minute'' eines Lieds (Zitieren) - dies funktioniert
nicht nur für stark beat-lastige Musikrichtungen wie Techno sondern auch für
normale Musikrichtungen.</p>
<p>TODO: Hinweis auf bpm-tools</p>
</div>
<div class="section" id="normalize-artistnormalize-albumnormalize">
<h5>4.2.2.5 Normalize, <tt class="docutils literal"><span class="pre">ArtistNormalize</span></tt>, <tt class="docutils literal"><span class="pre">AlbumNormalize</span></tt><a class="headerlink" href="#normalize-artistnormalize-albumnormalize" title="Permalink to this headline">¶</a></h5>
</div>
<div class="section" id="composite">
<h5>4.2.2.6 Composite<a class="headerlink" href="#composite" title="Permalink to this headline">¶</a></h5>
<p>Erlaubt das Verketten von Providern. Er erste Eingabewert wird dem ersten
Provider in der Kette gegeben und die Ausgabe, ähnliche wie beiner Unix-Pipe,
wird an den nächsten Provider in der Kette als Eingabe weitergegeben.</p>
<p>Ein Anwendungsbeispiel wäre das Zusammenschalten:</p>
<p class="graphviz">
<img src="../../_images/graphviz-f8c4c9bd14f84046e08d58110698391cf9eb7476.png" alt="digraph foo {
size=5;

node [shape=record];

subgraph {
    rank = same; PlyrLyrics; Keywords; Stem
}

&quot;Eingabe: Artist, Album&quot; -&gt;  PlyrLyrics [label=&quot; Sucht im Web &quot;]
PlyrLyrics -&gt; Keywords [label=&quot;liefert Songtext&quot;]
Keywords -&gt; Stem [label=&quot;extrahiert Keywords&quot;]
Stem -&gt; &quot;Ausgabe: Stemmed Keywords&quot; [label=&quot; Wortstamm-Keywords &quot;]
}" />
</p>
</div>
<div class="section" id="stem">
<h5>4.2.2.7 Stem<a class="headerlink" href="#stem" title="Permalink to this headline">¶</a></h5>
</div>
<div class="section" id="genretree">
<h5>4.2.2.8 GenreTree<a class="headerlink" href="#genretree" title="Permalink to this headline">¶</a></h5>
<p>Der wohl komplizierteste <a class="reference internal" href="rst/index.html#term-provider"><em class="xref std std-term">Provider</em></a>.</p>
</div>
<div class="section" id="keywords">
<h5>4.2.2.9 Keywords<a class="headerlink" href="#keywords" title="Permalink to this headline">¶</a></h5>
<p>Extrahiert aus einem Text als Eingabe alle <em>relevanten</em> Stichwörter.
Ein Beispiel dieser <em>Keywords</em> wird in  gezeigt.
Zudem wird die Sprache des Eingabetextes erkannt und mit abgespeichert.</p>
<div class="figure align-center" id="fig-yellow-keywords">
<center><table border="1" class="docutils">
<colgroup>
<col width="15%" />
<col width="85%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head align-right">Rating</th>
<th class="head align-left">Keywords</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td class="align-right">22.558</td>
<td class="align-left">'yellow', 'submarin'</td>
</tr>
<tr class="row-odd"><td class="align-right">20.835</td>
<td class="align-left">'full', 'speed', 'ahead', 'mr'</td>
</tr>
<tr class="row-even"><td class="align-right">8.343</td>
<td class="align-left">'live', 'beneath'</td>
</tr>
<tr class="row-odd"><td class="align-right">5.247</td>
<td class="align-left">'band', 'begin'</td>
</tr>
<tr class="row-even"><td class="align-right">3.297</td>
<td class="align-left">'sea'</td>
</tr>
<tr class="row-odd"><td class="align-right">3.227</td>
<td class="align-left">'green'</td>
</tr>
<tr class="row-even"><td class="align-right">2.797</td>
<td class="align-left">'captain'
...</td>
</tr>
</tbody>
</table>
<p class="caption">Die extrahierten Keywords aus ,,Yellow Submarine'', samt deren
Rating.</p>
</center></div></div>
<div class="section" id="plyrlyrics">
<h5>4.2.2.10 PlyrLyrics<a class="headerlink" href="#plyrlyrics" title="Permalink to this headline">¶</a></h5>
<p>Besorgt mittels <em>libglyr</em> Liedtexte aus dem Internet. Bereits gesuchte Liedtexte
werden dabei zwischengespeichert. Dieser <a class="reference internal" href="rst/index.html#term-provider"><em class="xref std std-term">Provider</em></a> eignet sich besonders im
Zusammenhang mit dem <em>Keywords</em> zusammen als <em>Composite</em> Provider.</p>
</div>
<div class="section" id="discogsgenre">
<h5>4.2.2.11 DiscogsGenre<a class="headerlink" href="#discogsgenre" title="Permalink to this headline">¶</a></h5>
</div>
</div>
</div>
<div class="section" id="paketubersicht">
<h3>4.3 Paketübersicht<a class="headerlink" href="#paketubersicht" title="Permalink to this headline">¶</a></h3>
<p>In der Programmiersprache <em>Python</em> entspricht jede einzelne <tt class="docutils literal"><span class="pre">.py</span></tt> Datei einem
<em>Modul</em>. Die Auflistung unter  soll eine Übersicht darüber
geben welche Funktionen in welchem Modul implementiert worden.</p>
<div class="figure align-center" id="fig-module-tree">
<center><table border="1" class="docutils">
<colgroup>
<col width="18%" />
<col width="18%" />
<col width="16%" />
<col width="7%" />
<col width="42%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>Verzeichnisse</strong></th>
<th class="head">(gekürzt)</th>
<th class="head">&nbsp;</th>
<th class="head">&nbsp;</th>
<th class="head align-left"><strong>Beschreibung</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><strong>munin/</strong></td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td class="align-left">Quelltextverzeichnis</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td><em>__init__.py</em></td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td class="align-left">Versionierungs Info</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td><em>__main__.py</em></td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td class="align-left">Beispielprogramm</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td><em>database.py</em></td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td class="align-left">Implementierung von <tt class="docutils literal"><span class="pre">Database</span></tt></td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td><em>dbus_service.py</em></td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td class="align-left">Unfertiger DBus Service.</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td><em>dbus_client</em></td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td class="align-left">Unfertiger DBus Beispiel-Client.</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td><strong>distance/</strong></td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td class="align-left">Unterverzeichnis für Distanzfunktionen</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td>&nbsp;</td>
<td><em>__init__.py</em></td>
<td>&nbsp;</td>
<td class="align-left">Implementierung von <tt class="docutils literal"><span class="pre">DistanceFunction</span></tt></td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td>&nbsp;</td>
<td><em>bpm.py</em></td>
<td>&nbsp;</td>
<td class="align-left">Implementierung von <tt class="docutils literal"><span class="pre">BPMDistance</span></tt></td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td>&nbsp;</td>
<td><em>date.py</em></td>
<td>&nbsp;</td>
<td class="align-left">Implementierung von <tt class="docutils literal"><span class="pre">DateDistance</span></tt></td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td>&nbsp;</td>
<td><em>...</em></td>
<td>&nbsp;</td>
<td class="align-left">Weitere Subklassen von <tt class="docutils literal"><span class="pre">DistanceFunction</span></tt></td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td><em>session.py</em></td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td class="align-left">Implementierung der <tt class="docutils literal"><span class="pre">Session</span></tt> (API)</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td><em>easy.py</em></td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td class="align-left">Implementierung der <tt class="docutils literal"><span class="pre">EasySession</span></tt></td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td><em>graph.py</em></td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td class="align-left">Implementierung der Graphenoperationen</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td><em>helper.py</em></td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td class="align-left">Gesammelte, oftgenutzte Funktionen</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td><em>history.py</em></td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td class="align-left">Implementierung der <tt class="docutils literal"><span class="pre">History</span></tt> u. Regeln</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td><em>plot.py</em></td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td class="align-left">Visualisierungsfunktionen für Graphen</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td><strong>provider/</strong></td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td class="align-left">Unterverzeichnis für Provider</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td>&nbsp;</td>
<td><em>__init__.py</em></td>
<td>&nbsp;</td>
<td class="align-left">Implementierung von <tt class="docutils literal"><span class="pre">Provider</span></tt></td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td>&nbsp;</td>
<td><em>bpm.py</em></td>
<td>&nbsp;</td>
<td class="align-left">Implementierung von <tt class="docutils literal"><span class="pre">BPMProvider</span></tt></td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td>&nbsp;</td>
<td><em>composite.py</em></td>
<td>&nbsp;</td>
<td class="align-left">Implementierung des <tt class="docutils literal"><span class="pre">CompositeProvider</span></tt></td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td>&nbsp;</td>
<td><em>...</em></td>
<td>&nbsp;</td>
<td class="align-left">Weitere Subklassen von <tt class="docutils literal"><span class="pre">Provider</span></tt></td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td><em>rake.py</em></td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td class="align-left">Implementierung des RAKE-Algorightmus</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td><strong>scripts/</strong></td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td class="align-left">Unterverzeichnis für ,,Test Scripts''</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td>&nbsp;</td>
<td><em>visualizer.py</em></td>
<td>&nbsp;</td>
<td class="align-left">Zeichnet ein mood-file mittels <tt class="docutils literal"><span class="pre">cairo</span></tt></td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td>&nbsp;</td>
<td><em>walk.py</em></td>
<td>&nbsp;</td>
<td class="align-left">Berechnet vieles mood-files parallel</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td><em>song.py</em></td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td class="align-left">Implementierung von <tt class="docutils literal"><span class="pre">Song</span></tt></td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td><strong>stopwords/</strong></td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td class="align-left">Stoppwortimplementierung:</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td>&nbsp;</td>
<td><em>__init__.py</em></td>
<td>&nbsp;</td>
<td class="align-left">Implementierung des Stoppwort-Loader</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td>&nbsp;</td>
<td><strong>data/</strong></td>
<td>&nbsp;</td>
<td class="align-left">Unterverzeichnis für die Stoppwortlisten</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td><em>de</em></td>
<td class="align-left">Gemäß ISO 638-1 benannte Dateien;</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td><em>en</em></td>
<td class="align-left">Pro Zeile ist ein Stoppwort gelistet;</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td><em>es</em></td>
<td class="align-left">Insgesamt 17 verschiedene Listen.</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td><em>...</em></td>
<td class="align-left">&nbsp;</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td><em>testing.py</em></td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td class="align-left">Fixtures und Helper für unittests</td>
</tr>
</tbody>
</table>
<p class="caption">Verzeichnisbaum mit den einzelnen Modulen von *libmunin*</p>
</center></div></div>
<div class="section" id="anwendungsbeispiel">
<h3>4.4 Anwendungsbeispiel<a class="headerlink" href="#anwendungsbeispiel" title="Permalink to this headline">¶</a></h3>
<p>Um ein Gefühl für eine Software-Bibliothek zu bekommen eignet sich oft ein
minimales Beispiel gut. Das folgende Beispiel liest <em>Songs</em> aus einer
(Pseudo-)Datenbank und erstellt dann Empfehlungen für einen davon:</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></div></td><td class="code"><div class="highlight"><pre><span class="hll"><span class="kn">from</span> <span class="nn">munin.easy</span> <span class="kn">import</span> <span class="n">EasySession</span>
</span>
<span class="hll"><span class="n">MY_DATABASE</span> <span class="o">=</span> <span class="p">[</span>
</span>    <span class="c"># Artist:           Album:               Title:             Genre:</span>
    <span class="p">(</span><span class="s">&#39;Akrea&#39;</span>          <span class="p">,</span> <span class="s">&#39;Lebenslinie&#39;</span>      <span class="p">,</span> <span class="s">&#39;Trugbild&#39;</span>       <span class="p">,</span> <span class="s">&#39;death metal&#39;</span><span class="p">),</span>
    <span class="p">(</span><span class="s">&#39;Vogelfrey&#39;</span>      <span class="p">,</span> <span class="s">&#39;Wiegenfest&#39;</span>       <span class="p">,</span> <span class="s">&#39;Heldentod&#39;</span>      <span class="p">,</span> <span class="s">&#39;folk metal&#39;</span><span class="p">),</span>
    <span class="p">(</span><span class="s">&#39;Letzte Instanz&#39;</span> <span class="p">,</span> <span class="s">&#39;Götter auf Abruf&#39;</span> <span class="p">,</span> <span class="s">&#39;Salve te&#39;</span>       <span class="p">,</span> <span class="s">&#39;folk rock&#39;</span><span class="p">),</span>
    <span class="p">(</span><span class="s">&#39;Debauchery&#39;</span>     <span class="p">,</span> <span class="s">&#39;Continue to Kill&#39;</span> <span class="p">,</span> <span class="s">&#39;Apostle of War&#39;</span> <span class="p">,</span> <span class="s">&#39;brutal death&#39;</span><span class="p">)</span>
<span class="p">]</span>

<span class="hll"><span class="n">session</span> <span class="o">=</span> <span class="n">EasySession</span><span class="p">()</span>
</span><span class="hll"><span class="k">with</span> <span class="n">session</span><span class="o">.</span><span class="n">transaction</span><span class="p">():</span>
</span>    <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="p">(</span><span class="n">artist</span><span class="p">,</span> <span class="n">album</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">genre</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">MY_DATABASE</span><span class="p">):</span>
<span class="hll">         <span class="n">session</span><span class="o">.</span><span class="n">mapping</span><span class="p">[</span><span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">({</span>
</span>             <span class="s">&#39;artist&#39;</span><span class="p">:</span> <span class="n">artist</span><span class="p">,</span>
             <span class="s">&#39;album&#39;</span><span class="p">:</span> <span class="n">album</span><span class="p">,</span>
             <span class="s">&#39;title&#39;</span><span class="p">:</span> <span class="n">title</span><span class="p">,</span>
             <span class="s">&#39;genre&#39;</span><span class="p">:</span> <span class="n">genre</span>
         <span class="p">})]</span> <span class="o">=</span> <span class="n">idx</span>

<span class="hll"><span class="k">for</span> <span class="n">munin_song</span> <span class="ow">in</span> <span class="n">session</span><span class="o">.</span><span class="n">recommend_from_seed</span><span class="p">(</span><span class="n">session</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">2</span><span class="p">):</span>
</span>    <span class="k">print</span><span class="p">(</span><span class="n">MY_DATABASE</span><span class="p">[</span><span class="n">munin_song</span><span class="o">.</span><span class="n">uid</span><span class="p">])</span>
</pre></div>
</td></tr></table></div>
<p>Ist <em>libmunin</em> korrekt installiert, so lässt sich dieses Skript als
<tt class="docutils literal"><span class="pre">minimal.py</span></tt> ablegen und folgendermaßen ausführen:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>python minimal.py
<span class="o">(</span><span class="s1">&#39;Vogelfrey&#39;</span>  , <span class="s1">&#39;Wiegenfest&#39;</span>       , <span class="s1">&#39;Heldentod&#39;</span>      , <span class="s1">&#39;folk metal&#39;</span><span class="o">)</span>,
<span class="o">(</span><span class="s1">&#39;Debauchery&#39;</span> , <span class="s1">&#39;Continue to Kill&#39;</span> , <span class="s1">&#39;Apostle of War&#39;</span> , <span class="s1">&#39;brutal death&#39;</span><span class="o">)</span>
</pre></div>
</div>
<div class="section" id="kurze-erlauterung-des-beispiels">
<h4>4.4.1 Kurze Erläuterung des Beispiels<a class="headerlink" href="#kurze-erlauterung-des-beispiels" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first"><strong>Zeile 1:</strong></p>
<p>Der Einstiegspunkt von <em>libmunin's</em> API ist immer eine <em>Session</em>.
Da die Konfiguration einer solchen (Auswahl von Provider, Distanzfunktionen
und Weighting) mitunder recht anstrengend werden kann greifen wir auf eine
Session mit vorgefertigter <a class="reference internal" href="rst/index.html#term-maske"><em class="xref std std-term">Maske</em></a> zurück - die sogenannte
<tt class="docutils literal"><span class="pre">EasySession</span></tt>.</p>
</li>
<li><p class="first"><strong>Zeile 3:</strong></p>
<p>Hier erstellen wir uns eine Pseudo-Datenbank aus vier Liedern mit vier
einzelnen Attributen jeweils.</p>
</li>
<li><p class="first"><strong>Zeile 11:</strong></p>
<p>Hier wird die oben erwähnte <tt class="docutils literal"><span class="pre">EasySession</span></tt> instanziert. Sie dient uns jetzt
als <em>Sitzung</em> - alle relevanten Methoden von <em>libmunin</em> können auf der
<em>Session</em> aufgerufen werden.</p>
</li>
<li><p class="first"><strong>Zeile 12:</strong></p>
<p>Bein initialen Importieren der Datenbank werden alle Songs über die <tt class="docutils literal"><span class="pre">add</span></tt>
Operation hinzugefügt. Da <tt class="docutils literal"><span class="pre">add</span></tt> noch keine Verbindungen zwischen den
einzelnen Songs herstellt stellen wir mit dieser Zeile sicher nach dem
Importieren ein <tt class="docutils literal"><span class="pre">rebuild</span></tt> ausgeführt wird.</p>
</li>
<li><p class="first"><strong>Zeile 14:</strong></p>
<p>Wir iterieren (<strong>Zeile 13</strong>) über alle Songs in unserer Pseudo-Datenbank und
fügen diese der <em>Session</em> hinzu (über die <tt class="docutils literal"><span class="pre">add</span></tt> Operation). zu beachten ist
dabei: Es wird eine Hashtable übergeben in denen bestimmte Schlüssel (wie
<tt class="docutils literal"><span class="pre">artist</span></tt>) von der <tt class="docutils literal"><span class="pre">EasySession</span></tt> vorgegeben sind - erstellt man eine eigene
Session kann man diese nach Belieben Konfigurieren.</p>
<p>Ein Problem dass man bei der Benutzung der Library hat ist: <em>libmunin</em> und der
Nutzter halten zwei verschiedene Datenbanken im Speicher. Der Benutzer
verwaltet die Originaldaten mit denen er arbeitet während <em>libmunin</em> nur
normalisierte Daten speichert. Das Problem dabei: Wie soll der User wissen
welche Empfehlung zu welchen Song in seinen Originaldaten gehört?</p>
<p>Dazu ist ein Mapping erforderlich das
Zu diesem Zwecke geben die Operationen <tt class="docutils literal"><span class="pre">add</span></tt>, <tt class="docutils literal"><span class="pre">insert</span></tt>, <tt class="docutils literal"><span class="pre">modify</span></tt> und
<tt class="docutils literal"><span class="pre">remove</span></tt> eine eindeutige ID zurück die einen von <em>libmunin's</em> Songs
referenziert. Der Benutzer kann diese nutzen um auf eine ID innerhalb <em>seiner</em>
Datenbank zu referenzieren.</p>
<p>Im obigen Beispiel wird die von <tt class="docutils literal"><span class="pre">add</span></tt> zurückgebene ID auf die ID innerhalb
von <em>MY_DATABASE</em> gemappt.</p>
</li>
<li><p class="first"><strong>Zeile 21:</strong></p>
<p>In dieser Zeile geben wir die ersten Empfehlung aus. Wir lassen uns von der
<tt class="docutils literal"><span class="pre">EasySession</span></tt> über die Methode <tt class="docutils literal"><span class="pre">recommend_from_seed</span></tt> zwei Empfehlungen zum ersten
Song der über <tt class="docutils literal"><span class="pre">add</span></tt> hinzugefügt wurde geben. Die Empfehlung selbst wird als
<tt class="docutils literal"><span class="pre">Song</span></tt> Objekt ausgebene - dieses hat unter anderen eine ID gespeichert mit
der wir die ursprünglichen Daten finden können.</p>
</li>
</ul>
<p>Dieses und weitere Beispiele finden sich auf der API-Dokumentation im Web
<a class="reference internal" href="rst/index.html#lx" id="id6">[Link-17]</a>.</p>
</div>
<div class="section" id="kurze-erlauterung-des-outputs">
<h4>4.4.2 Kurze Erläuterung des Outputs<a class="headerlink" href="#kurze-erlauterung-des-outputs" title="Permalink to this headline">¶</a></h4>
<p>Der Output ist nicht weiter überraschend: Da sich nur das Genre effektiv
vergleichen lässt und wir uns von dem ersten Song (,, <em>Trugbild</em> '') zwei
Empfehlungen geben ließen werden die zwei Songs mit dem ähnlichsten Genre
ausgegeben.</p>
<p>[TODO: Den Mini-Graph einfügen]</p>
</div>
</div>
<div class="section" id="trivia">
<h3>4.5 Trivia<a class="headerlink" href="#trivia" title="Permalink to this headline">¶</a></h3>
<div class="section" id="entwicklungsumgebung">
<h4>4.5.1 Entwicklungsumgebung<a class="headerlink" href="#entwicklungsumgebung" title="Permalink to this headline">¶</a></h4>
<p>Als Programmiersprache wurde <em>Python</em> aus folgenden Gründen ausgewählt:</p>
<ul class="simple">
<li>Exzellenter Support für <em>Rapid Prototyping</em> - eine wichtige Eigenschaft bei
nur knapp 3 Monaten Implementierungs-Zeit.</li>
<li>Große Zahl an nützlichen Libraries, besonders für den wissenschaftlichen Einsatz.</li>
<li>Neben <em>C</em> die <em>Lingua Franca</em> des Autors.</li>
</ul>
<p>Alle Quellen die während dieses Projektes entstanden sind finden sich auf der
sozialen Code-Hosting Plattform <em>GitHub</em> <a class="reference internal" href="rst/index.html#y41" id="id7">[Link-18]</a>. Der Vorteil dieser Plattform besteht
darin dass sie von sehr vielen Entwicklern besucht werden, die die Software
ausprobieren und möglicherweise verbessern oder zumindestens die Seite für
spätere Projekte bookmarken.  Daher auch Github's Slogan <em>Social Coding</em>.</p>
<p>Die dazugehörige Dokumentation wird bei jedem commit automatisch aus den
Sourcen, mittels des freien Dokumentationsgenerators Sphinx, auf der
Dokumentations-Hosting Plattform <em>ReadTheDocs</em> gebaut und dort verfügbar
gemacht <a class="reference internal" href="rst/index.html#lx" id="id8">[Link-17]</a>.</p>
<p>Zudem werden pro Commit unittests auf der Continious-Integration Plattform
<em>TravisCI</em> <a class="reference internal" href="rst/index.html#jiu" id="id9">[Link-19]</a> für verschiedene Python-Versionen durchgeführt. Dies hat den Vorteil
dass fehlerhafte Versionen aufgedeckt werden, selbst wenn man vergessen hat die
unittests lokal durchzuführen.</p>
<p>Schlägt der Build fehl so färben sich kleine Buttons in den oben genannten
Diensten rot und man wird per Mail benachrichtigt. (Siehe )</p>
<div class="figure align-center" id="fig-travis-badge">
<img alt="Screenshot der Statusbuttons auf der Github-Seite." src="../../_images/travis_badge.png" />
<p class="caption">Screenshot der Statusbuttons auf der Github-Seite.</p>
</div>
<p>Versionen die als stabil eingestuft werden, werden auf <em>PyPi (Python Package Index)</em>
veröffentlicht <a class="reference internal" href="rst/index.html#o6q" id="id10">[Link-20]</a>, wo sie mithilfe des folgenden Befehles samt
Python-Abhängigkeiten installiert werden können:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>sudo pip install libmunin
</pre></div>
</div>
<p>Auf lokaler Seite wird jede Änderungen versioniert, um die Fehlersuche zu
vereinfachen - im Notfall kann man stets auf funktionierende Versionen
zurückgehen.</p>
<p>Der Quelltext selber wird in <em>gVim</em> geschrieben. Dass sich der Python-Quelltext
dabei an die gängigen Konventionen hält wird durch die Zusatzprogramme <em>PEP8</em>
und <em>flake8</em> überprüft.</p>
<p>Auch dieses Dokument wurde mit einem erweiternten Sphinx erstellt. Dies hat den
Vorteil dass die Arbeit in <em>reStructuredText</em> geschrieben werden kann und
einerseits als PDF und als HTML Variante <a class="reference internal" href="rst/index.html#md" id="id11">[Link-21]</a> erstellt wird.</p>
</div>
<div class="section" id="lines-of-code-loc">
<h4>4.5.2 Lines of Code (<em>LoC</em>)<a class="headerlink" href="#lines-of-code-loc" title="Permalink to this headline">¶</a></h4>
<p>Was die <em>Lines of Code</em> betrifft so verteilen sich insgesamt 4867 Zeilen
Quelltext auf 46 einzelne Dateien. Die im nächsten Kapitel vorgestellte
Demo-Anwendung ist dabei mit eingerechnet. Dazu gesellen sich 2169 Zeilen
Kommentare, die zum größten Teil zur Generation der Online-Dokumentation
genutzt werden.</p>
<p>Dazu kommen einige weitere Zeilen von <em>reStructuredText</em> (einer einfachen
Markup-Sprache) die die Gerüst der Onlinedokumentation bilden:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>wc -l <span class="k">$(</span>find . -iname <span class="s1">&#39;*.rst&#39;</span><span class="k">)</span>
2231 insgesamt
</pre></div>
</div>
</div>
<div class="section" id="sonstige-statistiken">
<h4>4.5.3 Sonstige Statistiken<a class="headerlink" href="#sonstige-statistiken" title="Permalink to this headline">¶</a></h4>
<p>Zudem lassen sich einige Statistiken präsentieren die automatisch aus den
<tt class="docutils literal"><span class="pre">git</span> <span class="pre">log</span></tt> entstanden sind:</p>
<div class="section" id="github-visualisierungen">
<h5>4.5.3.1 GitHub Visualisierungen<a class="headerlink" href="#github-visualisierungen" title="Permalink to this headline">¶</a></h5>
<p><em>GitHub</em> stellt einige optisch ansprechende und interaktive Statistiken bereit
die beispielsweise viel über den eigenen Arbeitszyklus verraten:</p>
<blockquote>
<div><a class="reference internal" href="rst/index.html#ibl" id="id12">[Link-22]</a></div></blockquote>
</div>
<div class="section" id="gitstats-visualisierungen">
<h5>4.5.3.2 gitstats Visualisierungen<a class="headerlink" href="#gitstats-visualisierungen" title="Permalink to this headline">¶</a></h5>
<p>Das kleine Programm <tt class="docutils literal"><span class="pre">gitstats</span></tt> baut aus dem <tt class="docutils literal"><span class="pre">git</span> <span class="pre">log</span></tt> eine HTML-Seite mit
einigen interessanten Statistiken - wie beispielsweise der absoluten Anzahl von
geschriebenen (und wieder gelöschten) Zeilen:</p>
<blockquote>
<div><a class="reference internal" href="rst/index.html#md" id="id13">[Link-21]</a></div></blockquote>
</div>
<div class="section" id="gource-commit-graph-visualisierungsvideo">
<h5>4.5.3.3 gource Commit-Graph Visualisierungsvideo<a class="headerlink" href="#gource-commit-graph-visualisierungsvideo" title="Permalink to this headline">¶</a></h5>
<p><tt class="docutils literal"><span class="pre">gource</span></tt> ist ein Programm das in einem optisch ansprechenden Video zeigt wie
sich das <tt class="docutils literal"><span class="pre">git</span></tt>-Repository mit der Zeit aufbaut:</p>
<p>... TODO ...</p>
</div>
</div>
</div>
</div>
<span id="document-rst/V/index"></span><div class="section" id="test">
<h2>5 Test<a class="headerlink" href="#test" title="Permalink to this headline">¶</a></h2>
<blockquote class="epigraph">
<div><p>'' <em>These plus Antithese gleich Hysterese</em> ''</p>
<p class="attribution">&mdash;<em>Einfach Göttlich, Terry Pratchett</em></p>
</div></blockquote>
<div class="section" id="erfullung-der-anforderungen">
<h3>5.1 Erfüllung der Anforderungen<a class="headerlink" href="#erfullung-der-anforderungen" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="verifizierung">
<h3>5.2 Verifizierung<a class="headerlink" href="#verifizierung" title="Permalink to this headline">¶</a></h3>
<p>Schauen ob das Programm dem Design entspricht</p>
</div>
<div class="section" id="validierung">
<h3>5.3 Validierung<a class="headerlink" href="#validierung" title="Permalink to this headline">¶</a></h3>
<p>Schauen ob das Programm das Problem löst.</p>
</div>
<div class="section" id="demonanwendung-als-debugger">
<h3>5.4 Demonanwendung als Debugger<a class="headerlink" href="#demonanwendung-als-debugger" title="Permalink to this headline">¶</a></h3>
<p>Abseits der Library wurde eine auf dem freien Oberflächen-Framework GTK+-3.0
basierende GUI-Anwendung entwickelt.  Entsprechend <a class="reference internal" href="rst/index.html#anf-demo">2.5.2.3</a> dient diese
nicht nur zum <em>Showoff</em>, sondern auch zur gezielten Fehlersuche.</p>
<p>Die Anwendung, die den ebenfalls nordischen Namen <em>Naglfar</em> erhielt,
implementiert einen MPD-Client. Beim Start ack</p>
<div class="figure align-center" id="fig-demo-overview">
<a class="reference internal image-reference" href="../../_images/demo_overview.svg"><img alt="Übersicht über die Demoanwendung" src="../../_images/demo_overview.svg" width="100%" /></a>
<p class="caption">Übersicht über die Demonanwendung</p>
</div>
<p>Erklärung der Kontrollelemente in .</p>
<div class="section" id="main">
<h4>5.4.1 Main<a class="headerlink" href="#main" title="Permalink to this headline">¶</a></h4>
<p>Die Suche kann mittels <tt class="kbd docutils literal"><span class="pre">Strg-f</span></tt> aktiviert werden.</p>
<ol class="arabic">
<li><p class="first">Views</p>
<blockquote>
<div><ol class="arabic">
<li><p class="first"><em>Database</em> </p>
</li>
<li><p class="first"><em>Playlist</em> </p>
<p>Wie die <em>Database View</em>, zeigt aber lediglich die Songs an die empfohlen
wurden. Sonst ist diese View Funktionsidentisch mit der <em>Database View</em>.</p>
</li>
<li><p class="first"><em>Graph</em> </p>
<p>Im <em>Graphen View</em> kann ein Plot von <em>libmunin's</em> Graphen begutachtet
werden. Dies ist oft nützlich um nachvollziehen welche Empfehlungen warum
gegeben wurden.</p>
</li>
<li><p class="first"><em>Rules</em> </p>
<p>In einer Liste werden alle bekannten <a class="reference internal" href="rst/index.html#term-assoziationsregel"><em class="xref std std-term">Assoziationsregel</em></a>
angezeigt. Dabei wird neben beiden Seiten der Regel auch der Supportcount
und das Rating der Regel angezeigt.</p>
</li>
<li><p class="first"><em>Examine</em> </p>
<p>Hier werden alle Attribute des momentan spielenden Songs angezeigt.
Es wird die von <em>libmunin</em> normalisierte Form angezeigt, also auch, falls
verfügbar, der Originalwert.</p>
<p>Zudem wird die <em>moodbar</em> oben im Fenster geplottet.</p>
</li>
<li><p class="first"><em>History</em> </p>
<p>Neben einer chronologischen Auflistung aller Songs die in letzter Zeit
gehört wurden (Begrenzung auf 1000 Stück) werden hier auch die zuletzt
ausgestellten Empfehlungen (Begrenzung auf 10 Stück) angezeigt.</p>
<p>Letzteres ist für das Debugging der Filter-Funktion nützlich.</p>
</li>
</ol>
</div></blockquote>
</li>
<li><p class="first">Seed Song</p>
</li>
<li><p class="first">Current Song</p>
</li>
<li><p class="first">Playlist</p>
</li>
</ol>
</div>
<div class="section" id="controls">
<h4>5.4.2 Controls<a class="headerlink" href="#controls" title="Permalink to this headline">¶</a></h4>
<ol class="arabic simple" start="5">
<li>Recom Count</li>
<li>Filter</li>
<li>Max. listen</li>
<li>Query Entry</li>
<li>Rating</li>
</ol>
</div>
<div class="section" id="media-controls">
<h4>5.4.3 Media Controls<a class="headerlink" href="#media-controls" title="Permalink to this headline">¶</a></h4>
<p>Typische Bedienelemente eines Audioplayers.</p>
<ol class="arabic" start="10">
<li><p class="first">Playcount</p>
</li>
<li><p class="first">Volume Bar</p>
</li>
<li><p class="first">Title Label</p>
</li>
<li><p class="first">Mode buttons</p>
<p>Umschalten zwischen <em>Random</em>, <em>Single</em>, <em>Repeat</em> und <em>Consume</em>.</p>
</li>
<li><p class="first">Seekbar</p>
<p>Ermöglicht das wahlfreie</p>
</li>
<li><p class="first">Playbuttons</p>
</li>
</ol>
<div class="figure align-center" id="fig-demo-database">
<a class="reference internal image-reference" href="../../_images/demo_database.png"><img alt="Die Datenbank Ansicht" src="../../_images/demo_database.png" style="width: 100%;" /></a>
<p class="caption">Die Datenbank Ansicht - Anzeige aller Songs.</p>
</div>
<div class="figure align-center" id="fig-demo-playlist">
<a class="reference internal image-reference" href="../../_images/demo_playlist.png"><img alt="Die aktuelle Playlist" src="../../_images/demo_playlist.png" style="width: 100%;" /></a>
<p class="caption">Die aktuelle Playlist, bestehend aus den Empfehlungen.</p>
</div>
<div class="figure align-center" id="fig-demo-rules">
<a class="reference internal image-reference" href="../../_images/demo_rules.png"><img alt="Die Regelansicht" src="../../_images/demo_rules.png" style="width: 100%;" /></a>
<p class="caption">Die momentan bekannten Regeln</p>
</div>
<div class="figure align-center" id="fig-demo-graph">
<a class="reference internal image-reference" href="../../_images/demo_graph.png"><img alt="Die Graphenansicht" src="../../_images/demo_graph.png" style="width: 100%;" /></a>
<p class="caption">Der Graph der hinter den Empfehlungen steckt wird hier geplottet.</p>
</div>
<div class="figure align-center" id="fig-demo-history">
<a class="reference internal image-reference" href="../../_images/demo_history.png"><img alt="Die Ansicht der History" src="../../_images/demo_history.png" style="width: 100%;" /></a>
<p class="caption">History-Ansicht, die zuletzt gehörten und empfohlenen Songs.</p>
</div>
<div class="figure align-center" id="fig-demo-examine">
<a class="reference internal image-reference" href="../../_images/demo_examine.png"><img alt="Die Ansicht der Examine-Page" src="../../_images/demo_examine.png" style="width: 100%;" /></a>
<p class="caption">Die ,,Examine'' Page - Die Attribute des aktuellen Songs werden angezeigt.</p>
</div>
</div>
</div>
</div>
<span id="document-rst/VI/index"></span><div class="section" id="zusammenfassung">
<h2>6 Zusammenfassung<a class="headerlink" href="#zusammenfassung" title="Permalink to this headline">¶</a></h2>
<blockquote class="epigraph">
<div><p><em>Human beings, who are almost unique in having the ability to learn from the
experience of others, are also remarkable for their apparent disinclination
to do so.</em></p>
<p class="attribution">&mdash;<em>Douglas Adams, ,,Last Chance to See''</em></p>
</div></blockquote>
<div class="section" id="ausblick">
<h3>6.1 Ausblick<a class="headerlink" href="#ausblick" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="mogliche-weiterentwicklungen">
<h3>6.2 Mögliche Weiterentwicklungen<a class="headerlink" href="#mogliche-weiterentwicklungen" title="Permalink to this headline">¶</a></h3>
<div class="section" id="performance">
<h4>6.2.1 Performance<a class="headerlink" href="#performance" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">Optimierungen um unnötige vergleiche zu verringern, beispiels nur moodbar
vergleichen wenn länge des stückes ähnlich ist.</p>
<p>Ein Beispiel:</p>
<blockquote>
<div><p>Ein Vergleich der Moodbar-Informationen ist nur dann sinnvoll wenn die Länge
der zu Vergleichenden Songs sich nicht um mehr als eine Minute
unterscheiden. Vergleicht man trotzdem erhält man vermutlich:ta</p>
</div></blockquote>
</li>
<li><p class="first">Prinzipiell ist libmunin so generell angelegt dass es sogar für jegliche daten
bei denen es sehr viele dokumente gibt und diese sich als hashtable
repräsentieren lassen.</p>
</li>
</ul>
</div>
<div class="section" id="features">
<h4>6.2.2 Features<a class="headerlink" href="#features" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">Suchengine für natürliche Sprache wie in <a class="reference internal" href="rst/index.html#knees2007music" id="id1">[4]</a></p>
</li>
<li><p class="first">Transitions. Beispieslweise immer &quot;härter werdende musik&quot;</p>
</li>
<li><p class="first">Beziehen und Nutzen weiterer Metadaten (wie Producer, Band-Member)</p>
</li>
<li><p class="first">Auch &quot;disklikes&quot; berücksichtigen (zB. songs die immer gleich geskippt wurden)?</p>
</li>
<li><p class="first">Gemeinsame Nachbarn betrachten bei mehreren Seedsongs.</p>
</li>
<li><p class="first">Similar Artist/Album/Genre...</p>
</li>
<li><p class="first">Einbeziehung der duration als provider/distanz (statistisch untersuchen)</p>
</li>
<li><p class="first">Echte audionanylse mittels aubio <a class="reference internal" href="rst/index.html#fn" id="id2">[Link-23]</a> order MARSYAS <a class="reference internal" href="rst/index.html#hj7" id="id3">[Link-24]</a>.</p>
</li>
<li><p class="first">Echte mood analyse.</p>
</li>
<li><p class="first">(Amazon) artist/album reviews mit einbeziehen, keyword-extraction.</p>
</li>
<li><p class="first">Sprache, Intros und Audio intelligent unterscheiden.</p>
</li>
<li><p class="first">Dbus Service:</p>
<blockquote>
<div><ul class="simple">
<li>Problem: Nutzung von libmunin von anderen Sprachen aus.</li>
<li>Problem: Mehrere Programme wollen Session nutzen.</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">Overlays - dynamische playlisten mit statischen mischen</p>
</li>
<li><p class="first">Fortlaufende dynamische playlisten</p>
</li>
</ul>
</div>
<div class="section" id="convinience-korrektheit">
<h4>6.2.3 Convinience / Korrektheit<a class="headerlink" href="#convinience-korrektheit" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Bessere Speicherung der Session auf die Platte - momentan pickle, erfordert
hohe Rekursionstiefe, sprengt für große Sessions den Stack.</li>
<li>Schnellerer Analyseschritt durch parallelisiertes fetchen von lyrics und
beschleunigter audioanalyse.</li>
<li>Die resultate können nur so gut sein wie die input daten.
Es wäre wünschenswert eine &quot;bridge&quot; zwischen libmunin und beets <a class="reference internal" href="rst/index.html#xaj" id="id4">[Link-25]</a> zu schreiben.
Beets ist gewißermaßen das libhugin-anaylse für musik</li>
<li>date origin abhängig vom genre</li>
<li>genre-bridges: grunge-&gt;rock</li>
</ul>
</div>
</div>
<div class="section" id="fazit">
<h3>6.3 Fazit<a class="headerlink" href="#fazit" title="Permalink to this headline">¶</a></h3>
<p>Generell ist <em>libmunin's</em> architektur nicht nur für Musikstücke tauglich,
sondern für alle Anwendungsfälle bei denen viele Dokumente miteinander
vergleichen zu sind und diese sich durch einface Key-Value Mappings abbilden
lassen.</p>
<p>So wäre mit <em>libmunin</em> auch ein Bücher- oder Video-Empfehlungssystem möglich -
sofern man entsprechende Provider und Distanzfunktionen implementiert.</p>
<div class="section" id="war-die-arbeit-erfolg">
<h4>6.3.1 War die Arbeit Erfolg?<a class="headerlink" href="#war-die-arbeit-erfolg" title="Permalink to this headline">¶</a></h4>
<p>Das kommt darauf an wie man <em>Erfolg</em> definiert. Noch ist die Bibliothek in ihren
Anfangsstadium - vor allem die Audioanalyse steckt noch in den Kinderschuhen.
Dennoch ist es als Erfolg zu werten dass noch nie zu den Beatles ein Song von
Rammstein empfohlen wurde.</p>
</div>
</div>
</div>
</div>
<div class="toctree-wrapper compound">
<span id="document-rst/appendix"></span><div class="section" id="abkurzungsverzeichnis">
<h2>Abkürzungsverzeichnis<a class="headerlink" href="#abkurzungsverzeichnis" title="Permalink to this headline">¶</a></h2>
<div class="figure align-center">
<center><table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head align-right align-top">Abkürzung</th>
<th class="head align-top">Bedeutung</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td class="align-right align-top"><strong>API</strong></td>
<td class="align-top">Application Programming Interface</td>
</tr>
<tr class="row-odd"><td class="align-right align-top"><strong>LoC</strong></td>
<td class="align-top">Lines of Code</td>
</tr>
</tbody>
</table>
</center></div></div>
<div class="section" id="glossar">
<h2>Glossar<a class="headerlink" href="#glossar" title="Permalink to this headline">¶</a></h2>
<dl class="glossary docutils">
<dt id="term-song">Song</dt>
<dd><p class="first">Im Kontext von libmunin ist ein Song eine Menge von Attributen.
Jedem Attribut ist, wie in einer Hashmap, ein Wert zugeordnet.</p>
<p>Beispielsweise haben alle Songs eine Attribut <tt class="docutils literal"><span class="pre">artist</span></tt>, aber jeder
einzelner Song kennt dafür einen bestimmten Wert.</p>
<p class="last">Desweiteren wird für jeden Song die Distanz zu einer Menge ähnlicher
Songs gespeichert, sowie eine Integer der als Identifier dient.</p>
</dd>
<dt id="term-distanz">Distanz</dt>
<dd><p class="first">Eine Distanz beschreibt die Ähnlichkeit zweier Songs oder Attribute.
Eine Distanz von 0 bedeutet dabei eine maximale Ähnlichkeit (oder
minimale <em>Entfernung</em> zueiander), eine Distanz von 1.0 maximale
Unähnlichkeit (oder maximale <em>Entfernung</em>).</p>
<p class="last">Die Distanz wird durch eine <a class="reference internal" href="rst/index.html#term-distanzfunktion"><em class="xref std std-term">Distanzfunktion</em></a> berechnet.</p>
</dd>
<dt id="term-distanzfunktion">Distanzfunktion</dt>
<dd><p class="first">Eine Distanzfunktion ist im Kontext von libmunin eine Funktion die
zwei Songs als Eingabe nimmt und die <a class="reference internal" href="rst/index.html#term-distanz"><em class="xref std std-term">Distanz</em></a> zwischen
diesen berechnet.</p>
<p>Dabei schaut sie sich alle <a class="reference internal" href="rst/index.html#term-attribut"><em class="xref std std-term">Attribut</em></a> an die beide Songs
gemeinsam haben und nutzt für jedes gemeinsame Attribut eine
spezialisierte Distanzfunktion die weiß wie diese zwei bestimmten Werte
sinnvoll verglichen werden können. Die so errechneten Werte werden,
gemäß der Gewichtung in der <a class="reference internal" href="rst/index.html#term-maske"><em class="xref std std-term">Maske</em></a>, zu einem Wert verschmolzen.</p>
<p>Fehlen Attribute in einen der beiedn Songs wird für diese jeweils eine
Distanz von 1.0 angenommen und ebenfalls in die gewichtete Oberdistanz
eingerechnet.</p>
<p>Die folgenden Bedingungen müssen sowohl für die allgemeine
Distanzfuntkion, als auch für die speziellen Distanzfunktionen gelten:</p>
<p><em>Uniformität:</em></p>
<div class="math">
\[0 \leq D(i, j) \leq 1 \forall i,j \in D\]</div>
<p><em>Symmetrie:</em></p>
<div class="math">
\[D(i, j) = D(j, i) \forall i,j \in D\]</div>
<p><em>Identität:</em></p>
<div class="math">
\[D(i, i) = 0.0 \forall i \in D\]</div>
<p><em>Dreiecksungleichung:</em></p>
<div class="last math">
\[D(i, j) \leq D(i, x) + (x, j)\]</div>
</dd>
<dt id="term-session">Session</dt>
<dd><p class="first">Eine <em>Session</em> ist eine Nutzung von libmunin über einem bestimmten
Zeitraum. Zum Erstellen einer Session werden die Daten importiert,
analysiert und ein <a class="reference internal" href="rst/index.html#term-graph"><em class="xref std std-term">Graph</em></a> wird daraus aufgebaut.</p>
<p>Zudem kann eine <em>Session</em> persistent für späteren Gebrauch gespeichert
werden.</p>
<p class="last">Wer die Bibliothek benutzt wird die <em>Session</em> zudem als Eintrittspunkt
für die API benutzen.</p>
</dd>
<dt id="term-maske">Maske</dt>
<dd><p class="first">Die <a class="reference internal" href="rst/index.html#term-session"><em class="xref std std-term">Session</em></a> benötigt eine Beschreibung der Daten die importiert
werden. So muss ich darauf geeinigt werden was beispielsweise unter dem
Schlüssel <tt class="docutils literal"><span class="pre">genre</span></tt> abgespeichert wird.</p>
<p class="last">In der <em>Maske</em> werden daher die einzelnen Attribute festgelegt die ein
einzelner Song haben kann und wie diese anzusprechen sind. Zudem wird
pro Attribut ein <a class="reference internal" href="rst/index.html#term-provider"><em class="xref std std-term">Provider</em></a> und eine <a class="reference internal" href="rst/index.html#term-distanzfunktion"><em class="xref std std-term">Distanzfunktion</em></a>
festgelegt die bei der Verarbeitung dieses Wertes genutzt wird. Zudem
wird die Gewichtung des Attributes festgelegtes - manche Attribute sind
für die Ähnlichkeit zweier Songs entscheidender als andere.</p>
</dd>
<dt id="term-attribut">Attribut</dt>
<dd>Ein Attribut ist ein <em>Schlüssel</em> in der <a class="reference internal" href="rst/index.html#term-maske"><em class="xref std std-term">Maske</em></a>. Er repräsentiert
eine Vereinbarung mit dem Nutzer unter welchem Namen das Attribut in
Zukunft angesprochen wird. Zu jedem gesetzten Attribut gehort ein Wert,
andernfalls ein spezieller leerer Wert. Ein Song besteht aus einer
Menge dieser Paare.</dd>
<dt id="term-provider">Provider</dt>
<dd><p class="first">Ein <em>Provider</em> normalisiert einen Wert anhand verschiedener
Charakteristiken. Sie dienen als vorgelagerte Verarbeitung von den Daten
die in das System geladen werden. Jeder <em>Provider</em> ist dabei einem
<a class="reference internal" href="rst/index.html#term-attribut"><em class="xref std std-term">Attribut</em></a> zugeordnet.</p>
<p class="last">Ihr Ziel ist für die <a class="reference internal" href="rst/index.html#term-distanzfunktion"><em class="xref std std-term">Distanzfunktion</em></a> einfache und effizient
vergleichbare Werte zu liefern - da die <a class="reference internal" href="rst/index.html#term-distanzfunktion"><em class="xref std std-term">Distanzfunktion</em></a> sehr
viel öfters aufgerufen wird als der <em>Provider</em>.</p>
</dd>
<dt id="term-assoziationsregel">Assoziationsregel</dt>
<dd><p class="first">Eine Assoziationsregel verbindet zwei Mengen <em>A</em> und <em>B</em> von Songs
miteinander. Wird eine der beiden Mengen miteinander gehört ist es
wahrscheinlich dass auch die andere Menge daraufhin angehört wird.</p>
<p>Sie werden aus dem Verhalten des Nutzers abgeleitet.</p>
<p>Die Güte der Regel wird durch ein <em>Rating</em> beschrieben:</p>
<div class="math">
\[Rating(A, B) = (1.0 - Kulczynski(A, B)) \cdot ImbalanceRatio(A, B)\]</div>
<p>wobei:</p>
<div class="math">
\[Kulczynski(A, B) =  \frac{P(A \vert B) + P(B \vert A)}{2}\]</div>
<div class="math">
\[ImbalanceRatio(A, B) = \frac{\vert support(A) - support(B) \vert}{support(A) + support(B) - support(A \cup B)}\]</div>
<div class="admonition-vergleiche-dazu last admonition">
<p class="first admonition-title">Vergleiche dazu:</p>
<p class="last"><a class="reference internal" href="rst/index.html#datamining-concepts-and-techniques" id="id1">[3]</a>
Datamining Concepts and Techniques, Seiten 268-271.</p>
</div>
</dd>
<dt id="term-recommendation">Recommendation</dt>
<dd><p class="first">Eine Recommendation (dt. Empfehlung) ist ein <a class="reference internal" href="rst/index.html#term-song"><em class="xref std std-term">Song</em></a> der vom System
auf Geheiß des Users hin vorgeschlagen wird.</p>
<p class="last">Die Empfehlunge sollte eine geringe Distanz zum <a class="reference internal" href="rst/index.html#term-seedsong"><em class="xref std std-term">Seedsong</em></a> haben.</p>
</dd>
<dt id="term-seedsong">Seedsong</dt>
<dd>Ein Song der als Basis für Empfehlungen ausgewählt wurde.</dd>
<dt id="term-graph">Graph</dt>
<dd><p class="first">Im Kontext von libmunin ist der Graph eine Abbildung aller Songs (als
Knoten) und deren Distanz (als Kanten) untereinander. Im idealen Graphen
kennt jeder :term`Song` <em>N</em> zu ihm selbst ähnlichsten Songs als
Nachbarn.</p>
<p class="last">Da die Erstellung eines idealen Graphen sehr aufwendig ist wird auf
eine schneller zu berechnende Approximation zurückgegriffen.</p>
</dd>
</dl>
</div>
<div class="section" id="ausfuhrliches-beispiel">
<h2>Ausführliches Beispiel<a class="headerlink" href="#ausfuhrliches-beispiel" title="Permalink to this headline">¶</a></h2>
<p>Der Vollständigkeit halber soll hier noch ein ausführliches Beispiel
gezeigt werden das auch im Vergleich zum einfachen Beispiel folgende Features
zeigt:</p>
<blockquote>
<div><ul class="simple">
<li>Das Erstellen einer eigenen Session</li>
<li>Das Speichern und Laden derselben</li>
<li>Mehrere Möglichkeiten zur Empfehlung</li>
</ul>
</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre><span class="c">#!/usr/bin/env python</span>
<span class="c"># encoding: utf-8</span>

<span class="kn">import</span> <span class="nn">sys</span>

<span class="kn">from</span> <span class="nn">munin.helper</span> <span class="kn">import</span> <span class="n">pairup</span>
<span class="kn">from</span> <span class="nn">munin.session</span> <span class="kn">import</span> <span class="n">Session</span>
<span class="kn">from</span> <span class="nn">munin.distance</span> <span class="kn">import</span> <span class="n">GenreTreeDistance</span><span class="p">,</span> <span class="n">WordlistDistance</span>
<span class="kn">from</span> <span class="nn">munin.provider</span> <span class="kn">import</span> \
        <span class="n">ArtistNormalizeProvider</span><span class="p">,</span> \
        <span class="n">GenreTreeProvider</span><span class="p">,</span> \
        <span class="n">WordlistProvider</span><span class="p">,</span>  \
        <span class="n">StemProvider</span>


<span class="n">MY_DATABASE</span> <span class="o">=</span> <span class="p">[(</span>
        <span class="s">&#39;Devildriver&#39;</span><span class="p">,</span>                <span class="c"># Artist</span>
        <span class="s">&#39;Before the Hangmans Noose&#39;</span><span class="p">,</span>  <span class="c"># Title</span>
        <span class="s">&#39;metal&#39;</span>                       <span class="c"># Genre</span>
    <span class="p">),</span> <span class="p">(</span>
        <span class="s">&#39;Das Niveau&#39;</span><span class="p">,</span>
        <span class="s">&#39;Beim Pissen gemeuchelt&#39;</span><span class="p">,</span>
        <span class="s">&#39;folk&#39;</span>
    <span class="p">),</span> <span class="p">(</span>
        <span class="s">&#39;We Butter the Bread with Butter&#39;</span><span class="p">,</span>
        <span class="s">&#39;Extrem&#39;</span><span class="p">,</span>
        <span class="s">&#39;metal&#39;</span>
    <span class="p">),</span> <span class="p">(</span>
        <span class="s">&#39;Lady Gaga&#39;</span><span class="p">,</span>
        <span class="s">&#39;Pokerface&#39;</span><span class="p">,</span>
        <span class="s">&#39;pop&#39;</span>
<span class="p">)]</span>


<span class="k">def</span> <span class="nf">create_session</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&#39;-- No saved session found, loading new.&#39;</span><span class="p">)</span>
    <span class="n">session</span> <span class="o">=</span> <span class="n">Session</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="s">&#39;demo&#39;</span><span class="p">,</span>
        <span class="n">mask</span><span class="o">=</span><span class="p">{</span>
            <span class="c"># Each entry goes like this:</span>
            <span class="s">&#39;Genre&#39;</span><span class="p">:</span> <span class="n">pairup</span><span class="p">(</span>
                <span class="c"># Pratice: Go lookup what this Providers does.</span>
                <span class="n">GenreTreeProvider</span><span class="p">(),</span>
                <span class="c"># Practice: Same for the DistanceFunction.</span>
                <span class="n">GenreTreeDistance</span><span class="p">(),</span>
                <span class="c"># This has the highest rating of the three attributes:</span>
                <span class="mi">8</span>
            <span class="p">),</span>
            <span class="s">&#39;Title&#39;</span><span class="p">:</span> <span class="n">pairup</span><span class="p">(</span>
                <span class="c"># We can also compose Provider, so that the left one</span>
                <span class="c"># gets the input value, and the right one the value</span>
                <span class="c"># the left one processed.</span>
                <span class="c"># In this case we first split the title in words,</span>
                <span class="c"># then we stem each word.</span>
                <span class="n">WordlistProvider</span><span class="p">()</span> <span class="o">|</span> <span class="n">StemProvider</span><span class="p">(),</span>
                <span class="n">WordlistDistance</span><span class="p">(),</span>
                <span class="mi">1</span>
            <span class="p">),</span>
            <span class="s">&#39;Artist&#39;</span><span class="p">:</span> <span class="n">pairup</span><span class="p">(</span>
                <span class="c"># If no Provider (None) is given the value is forwarded as-is.</span>
                <span class="c"># Here we just use the default provider, but enable</span>
                <span class="c"># compression. Values are saved once and are givean an ID.</span>
                <span class="c"># Duplicate items get the same ID always.</span>
                <span class="c"># You can trade off memory vs. speed with this.</span>
                <span class="n">ArtistNormalizeProvider</span><span class="p">(</span><span class="n">compress</span><span class="o">=</span><span class="bp">True</span><span class="p">),</span>
                <span class="c"># If not DistanceFunctions is given, all values are</span>
                <span class="c"># compare with __eq__ - which might give bad results.</span>
                <span class="bp">None</span><span class="p">,</span>
                <span class="mi">1</span>
            <span class="p">)</span>
        <span class="p">}</span>
    <span class="p">)</span>

    <span class="c"># As in our first example we fill the session, but we dont insert the full</span>
    <span class="c"># database, we leave out the last song:</span>
    <span class="k">with</span> <span class="n">session</span><span class="o">.</span><span class="n">transaction</span><span class="p">():</span>
        <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="p">(</span><span class="n">artist</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">genre</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">MY_DATABASE</span><span class="p">[:</span><span class="mi">3</span><span class="p">]):</span>
            <span class="c"># Notice how we use the uppercase keys like above:</span>
            <span class="n">session</span><span class="o">.</span><span class="n">mapping</span><span class="p">[</span><span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">({</span>
                <span class="s">&#39;Genre&#39;</span><span class="p">:</span> <span class="n">genre</span><span class="p">,</span>
                <span class="s">&#39;Title&#39;</span><span class="p">:</span> <span class="n">title</span><span class="p">,</span>
                <span class="s">&#39;Artist&#39;</span><span class="p">:</span> <span class="n">artist</span><span class="p">,</span>
            <span class="p">})]</span> <span class="o">=</span> <span class="n">idx</span>

    <span class="k">return</span> <span class="n">session</span>


<span class="k">def</span> <span class="nf">print_recommendations</span><span class="p">(</span><span class="n">session</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span>
    <span class="c"># A generator that yields at max 20 songs.</span>
    <span class="n">recom_generator</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">recommend_from_heuristic</span><span class="p">(</span><span class="n">number</span><span class="o">=</span><span class="n">n</span><span class="p">)</span>
    <span class="n">seed_song</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">recom_generator</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&#39;Recommendations to #{}:&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">seed_song</span><span class="o">.</span><span class="n">uid</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">munin_song</span> <span class="ow">in</span> <span class="n">recom_generator</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&#39;  normalized values:&#39;</span><span class="p">)</span>

        <span class="c"># Let&#39;s take</span>
        <span class="k">for</span> <span class="n">attribute</span><span class="p">,</span> <span class="n">normalized_value</span> <span class="ow">in</span> <span class="n">munin_song</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">print</span><span class="p">(</span><span class="s">&#39;    {:&lt;7s}: {:&lt;20s}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">attribute</span><span class="p">,</span> <span class="n">normalized_value</span><span class="p">))</span>

        <span class="n">original_song</span> <span class="o">=</span> <span class="n">MY_DATABASE</span><span class="p">[</span><span class="n">session</span><span class="o">.</span><span class="n">mapping</span><span class="p">[</span><span class="n">munin_song</span><span class="o">.</span><span class="n">uid</span><span class="p">]]</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&#39;  original values:&#39;</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&#39;    Artist :&#39;</span><span class="p">,</span> <span class="n">original_song</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&#39;    Album  :&#39;</span><span class="p">,</span> <span class="n">original_song</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&#39;    Genre  :&#39;</span><span class="p">,</span> <span class="n">original_song</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
        <span class="k">print</span><span class="p">()</span>


<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&#39;The database:&#39;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">song</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">MY_DATABASE</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&#39;  #{} {}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">idx</span><span class="p">,</span> <span class="n">song</span><span class="p">))</span>
    <span class="k">print</span><span class="p">()</span>

    <span class="c"># Perhaps we already had an prior session?</span>
    <span class="n">session</span> <span class="o">=</span> <span class="n">Session</span><span class="o">.</span><span class="n">from_name</span><span class="p">(</span><span class="s">&#39;demo&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">create_session</span><span class="p">(</span><span class="s">&#39;demo&#39;</span><span class="p">)</span>
    <span class="n">rules</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">session</span><span class="o">.</span><span class="n">rule_index</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">rules</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&#39;Association Rules:&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">support</span><span class="p">,</span> <span class="n">rating</span> <span class="ow">in</span> <span class="n">rules</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="s">&#39;  {:&gt;10s} &lt;-&gt; {:&lt;10s} [supp={:&gt;5d}, rating={:.5f}]&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="nb">str</span><span class="p">([</span><span class="n">song</span><span class="o">.</span><span class="n">uid</span> <span class="k">for</span> <span class="n">song</span> <span class="ow">in</span> <span class="n">left</span><span class="p">]),</span>
                <span class="nb">str</span><span class="p">([</span><span class="n">song</span><span class="o">.</span><span class="n">uid</span> <span class="k">for</span> <span class="n">song</span> <span class="ow">in</span> <span class="n">right</span><span class="p">]),</span>
                <span class="n">support</span><span class="p">,</span> <span class="n">rating</span>
            <span class="p">))</span>
        <span class="k">print</span><span class="p">()</span>

    <span class="n">print_recommendations</span><span class="p">(</span><span class="n">session</span><span class="p">)</span>

    <span class="c"># Let&#39;s add some history:</span>
    <span class="k">for</span> <span class="n">munin_uid</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]:</span>
        <span class="n">session</span><span class="o">.</span><span class="n">feed_history</span><span class="p">(</span><span class="n">munin_uid</span><span class="p">)</span>

    <span class="k">print</span><span class="p">(</span><span class="s">&#39;Playcounts:&#39;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">song</span><span class="p">,</span> <span class="n">count</span> <span class="ow">in</span> <span class="n">session</span><span class="o">.</span><span class="n">playcounts</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&#39;  #{} was played {}x times&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">song</span><span class="o">.</span><span class="n">uid</span><span class="p">,</span> <span class="n">count</span><span class="p">))</span>

    <span class="c"># Let&#39;s insert a new song that will be in the graph on the next run:</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">session</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">MY_DATABASE</span><span class="p">):</span>
        <span class="k">with</span> <span class="n">session</span><span class="o">.</span><span class="n">fix_graph</span><span class="p">():</span>
            <span class="n">session</span><span class="o">.</span><span class="n">mapping</span><span class="p">[</span><span class="n">session</span><span class="o">.</span><span class="n">insert</span><span class="p">({</span>
                <span class="s">&#39;Genre&#39;</span><span class="p">:</span> <span class="n">MY_DATABASE</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">],</span>
                <span class="s">&#39;Title&#39;</span><span class="p">:</span> <span class="n">MY_DATABASE</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span>
                <span class="s">&#39;Artist&#39;</span><span class="p">:</span> <span class="n">MY_DATABASE</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
            <span class="p">})]</span> <span class="o">=</span> <span class="mi">3</span>

    <span class="k">if</span> <span class="s">&#39;--plot&#39;</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">:</span>
        <span class="n">session</span><span class="o">.</span><span class="n">database</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>

    <span class="c"># Save it under ~/.cache/libmunin/demo</span>
    <span class="n">session</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</pre></div>
</div>
</div>
<span id="document-rst/zzz_bibliography"></span><div class="section" id="bibliographie">
<h2>Bibliographie<a class="headerlink" href="#bibliographie" title="Permalink to this headline">¶</a></h2>
</div>
<p id="bibtex-bibliography-rst/zzz_bibliography-0"><table class="docutils citation" frame="void" id="celma2010music" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[1]</td><td>Oscar Celma. <em>Music recommendation and discovery</em>. Springer, 2010.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="hayes2001smart" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[2]</td><td>Conor Hayes and Pádraig Cunningham. Smart radio-building music radio on the fly. In <em>Applications and Innovations in Intelligent Systems VIII</em>, pages 129–138. Springer, 2001.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="datamining-concepts-and-techniques" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[3]</td><td>Jian&nbsp;Pei Jiawei&nbsp;Han, Micheline&nbsp;Kamber. Datamining - concepts and techniques, (3rd edition). In <em>Datamining - Concepts and Techniques</em>, 268–271. 2012.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="knees2007music" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[4]</td><td>Peter Knees, Tim Pohle, Markus Schedl, and Gerhard Widmer. A music search engine built upon audio-based and web-based similarity measures. In <em>Proceedings of the 30th annual international ACM SIGIR conference on Research and development in information retrieval</em>, 447–454. ACM, 2007.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="lee2006music" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[5]</td><td>Jae&nbsp;Sik Lee and Jin&nbsp;Chun Lee. Music for my mood: a music recommendation system based on context reasoning. In <em>Smart sensing and context</em>, pages 190–203. Springer, 2006.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="vembu2005self" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[6]</td><td>Shankar Vembu and Stephan Baumann. A self-organizing map based knowledge discovery for music recommendation systems. In <em>Computer music modeling and retrieval</em>, pages 119–129. Springer, 2005.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="wiki2014empfehlungsdienst" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[7]</td><td>Wikipedia. Empfehlungsdienst — wikipedia, die freie enzyklopädie. 2013. [Online; Stand 1. Februar 2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="wiki2014hugin" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[8]</td><td>Wikipedia. Huginn and muninn — wikipedia, the free encyclopedia. 2014. [Online; accessed 1-February-2014].</td></tr>
</tbody>
</table>
</p>
<div class="section" id="weblink-verzeichnis">
<h2>Weblink Verzeichnis<a class="headerlink" href="#weblink-verzeichnis" title="Permalink to this headline">¶</a></h2>
</div>
<p id="bibtex-bibliography-rst/zzz_bibliography-1"><table class="docutils citation" frame="void" id="a3" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-1]</td><td><span><a class="reference external" href="http://musicbrainz.org/">http://musicbrainz.org/</a></span>. [Stand: 11.2.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="t" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-2]</td><td><span><a class="reference external" href="http://www.jamendo.com/">http://www.jamendo.com/</a></span>. [Stand: 11.2.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="ikc" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-3]</td><td><span><a class="reference external" href="http://www.mufin.com/usecase/music-recommendation/">http://www.mufin.com/usecase/music-recommendation/</a></span>. [Stand: 11.2.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="nt" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-4]</td><td><span><a class="reference external" href="http://www.last.fm">http://www.last.fm</a></span>. [Stand: 11.2.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="wnn" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-5]</td><td><span><a class="reference external" href="http://www.youtube.de">http://www.youtube.de</a></span>. [Stand: 11.2.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="xxx" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-6]</td><td><span><a class="reference external" href="http://amazon.de">http://amazon.de</a></span>. [Stand: 11.2.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="idk" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-7]</td><td><span><a class="reference external" href="http://www.tastekid.com/">http://www.tastekid.com/</a></span>. [Stand: 11.2.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="zmf" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-8]</td><td><span><a class="reference external" href="http://musicovery.com/">http://musicovery.com/</a></span>. [Stand: 11.2.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="ahx" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-9]</td><td><span><a class="reference external" href="http://hop.at/mirage/">http://hop.at/mirage/</a></span>. [Stand: 11.2.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="uzb" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-10]</td><td><span><a class="reference external" href="http://www.mufin.com/products/audiogen/">http://www.mufin.com/products/audiogen/</a></span>. [Stand: 11.2.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="jv6" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-11]</td><td><span><a class="reference external" href="https://www.archlinux.org/">https://www.archlinux.org/</a></span>. [Stand: 11.2.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="jh7" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-12]</td><td><span><a class="reference external" href="https://github.com/studentkittens/moosecat">https://github.com/studentkittens/moosecat</a></span>. [Stand: 11.2.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="xu" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-13]</td><td><span><a class="reference external" href="https://github.com/sahib/glyr">https://github.com/sahib/glyr</a></span>. [Stand: 11.2.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="w5" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-14]</td><td><span><a class="reference external" href="http://www.mopidy.com/">http://www.mopidy.com/</a></span>. [Stand: 11.2.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="xvg" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-15]</td><td><span><a class="reference external" href="https://github.com/mopidy/mopidy/issues/620">https://github.com/mopidy/mopidy/issues/620</a></span>. [Stand: 11.2.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="thv" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-16]</td><td><span><a class="reference external" href="http://libmunin.readthedocs.org/en/latest/logbuch.html">http://libmunin.readthedocs.org/en/latest/logbuch.html</a></span>. [Stand: 11.2.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="lx" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-17]</td><td><span><a class="reference external" href="https://libmunin.rtfd.org">https://libmunin.rtfd.org</a></span>. [Stand: 11.2.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="y41" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-18]</td><td><span><a class="reference external" href="https://github.com/sahib/libmunin">https://github.com/sahib/libmunin</a></span>. [Stand: 11.2.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="jiu" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-19]</td><td><span><a class="reference external" href="https://travis-ci.org/sahib/libmunin">https://travis-ci.org/sahib/libmunin</a></span>. [Stand: 11.2.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="o6q" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-20]</td><td><span><a class="reference external" href="https://pypi.python.org/pypi/libmunin/">https://pypi.python.org/pypi/libmunin/</a></span>. [Stand: 11.2.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="md" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-21]</td><td><span><a class="reference external" href="http://sahib.github.io/libmunin-thesis/gitstats/index.html">http://sahib.github.io/libmunin-thesis/gitstats/index.html</a></span>. [Stand: 11.2.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="ibl" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-22]</td><td><span><a class="reference external" href="https://github.com/sahib/libmunin/graphs">https://github.com/sahib/libmunin/graphs</a></span>. [Stand: 11.2.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="fn" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-23]</td><td><span><a class="reference external" href="https://github.com/piem/aubio">https://github.com/piem/aubio</a></span>. [Stand: 11.2.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="hj7" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-24]</td><td><span><a class="reference external" href="https://github.com/marsyas/marsyas">https://github.com/marsyas/marsyas</a></span>. [Stand: 11.2.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="xaj" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-25]</td><td><span><a class="reference external" href="http://beets.radbox.org/">http://beets.radbox.org/</a></span>. [Stand: 11.2.2014].</td></tr>
</tbody>
</table>
</p>
</div>
<div class="section" id="license">
<h2>License<a class="headerlink" href="#license" title="Permalink to this headline">¶</a></h2>
<p>Diese Arbeit ist unter den Bedingungen der <em>Creative Commons Attribution-3.0</em>
lizensiert:</p>
<blockquote>
<div><a class="reference external" href="http://creativecommons.org/licenses/by/3.0/de/">http://creativecommons.org/licenses/by/3.0/de/</a></div></blockquote>
<img alt="Creative Commons License" class="align-center" src="../../_images/ccicon88x31.png" />
</div>
</div>


          <footer>
  

  <hr/>

  <p>
      &copy; Copyright by Christopher Pahl, 2013-2014..
  </p>

  <a href="https://www.github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="http://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  

</body>
</html>