

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Projektarbeit</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  

    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:'../',
        VERSION:'0.1',
        COLLAPSE_INDEX:false,
        FILE_SUFFIX:'.html',
        HAS_SOURCE:  true
      };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
    <link rel="top" title="None" href="../index.html"/>

<!-- Include all CSS and JS files, let's you use your own theme. -->

<link rel="stylesheet" type="text/css" href="../_static/custom.css" />
<script type="text/javascript">
	function endsWith(str, suffix) {
	    return str.indexOf(suffix, str.length - suffix.length) !== -1;
	}

    $(document).ready(function() {
    	var im, imsrc;
    	$('img').each(function() {
    		im = $(this);
    		imsrc = im.attr('src');
    		imalt = im.attr('alt');
    		if (endsWith(imsrc, 'svg')) {
    			im.wrap($('<a>').attr({'href': imsrc, 'title': imalt}).addClass('svglink'));
    		}
    	});

    	$('a.svglink').colorbox({
    		'width': '95%',
    		'height': '95%',
    		'photo': true});
    });
</script>


  <script src="//cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="index.html#document-rst/index" class="icon icon-home"> Projektarbeit</a>
        <form class="wy-form" action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search docs" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix">
        
        
            <ul>
<li class="toctree-l1"><a class="reference internal" href="rst/index.html#document-rst/abstract">Abstract</a></li>
<li class="toctree-l1"><a class="reference internal" href="rst/index.html#document-rst/acknowledgements">Danksagung</a></li>
<li class="toctree-l1"><a class="reference internal" href="rst/index.html#document-rst/dedication">Widmung</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="rst/index.html#document-rst/I/index">1 Motivation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/I/index#stand-der-technik">1.1 Stand der Technik</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/I/index#zielsetzung">1.2 Zielsetzung</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/I/index#verbesserungsmoglichkeiten">1.3 Verbesserungsmöglichkeiten</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/I/index#namensgebung">1.4 Namensgebung</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="rst/index.html#document-rst/II/index">2 Einführung</a><ul>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/II/index#zielsetzung">2.1 Zielsetzung</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/II/index#vorhandene-alternativen">2.2 Vorhandene Alternativen</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/II/index#vorhandene-arbeiten">2.3 Vorhandene Arbeiten</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/II/index#schlussfolgerungen">2.4 Schlussfolgerungen</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/II/index#anforderungen">2.5 Anforderungen</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/II/index#zielgruppe">2.6 Zielgruppe</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="rst/index.html#document-rst/III/index">3 Begriffsklärungen</a><ul>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/III/index#allgemeine-fachbegriffe">3.1 Allgemeine Fachbegriffe</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/III/index#kontextspezifische-fachbegriffe">3.2 Kontextspezifische Fachbegriffe</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="rst/index.html#document-rst/IV/index">4 Design</a><ul>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/IV/index#algorithmik">4.1 Algorithmik</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/IV/index#integration-von-libmunin-in-die-umwelt">4.2 Integration von <em>libmunin</em> in die Umwelt</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/IV/index#entwurf-der-software">4.3 Entwurf der Software</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="rst/index.html#document-rst/V/index">5 Implementierung</a><ul>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/V/index#anwendungsbeispiel">5.1 Anwendungsbeispiel</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/V/index#kurze-implementierungshistorie">5.2 Kurze Implementierungshistorie</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/V/index#liste-verfugbarer-empfehlungs-strategien">5.3 Liste verfügbarer Empfehlungs&ndash;Strategien</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/V/index#liste-der-provider">5.4 Liste der Provider</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/V/index#liste-der-distanzfunktionen">5.5 Liste der Distanzfunktionen</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/V/index#modul-und-paketubersicht">5.6 Modul&ndash; und Paketübersicht</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/V/index#trivia">5.7 Trivia</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="rst/index.html#document-rst/VI/index">6 Demonstrationsanwendung</a><ul>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/VI/index#intro">6.1 Intro</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/VI/index#anwendungsubersicht">6.2 Anwendungsübersicht</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="rst/index.html#document-rst/VII/index">7 Zusammenfassung</a><ul>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/VII/index#aktueller-stand">7.1 Aktueller Stand</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/VII/index#zusammenhang-mit-data-mining">7.2 Zusammenhang mit Data&ndash;Mining</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/VII/index#nicht-oder-unvollstandig-erfullte-anforderungen">7.3 Nicht oder unvollständig erfüllte Anforderungen</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/VII/index#implementierungsdefizite">7.4 Implementierungsdefizite</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/VII/index#denkbare-weiterentwicklungen">7.5 Denkbare Weiterentwicklungen</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/VII/index#abschlieszendes-fazit">7.6 Abschließendes Fazit</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="rst/index.html#document-rst/appendix"><tt class="docutils literal"><span class="pre">coldstart.py</span></tt></a></li>
<li class="toctree-l1"><a class="reference internal" href="rst/index.html#document-rst/appendix#ausfuhrliches-beispiel">Ausführliches Beispiel</a></li>
<li class="toctree-l1"><a class="reference internal" href="rst/index.html#document-rst/appendix#bilder-der-demoanwendung">Bilder der Demoanwendung</a></li>
<li class="toctree-l1"><a class="reference internal" href="rst/index.html#document-rst/zzz_bibliography">Bibliographie</a></li>
<li class="toctree-l1"><a class="reference internal" href="rst/index.html#document-rst/zzz_bibliography#weblink-verzeichnis">Weblink Verzeichnis</a></li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top">
        <i data-toggle="wy-nav-top" class="icon icon-reorder"></i>
        <a href="/">Projektarbeit</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <ul class="wy-breadcrumbs">
  <li><a href="index.html#document-rst/index">Docs</a> &raquo;</li>
  <li><a href="">Projektarbeit</a></li>
  
</ul>
<hr/>

          
  <div class="section" id="libmunin-br-projektarbeit">
<span id="doc-title"></span><h1>libmunin: <br /> Projektarbeit<a class="headerlink" href="#libmunin-br-projektarbeit" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
<span id="document-rst/abstract"></span><div class="section" id="abstract">
<h2>Abstract<a class="headerlink" href="#abstract" title="Permalink to this headline">¶</a></h2>
</div>
<p>This paper shows a way to build a music recommendation system based on
datamining algorithms and a nearest neighbor graph. A extensible python library
is developed, using a variety of inputs differing from music metadata like
lyrics or the genre to the analysis of the associated audio data. In order to
demonstrate and verify the results, a Gtk-based MPD client is developed that can
be used either as debugging tool or true media player. Various techniques are
shown to compare all possible attributes of a song with each other in an
efficient way.</p>
<span id="document-rst/acknowledgements"></span><div class="section" id="danksagung">
<h2>Danksagung<a class="headerlink" href="#danksagung" title="Permalink to this headline">¶</a></h2>
</div>
<p>Danke an folgende Personen und Dinge: Katzen, Vögel aller Art, Teehersteller
aller Länder, Herrn Prof. Dr. Jörg Scheidt (für die Zelle), Herrn Prof. Dr.
Günter Köhler (für die Freiheit) und meiner Familie sowie Freunden.</p>
<p>Ihr wisst warum.</p>
<span id="document-rst/dedication"></span><div class="section" id="widmung">
<h2>Widmung<a class="headerlink" href="#widmung" title="Permalink to this headline">¶</a></h2>
</div>
<p><em>Für meine Katzen.</em></p>
</div>
<div class="toctree-wrapper compound">
<span id="document-rst/abbrevs"></span><p><strong>Abkürzungsverzeichnis</strong></p>
<div class="figure align-center">
<center><table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="headalign-center align-top">Abkürzung</th>
<th class="headalign-center align-top">Bedeutung</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td class="align-center align-top"><strong>API</strong></td>
<td class="align-center align-top"><em>Application Programming Interface</em></td>
</tr>
<tr class="row-odd"><td class="align-center align-top"><strong>GUI</strong></td>
<td class="align-center align-top"><em>Graphical User Interface</em></td>
</tr>
<tr class="row-even"><td class="align-center align-top"><strong>LoC</strong></td>
<td class="align-center align-top"><em>Lines of Code</em></td>
</tr>
</tbody>
</table>
</center></div><span id="document-rst/I/index"></span><div class="section" id="motivation">
<h2>1 Motivation<a class="headerlink" href="#motivation" title="Permalink to this headline">¶</a></h2>
<div class="section" id="stand-der-technik">
<h3>1.1 Stand der Technik<a class="headerlink" href="#stand-der-technik" title="Permalink to this headline">¶</a></h3>
<p>Empfehlungen sind allgegenwärtig. Ob in sozialen Netzwerken, ob in
Webshops oder gar im Supermarkt.  Besonders im weltweitem Netz gibt es eine
Vielzahl von Plattformen, die Musik anbieten, entweder zum Kaufen (<em>Amazon</em>), zum
<em>Streamen</em> (<tt class="docutils literal"><span class="pre">Last.fm</span></tt>, <em>Spotify</em>, <em>Rhapsody</em>, <em>Pandora</em>, <em>u.v.m</em>) oder auch um
Menschen mit ähnlichem Musikgeschmack zu finden (<em>YouTube,</em> <em>Myspace</em>).</p>
<p>All diese Plattformen bieten neben der eigentlichen Musik auch immer
Empfehlungen zu anderen Liedern, die der Benutzer möglicherweise ebenfalls anhören
möchte &ndash;- natürlich mit dem Hintergedanken, dass der Benutzer sich auch diese
anhört oder gar kauft. Kunden, die neue Bands entdecken und später weitere Alben
von diesen bestellen, sind natürlich ein wichtiger wirtschaftlicher Faktor.</p>
<p>Doch wie entstehen solche Empfehlungen eigentlich? Werden diese manuell
von den Betreibern gepflegt? Bei der großen Anzahl an, <em>,,Waren&quot;</em> wohl kaum.
Schaut sich ein System an was die Benutzer oft zusammen hören?
Kann es ein System geben, das komplett automatisch arbeitet?</p>
<p>Die oben genannten Plattformen lösen diese Probleme auf unterschiedliche Weise.
Amazon verlässt sich dabei auf die großen Mengen an gespeicherten Warenkörben
<a class="reference internal" href="rst/index.html#jacobi2006personalized" id="id1">[5]</a> - aus diesen werden dann Alben abgeleitet, die
oft zusammen gekauft werden.  <tt class="docutils literal"><span class="pre">Last.fm</span></tt> hingegen setzt auf mehrere Strategien,
indem es seine Nutzer die gestreamten Lieder bewerten lässt und dann deren
Hörverhalten <a class="reference internal" href="rst/index.html#henning2008mendeley" id="id2">[4]</a> analysiert. Eine andere Möglich wäre, Reviews aus dem
Netz zu nutzen, um Verbindungen zwischen Künstlern <a class="reference internal" href="rst/index.html#vembu2005self" id="id3">[10]</a>
herzustellen.</p>
<p>Wie man sieht, sind die Wege nahezu unendlich, das Ziel aber immer gleich:
Musikempfehlungen auszusprechen, die den Nutzer länger auf der Seite halten.</p>
</div>
<div class="section" id="zielsetzung">
<h3>1.2 Zielsetzung<a class="headerlink" href="#zielsetzung" title="Permalink to this headline">¶</a></h3>
<p>Viele dieser Arbeiten präsentieren jeweils einen Weg, um die Ähnlichkeit zweier
Musikstücke zu bestimmen &ndash;- viele greifen dabei auf Audioanalyse zurück, also
beispielsweise die Bestimmung der Schnelligkeit und der Stimmung des Liedes,
oder nutzen vorhandene Metadaten, um beispielsweise aus den Songtexten die Themen
zu extrahieren, die im Lied behandelt werden.</p>
<p>Dabei sind heutzutage die Metadaten zu den Musikstücken anhand von
Musikmetadatenbanken wie <em>MusicBrainz</em> <a class="footnote-reference" href="#f1" id="id4"><sup>1</sup></a> leicht aufzufinden &ndash;- lediglich die
Audiodaten sind aus verständlichen, legalen Gründen schwer zu besorgen.</p>
<p>Die nötigen Bauteile und das Wissen, um ein allgemein einsetzbares, qualitatives
Musikempfehlungssystem zu schaffen, sind also vorhanden &ndash;- nur eine frei
verfügbare Umsetzung fehlt.</p>
</div>
<div class="section" id="verbesserungsmoglichkeiten">
<h3>1.3 Verbesserungsmöglichkeiten<a class="headerlink" href="#verbesserungsmoglichkeiten" title="Permalink to this headline">¶</a></h3>
<p>Weit verbreitet sind bei Musicplayern <em>Intelligente Playlisten</em> <a class="footnote-reference" href="#f2" id="id5"><sup>2</sup></a>,  die
allerdings bei den meisten Implementierungen bei vorhandenen Plattformen wie
<tt class="docutils literal"><span class="pre">Last.fm</span></tt> suchen, um Musikempfehlungen auszusprechen &ndash;- was  keineswegs eine
schlechte Lösung ist, denn solche Dienste können sehr gute Resultate liefern.</p>
<p>Trotzdem ist die Abhängigkeit von externen Diensten und einer Internetverbindung
nicht immer möglich oder gar wünschenswert &ndash;- eine Lösung welche rein auf
einem Rechner laufen kann, wäre von Nöten &ndash;- gewissermaßen das Backend von
<tt class="docutils literal"><span class="pre">Last.fm</span></tt> für den freien (frei wie in <em>Free Open Source Software</em>) Einsatz.</p>
<p>Dadurch, dass das entstehende System frei in den Quellen verfügbar sein soll, kann
jeder daran mitarbeiten und es selbst einsetzen. Im Gegensatz zu den
existierenden Backends, wie sie beispielsweise hinter <tt class="docutils literal"><span class="pre">Last.fm</span></tt> stehen, wäre
ein solches System auf Qualität optimiert &ndash;- weniger auf Wirtschaftlichkeit,
sprich anstatt Empfehlungen die mehr Geld einbringen sollen nachvollziehbare
qualitative Empfehlungen möglich sein.</p>
<p>Die Tatsache, dass der Autor sich schon seit längerer Zeit ein <em>,,echtes&quot;</em>
Feature für <em>Intelligente Playlisten</em> für den MPD Client <a class="footnote-reference" href="#f4" id="id6"><sup>3</sup></a>, den er
entwickelt wünscht, trägt natürlich auch zur Motivation bei &ndash;- vor allem soll
deshalb auch nach dem Abschluss dieser Arbeit das Projekt weiterentwickelt
werden.</p>
</div>
<div class="section" id="namensgebung">
<h3>1.4 Namensgebung<a class="headerlink" href="#namensgebung" title="Permalink to this headline">¶</a></h3>
<p>Menschen neigen dazu Dingen einen Namen zu geben &ndash;- im Folgenden wird unser
geplantes Musikempfehlungssystem <em>libmunin</em> genannt.</p>
<blockquote class="epigraph">
<div><p><em>In Norse mythology, Hugin (from Old Norse “thought”)</em>
<em>and Munin (Old Norse “memory” or “mind”)</em>
<em>are a pair of ravens that fly all over the world Midgard,</em>
<em>and bring information to Odin.</em></p>
<p class="attribution">&mdash;<a class="reference external" href="http://en.wikipedia.org/wiki/Huginn_and_Muninn">http://en.wikipedia.org/wiki/Huginn_and_Muninn</a> <a class="reference internal" href="rst/index.html#wiki2014hugin" id="id7">[11]</a></p>
</div></blockquote>
<p>Der Name <em>Munin</em> war bereits vergeben an ein Monitoring Tool, deswegen wurde die
Bibliothek <em>libmunin</em> benannt. Das hat den humorvollen Nebeneffekt, dass eine
kommerzielle Bibliothek mit ähnlichem Namen (<em>mufin-audiogen</em> <a class="reference internal" href="rst/index.html#ikc" id="id8">[Link-1]</a>) eine
freie Alternative erhält.</p>
<p class="rubric">Footnotes</p>
<table class="docutils footnote" frame="void" id="f1" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id4">[1]</a></td><td><em>MusicBrainz</em> ist eine freie, populäre Online&ndash;Musikmetadaten&ndash;Datenbank. <a class="reference internal" href="rst/index.html#a3" id="id9">[Link-2]</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="f2" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id5">[2]</a></td><td><em>Intelligente Playlisten</em> bezeichnen Playlisten, die nach bestimmten,
vom Nutzer vorgegebenen, Kriterien aus einer Menge von Songs fortlaufend generiert werden.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="f4" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id6">[3]</a></td><td>Ein MPD Client ist eine <em>,,Fernbedienung&quot;</em> für den unter Unix weit
vebreitenden MPD (MusicPlayerDaemon <a class="reference internal" href="rst/index.html#mpd" id="id10">[Link-3]</a>).</td></tr>
</tbody>
</table>
</div>
</div>
<span id="document-rst/II/index"></span><div class="section" id="einfuhrung">
<h2>2 Einführung<a class="headerlink" href="#einfuhrung" title="Permalink to this headline">¶</a></h2>
<div class="section" id="zielsetzung">
<h3>2.1 Zielsetzung<a class="headerlink" href="#zielsetzung" title="Permalink to this headline">¶</a></h3>
<p>Wo ist also das konkrete Problem, dass <em>libmunin</em> nun lösen soll?
Das erklärte Ziel ist es eine Bibliothek zu schaffen, die
einen auf Musik spezialisierten <em>Empfehlungsdienst</em> implementiert.
Allgemein gesprochen ist ein <em>Empfehlungsdienst</em> ein Dienst, der zu bestimmten
Objekten ähnliche Objekte vorschlägt. Zur Ermittelung der ähnlichen Objekte
nutzt er Metadaten welche die einzelnen Objekte beschreiben. Die Metadaten
werden durch Methoden des <em>Information&ndash;Retrieval</em> besorgt und durch Methoden
des <em>Data&ndash;Minings</em> analysiert. Zudem wird während der Laufzeit der Nutzer
beobachtet um mit der Zeit <em>exaktere</em> Empfehlungen abzugeben.</p>
<p>In unserem konkreten Fall soll also ein Prototyp eines <em>Empfehlungsdienstes</em>
entwickelt werden, bei dem die oben genannten <em>Objekte</em> einzelne <em>Lieder</em>
darstellen.</p>
<p>Einsatzmöglichkeiten eines auf Musik spezialisierten <em>Empfehlungsdienstes</em>:</p>
<blockquote>
<div><ol class="arabic simple">
<li>Einsatz in Mediaplayern für große, meist lokale Musiksammlungen.</li>
<li>Einsatz bei Music Streaming Plattformen als Backend für Empfehlungen.</li>
<li>Einsatz bei Music Shops, um ähnliche Artikel vorzuschlagen.</li>
<li>Einsatz bei Webradios als <em>DJ-Software</em> zur Erstellung einer automatischen,
intelligenten Playlist.</li>
<li>Einsatz in sozialen Netzwerken, um Menschen mit ähnlichem Musikgeschmack
zu finden.</li>
</ol>
</div></blockquote>
<p>Weitere Einsatzmöglichkeiten sind natürlich denkbar, und sind bei kreativen
Nutzern zu erwarten.</p>
<p>Ein zusätzlicher Vorteil von <em>libmunin</em>: Man entgeht einerseits der Werbung, die
bei den meisten Diensten  zwischen allen paar Liedern gespielt wird,
andererseits ist man nicht einer Vorauswahl der Musiklabels unterworfen &ndash;- denn
meist wird nur die momentan <em>populäre</em> Musik bei den oben genannten Plattformen
gespielt. Zudem ist dort die Musik kommerzieller Natur &ndash;- freie, <em>Creative
Commons</em> lizenzierte Musik, wie man sie beispielsweise auf Jamendo <a class="footnote-reference" href="#f3" id="id1"><sup>1</sup></a>
findet, sucht man anderswo vergebens. Mit <em>libmunin</em> kann man hingegene seine
lokale, selbst zusammengestellte Musiksammlung verwenden.</p>
</div>
<div class="section" id="vorhandene-alternativen">
<h3>2.2 Vorhandene Alternativen<a class="headerlink" href="#vorhandene-alternativen" title="Permalink to this headline">¶</a></h3>
<p>Um Fehler zu vermeiden, die andere bereits gemacht haben, betrachten wir einige
Alternativen und deren Herangehensweise an das Problem. Es werden einige
ausgewählte Plattformen aller Couleur gezeigt und deren Funktionsweise und
Besonderheiten kurz erklärt.</p>
<div class="section" id="bekannte-plattformen">
<h4>2.2.1 Bekannte Plattformen<a class="headerlink" href="#bekannte-plattformen" title="Permalink to this headline">¶</a></h4>
<p><strong>last.fm:</strong> <a class="reference internal" href="rst/index.html#nt" id="id2">[Link-4]</a> Der wohl bekannteste Musik Empfehlungs&ndash;Service im
Netz.  Benutzer können sich mit ihren Account ein personalisiertes Webradio
(auch <em>Station</em> genannt, siehe Abb. ) zusammenstellen.
Dabei wählt man ein Lied auf der Seite aus und lässt sich darauf basierend dann
weitere Lieder oder Künstler (siehe Abb. )
vorschlagen, die in eine ähnliche Richtung gehen. Für viele Musicplayer gibt es
Plugins, die die gespielten Lieder zu last.fm übermitteln. Diesen Vorgang nennen
die Betreiber <em>scrobbeln</em> <a class="reference internal" href="rst/index.html#edu" id="id3">[Link-5]</a>. Durch diese Informationen werden dann
spezialisierte Empfehlungen getroffen &ndash;- Die Informationen kommen dabei also
von den Nutzern, nicht von den eigentlichen Songdaten.</p>
<div class="figure compound align-center" id="fig-lastfm">
<div style="width: 50%" class="subfigure align-center" id="fig-lastfm-similar-artists">
<a class="reference internal image-reference" href="../../_images/lastfm_similar_artists.png"><img alt="Ähnliche Künstler auf last.fm" src="../../_images/lastfm_similar_artists.png" style="width: 75%;" /></a>
<p class="caption">Anzeige ähnlicher Künstler auf last.fm. Hier zum Künstler <em>,,The Beatles”</em></p>
</div>
<div style="width: 50%" class="subfigure align-center" id="fig-lastfm-webradio">
<a class="reference internal image-reference" href="../../_images/lastfm_spotify_radio.png"><img alt="Eine *Station* auf Spotify" src="../../_images/lastfm_spotify_radio.png" style="width: 100%;" /></a>
<p class="caption">Eine <em>Station</em> zu der Band Knorkator, auf Spotify (Empfehlungen von last.fm)</p>
</div>
<p class="caption">Screenshots von Last.fm.</p>
</div><p id="fig-lastfm"><strong>YouTube:</strong> <a class="reference internal" href="rst/index.html#wnn" id="id4">[Link-6]</a> YouTube ist vorrangig als Video&ndash;Plattform bekannt,
durch die enorme Beliebtheit laden dort Nutzer allerdings auch Musik &ndash;-
verpackt als Video &ndash;- hoch. Interessant dabei ist, dass in der Sidebar stets
Empfehlungen für weitere Videos angezeigt (siehe Abb. ) werden
&ndash;- in den meisten Fällen dann auch weitere Musikvideos. Dabei haben die
(meisten) Videos auch etwas mit dem Aktuellen zu tun.</p>
<p>Einige der Attribute <a class="reference internal" href="rst/index.html#davidson2010youtube" id="id5">[2]</a>, die in die Empfehlung mit
eingehen:</p>
<blockquote>
<div><ul class="simple">
<li>Videometadaten (Qualität, Beschreibung, Titel)</li>
<li>Upload&ndash;Datum</li>
<li><em>,,Plays&quot;</em> und tatsächliche <em>,,Plays&quot;</em> (also ob das Video lang genug
angeschaut wurde)</li>
</ul>
</div></blockquote>
<div class="figure align-center" id="fig-youtube">
<a class="reference internal image-reference" href="../../_images/youtube_sidebar.png"><img alt="Sidebar eines YouTube Videos" src="../../_images/youtube_sidebar.png" style="width: 80%;" /></a>
<p class="caption">Die Vorschläge zu einem Musikvideo auf YouTube</p>
</div>
<p><strong>Myspace:</strong> <a class="reference internal" href="rst/index.html#mys" id="id6">[Link-7]</a> Obwohl das soziale Netzwerk Myspace seine besten Tage
hinter sich hat, haben viele Bands noch auf der Seite ein Profil unter dem man
sich oft kostenlos Musik anhören kann (siehe Abb. ). Ähnlich
wie bei anderen populären sozialen Netzen kann man diese Seite <em>liken</em>. Diese
Information wird dann dafür genutzt einem Benutzer Bands vorzuschlagen, die auch
seine Freunde mögen &ndash;- unter der Annahme dass die Freunde einen ähnlichen
Musikgeschmack haben.</p>
<div class="figure align-center" id="fig-myspace">
<a class="reference internal image-reference" href="../../_images/myspace_queue.png"><img alt="Die Playlist von MySpace" src="../../_images/myspace_queue.png" style="width: 40%;" /></a>
<p class="caption">Die Vorschläge die MySpace basierend auf den ersten Song macht.</p>
</div>
<p><strong>Amazon:</strong> <a class="reference internal" href="rst/index.html#xxx" id="id7">[Link-8]</a> Den Grundstein für die Empfehlungen bei Amazon bildet
die Warenkorbanalyse <a class="reference internal" href="rst/index.html#jacobi2006personalized" id="id8">[5]</a>. Dabei werden die Warenkörbe
der Benutzer analysiert und es werden Assoziationsregeln erstellt &ndash;-
bevorzugtermaßen Regeln, die unerwartete Zusammenhänge aufdecken. Ein Kauf ist
auch eine klarere <em>Absichtserklärung</em>, als zB. ein Klick auf <em>YouTube</em>. Das
typische Beispiel ist dabei: <em>,,Wer Bier kauft, kauft auch Windeln&quot;</em>. Diese
Regeln werden dann genutzt um neue Artikel für bestimmte Artikel vorzuschlagen
(siehe Abb. ).  Natürlich fließt auch die personalisierte
Shopping&ndash;Historie in die Empfehlungen mit ein.</p>
<div class="figure align-center" id="fig-amazon">
<a class="reference internal image-reference" href="../../_images/amazon_recommendations.png"><img alt="Empfehlungen von Amazon.com" src="../../_images/amazon_recommendations.png" style="width: 100%;" /></a>
<p class="caption">Zu fast jedem Artikel erhält man Empfehlungen was man noch kaufen
könnte. Hier zu <em>Knorkator &ndash;- The Schlechtest of</em></p>
</div>
<p><strong>Musicovery:</strong> <a class="reference internal" href="rst/index.html#zmf" id="id9">[Link-9]</a> Diese Seite kategorisiert eine große Anzahl von
Musikstücken nach Stimmung (<em>dunkel</em> bis <em>positiv</em>) und Tempo (<em>ruhig</em> bis
<em>energiegeladen</em>). Diese zwei Attribute werden an den Achsen eines
Koordinatensystems aufgetragen. So erhält der Benutzer eine Möglichkeit einen
Punkt darin zu selektieren und basierend auf diesen Eigenschaften sich
Empfehlungen liefern zu lassen (siehe Abb. ).</p>
<div class="figure align-center" id="fig-musicovery-moodmap">
<a class="reference internal image-reference" href="../../_images/musicovery_moodmap.png"><img alt="Die Moodmap auf Musicovery.com" src="../../_images/musicovery_moodmap.png" style="width: 60%;" /></a>
<p class="caption">Die Moodmap auf Musicovery.com</p>
</div>
</div>
<div class="section" id="software-bibliotheken">
<h4>2.2.2 Software&ndash;Bibliotheken<a class="headerlink" href="#software-bibliotheken" title="Permalink to this headline">¶</a></h4>
<p>Während die Anzahl der Plattformen noch ins Unermeßliche ging, so liefert eine
Suche nach <em>Music&ndash;Recommendation-(Library|System|Engine)</em> schon deutlich weniger
Resultate. Es scheint keine etablierte Bibliothek zu geben, die dieses Problem
angeht. Nach einiger Suche ließen sich zumindest zwei Projekte finden:</p>
<p><strong>Mirage:</strong> <a class="reference internal" href="rst/index.html#ahx" id="id10">[Link-10]</a> Eine freie in der Programmiersprache
<span class="math">\(\mathrm{C{\scriptstyle\overset{\#}{\vphantom{\_}}}}\)</span> (mithilfe von Mono
<a class="reference internal" href="rst/index.html#mno" id="id11">[Link-11]</a>) implementierte Bibliothek für <em>Music Recommendations</em>. Sie kommt
den Zielen des Autors am nähsten, ist aber wenig auf große Datenbanken ausgelegt
und stützt sich allein auf Audioanalyse &ndash;- dazu werden während des <em>Kaltstartes</em>
die gesamten Audiodaten der Musiksammlung analysiert.</p>
<p>Sie ist momentan nur im freien Mediaplayer Banshee als Plugin nutzbar.
<em>Banshee</em> selbst ist ebenfalls in
<span class="math">\(\mathrm{C{\scriptstyle\overset{\#}{\vphantom{\_}}}}\)</span> geschrieben &ndash;- die
Wahl der Programmiersprache ist für die Bibliothek also von nicht geringer
Bedeutung.</p>
<p><strong>Mufin Audiogen:</strong> <a class="reference internal" href="rst/index.html#uzb" id="id12">[Link-12]</a> Eine kommerzielle, in
<span class="math">\(\mathrm{C/C{\scriptstyle\overset{\!++}{\vphantom{\_}}}}\)</span> entwickelte
Bibliothek, die im (mittlerweile eingestellten) <em>Mufin&ndash;Audioplayer</em> verwendet
wurde. Sie bietet &ndash;- laut der Website &ndash;- enorm viele, teils <em>fragwürdige</em>,
Features und hat nicht das Problem des <em>Kaltstartes</em>. Das soll heißen: Die
Musikdatenbank muss nicht erst aufwändig importiert werden, sondern es können
gleich Empfehlungen getroffen werden.</p>
<p>Zudem sind Visualisierungen und mobile Anwendungen mit der Bibliothek möglich.</p>
</div>
</div>
<div class="section" id="vorhandene-arbeiten">
<h3>2.3 Vorhandene Arbeiten<a class="headerlink" href="#vorhandene-arbeiten" title="Permalink to this headline">¶</a></h3>
<p>Wie bereits Eingangs erwähnt gibt es eine zwar noch überschaubare aber doch
schon recht umfangreiche Menge an Arbeiten zum Thema <em>Music Recommendation</em>.</p>
<p>Einige ausgesuchte Arbeiten werden  im folgenden aufgelistet und deren
Kernaussagen im Bezug auf dieses Projekt erläutert:</p>
<ul>
<li><p class="first"><em>A self-organizing map based knowledge discovery for music recommendation systems</em> <a class="reference internal" href="rst/index.html#vembu2005self" id="id13">[10]</a></p>
<blockquote>
<div><p>Statt den Computern die Ähnlichkeit zwischen zwei Liedern bestimmen zu
lassen verwendet diese Arbeit Reviews von <em>Amazon</em> um daraus Beziehungen
zwischen Künstlern abzuleiten.</p>
<p>Dieser Ansatz fällt unter <em>Social-based Recommendations</em> &ndash;- man nutzt also
das Wissen vieler Menschen um Ähnlichkeiten abzubilden. Dies steht im
Gegensatz zu <em>Content-based Recommendations</em> &ndash;- bei diesen wird die
Ähnlichkeit anhand von Audio- und Metadaten automatisch ermittelt.</p>
<p><em>Vorteil:</em> Elegant und oft sehr akkurat.</p>
<p><em>Nachteil:</em> Unvollständig, nicht für jeden Künstler ist ein Review vorhanden.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Smart radio-building music radio on the fly</em> <a class="reference internal" href="rst/index.html#hayes2001smart" id="id14">[3]</a></p>
<blockquote>
<div><p>Tendenziell steigt die Nutzung von Streamingdiensten immer mehr an &ndash;- viele
Nutzer verwalten ihre Musik nicht mehr lokal, sondern streamen diese, meist
gegen einen bestimmten Geldbetrag, aus dem Netz.</p>
<p>Daraus kann man ableiten, dass es zukünftig noch mehr dieser
Streamingdienste geben wird &ndash;- ein typisches Einsatzszenario für <em>libmunin</em>.</p>
</div></blockquote>
</li>
<li><p class="first"><em>A music search engine built upon audio-based and web-based similarity measures</em> <a class="reference internal" href="rst/index.html#knees2007music" id="id15">[7]</a></p>
<blockquote>
<div><p>Das in diesem Paper vorgestellte System kommt der Vorstellung von <em>libmunin</em>
am Nähestem. Die Audio- und Metadaten der einzelnen Lieder wird analysiert
und abgespeichert. Fehlende Metadaten werden automatisch aus dem Netz
bezogen (<em>Reviews</em> und <em>Liedtexte</em>). Statt die Musikstücke aber zueinander in
Relation zu setzen, werden die Informationen für eine skalierbare
Suchmaschine benutzt, die basierend auf natürlicher Sprache (Beispielsuche:
<em>rock with great riffs</em>) passende Lieder findet.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Music for my mood</em> <a class="reference internal" href="rst/index.html#lee2006music" id="id16">[8]</a></p>
<blockquote>
<div><p>Die Ähnlichkeit zwischen zwei Stücken wird über die <em>Stimmung</em>, welche durch
Audioanalyse bestimmt wird, in einem Lied definiert.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="schlussfolgerungen">
<span id="id17"></span><h3>2.4 Schlussfolgerungen<a class="headerlink" href="#schlussfolgerungen" title="Permalink to this headline">¶</a></h3>
<p>Folgende Ideen erschienen übernehmenswert (<em>Quellen in Klammern</em>):</p>
<ul class="simple">
<li>Ein System welches von seinen Nutzern lernt. <em>(last.fm)</em></li>
<li>Umfangreiche Einbeziehung von Metadaten. <em>(YouTube)</em></li>
<li>Nutze zum Lernen die ,,Warenkorbanalyse&quot; um Assoziationsregeln abzuleiten. <em>(Amazon)</em></li>
<li>Nutze Audioanalyse <em>(Mirage)</em> um Ähnlichkeiten festzustellen &ndash;- beispielsweise
die Stimmung bzw. ,,Mood&quot; in einem Lied. (<em>Musicovery</em>)</li>
<li>Graphen als interne Datenstruktur. (<em>mufin audiogen</em>)</li>
</ul>
<p>Es ist natürlich empfehlenswert aus den ,,Fehlern&quot; anderer zu lernen, daher
sollte man folgende Probleme beim Design und der Implementierung berücksichtigen:</p>
<ul class="simple">
<li><em>Kaltstart</em>, also die Verzögerung beim ersten Start, möglichst klein halten.
<em>(mufin audiogen)</em></li>
<li>Verwaltung großer Datenmengen sollte möglich sein. <em>(Mirage)</em></li>
<li>Bibliothek Programmiersprachen unabhängig halten. <em>(Mirage)</em></li>
<li>Keine strikte Abhängigkeit von Audiodaten. Ein Betrieb nur mit Metadaten
sollte möglich sein. <em>(Mirage)</em></li>
<li>Libertäre Lizenz wählen um allgemeine Verfügbarkeit zu gewährleisten. <em>(mufin
audiogen)</em></li>
</ul>
</div>
<div class="section" id="anforderungen">
<h3>2.5 Anforderungen<a class="headerlink" href="#anforderungen" title="Permalink to this headline">¶</a></h3>
<p>Nachdem man sich also das Umfeld angeschaut, hat kann man versuchen
<em>Anforderungen</em> abzuleiten die eine gute Schnittmenge aus den obigen Plattformen
und Arbeiten bildet, welche dann <em>libmunin</em> erfüllen sollte.</p>
<p><strong>Performanz:</strong> Später ist damit zu rechnen, besonders im geplanten Client&ndash; und
Server&ndash;Betrieb, dass sehr viele Anfragen gleichzeitig gestellt werden. Um lange
Antwortzeiten zu verhindern, sollte das Ausstellen von Empfehlungen sehr
performant erfolgen.</p>
<p>Die eigentliche Arbeit muss daher in einem vorgelagerten Analyseschritt
erfolgen. Die daraus gewonnenen Kenntnisse können in einer geeigneten
Datenstruktur gespeichert werden. Diese kann dann beim Austellen der Empfehlung
dann einfach nur noch ausgelesen werden.</p>
<p><strong>Empfehlungen bilden eine Kette:</strong> Wird eine Anfrage an das System gestellt, so
wird ein <em>Iterator</em> zurückgegeben der alle dem System bekannten Songs nach
Relevanz absteigend sortiert ausgibt.</p>
<p><strong>Handhabung großer Datenmengen:</strong> Bei vielen Datamining&ndash;Anwendungen ist die
Menge der <em>Dokumente</em> der Flaschenhals &ndash;- in unserem Fall also sind die
<em>Dokumente</em> einzelne <em>Lieder</em>.  Herkömmliche private Musiksammlungen können
bereits Größen von mehreren Zehntausend Liedern erreichen.  Betreiber von
Streaming&ndash;Plattformen haben noch weitaus größere Datenmengen.</p>
<p><strong>Lizenz:</strong> Die Lizenz sollte einen libertären Einsatz ermöglichen und
sicherstellen, dass Weiterentwicklungen in das Projekt zurückfließen.  Die
<em>GPLv3</em> Lizenz <a class="reference internal" href="rst/index.html#gpl" id="id18">[Link-13]</a> erfüllt diese Bedingungen. Der kommerzielle Einsatz
ist erwünscht.</p>
<p><strong>Begründbarkeit:</strong> Empfehlungen sollen begründbar sein.
Es muss möglich sein festzustellen, welche Merkmale eines Songs zu der Empfehlung
geführt haben.</p>
<p><strong>Anpassungsfähige API:</strong> Die bereitgestellte API muss auf die stark variierende
Qualität und Form von Musiksammlungen eingestellt sein.  Viele existierende
Musiksammlungen sind unterschiedlich gut mit Metadaten (<em>Tags</em>) versorgt. So
sind manche <em>Tags</em> gar nicht erst vorhanden oder sind je nach Format und
verwendeten Tagging&ndash;Tool/Datenbank anders benannt.</p>
<p>Das fertige System soll mit Szenarien zurecht kommen, wo lediglich die Metadaten
der zu untersuchenden Songs zur Verfügung stehen, aber nicht die eigentlichen
Audiodaten. Dies kann vorteilhaft sein, wenn man keinen Zugriff auf die
Audiodaten hat, aber die Metadaten bei Musikmetadatenbanken wie <em>MusicBrainz</em>
vervollständigen kann.</p>
<p><strong>Unabhängigkeit von der Programmiersprache:</strong> Das System soll von mehreren
Programmiersprachen aus benutzbar sein.  Dieses Ziel könnte entweder durch
verschiedene <em>Languagebindings</em> erreicht werden, oder alternativ durch eine
Server/Client Struktur mit einem definierten Protokoll in der Mitte.</p>
<p>Portabilität ist für das erste zweitrangig.  Für den Prototypen sollen lediglich
unixoide Betriebssysteme, im speziellen <em>Arch Linux</em> <a class="reference internal" href="rst/index.html#jv6" id="id19">[Link-14]</a>, dem
bevorzugten Betriebssystem des Autors, unterstützt werden.</p>
<p><strong>Demonstrations und Debuggeranwendung:</strong> Eine Demonstrationsanwendung soll
entwickelt werden, die zur Fehlersuche, Verbesserung und als Einsatzbeispiel
dient.  Als Demonstrationsanwendung eignet sich ein Musicplayer der dem Nutzer
mithilfe des zu entwickelnden System Musikstücke vorschlägt und diese Empfehlung
auch <em>begründen</em> kann. So kann die Anwendung auch als <em>Debugger</em> für Entwickler
von <em>libmunin</em> dienen.</p>
<p>Die Demoanwendung sollte dabei auf dem freien MPD-Client <em>Moosecat</em> <a class="reference internal" href="rst/index.html#jh7" id="id20">[Link-15]</a>
aufsetzen.  Moosecat ist ein vom Autor seit 2012 entwickelter GPLv3 lizensierter
MPD-Client. Im Gegensatz zu den meisten, etablierten Clients hält er eine
Zwischendatenbank, die den Zustand des Servers spiegelt. Dadurch wird die
Netzwerklast und die Startzeit reduziert und interessante Feature wie
Volltextsuche werden möglich.  Er wird in <em>Python,</em> <em>Cython</em> und <em>C</em> entwickelt
und befindet sich noch im Entwicklungsstadium.</p>
<p><strong>Einfaches Information Retrieval:</strong> In den meisten privaten
Musiksammlungen sind die wichtigsten Attribute <em>getaggt</em> &ndash;- sprich in der
Audiodatei sind Werte wie <em>Artist</em>, <em>Album</em> und <em>Titel</em> hinterlegt. Manche
Attribute sind allerdings schwerer zu bekommen, wie beispielsweise die <em>Lyrics</em>
zu einem bestimmten <em>Titel</em> oder auch das <em>Genre</em> eines Albums.</p>
<p>Es sollte aus Komfortgründen auf einfache Art und Weise möglich sein externe
Bibliotheken zur Datenbeschaffung in <em>libmunin</em> einzubinden.  Für diesen Einsatz
ist <em>libglyr</em> <a class="reference internal" href="rst/index.html#xu" id="id21">[Link-16]</a> gut geeignet.  <em>Libglyr</em> ist eine, vom Autor seit Ende
2010 entwickelte C-Bibliothek Musikmetadatensuchmaschine, um schwer zu
besorgende Daten wie Lyrics, Coverart und andere Metadaten im Internet zu suchen
und optional lokal zwischenzuspeichern.  Sie ist GPLv3 lizensiert und wird unter
anderem im <em>GnomeMusicPlayerClient (gmpc)</em>, vielen Shellskripten und
in dem oben genannten <em>Moosecat</em> eingesetzt.</p>
<p><strong>Anpassungsfähigkeit an den Benutzer:</strong> Mit der Zeit soll es <em>bessere</em>
Empfehlungen liefern als am Anfang. Es soll dabei auf explizite und auf
implizite Weise lernen. Beim expliziten Lernen gibt der Benutzer Tipps
(beispielsweise kann er ein Lied oder eine Empfehlung bewerten), beim
implizierten Lernen wird, ohne das Zutun des Nutzers, das Verhalten des
Benutzers beobachtet und daraus werden Schlussfolgerungen getroffen.</p>
<div class="section" id="nichtanforderungen">
<h4>2.5.1 Nichtanforderungen<a class="headerlink" href="#nichtanforderungen" title="Permalink to this headline">¶</a></h4>
<p>Folgendes sind keine Probleme die von <em>libmunin</em> gelöst werden müssen:</p>
<p><strong>Einpflegen manuell erstellter Empfehlungen:</strong> Dies ist per <em>,,Wrapper&quot;</em> um die
Bibliothek möglich.</p>
<p><strong>Social-based music recommendation:</strong> <em>libmunin</em> soll eine rein <em>Content-based
music recommendation Engine</em> werden.  Die Ähnlichkeit zweier Datensätze wird
also algorithmisch ermittelt, anstatt auf das Wissen von Menschen
zurückzugreifen.</p>
</div>
</div>
<div class="section" id="zielgruppe">
<h3>2.6 Zielgruppe<a class="headerlink" href="#zielgruppe" title="Permalink to this headline">¶</a></h3>
<p><em>libmunin</em> soll eine Bibliothek für Entwickler sein. Es stellt also keine
einfach zu nutzende Webseite bereit, wie die oben genannten &ndash;- es kann aber für
Entwickler als Backend dafür dienen.</p>
<p><em>Vom Autor selbst sind die folgenden zwei Projekte anvisiert:</em></p>
<p><strong>Moosecat:</strong> Implementierung als Plugin für <em>Intelligente Playlisten</em>.</p>
<p><strong>Shellskripte:</strong> Mittels eines Kommandozeilen&ndash;Frontends von <em>libmunin</em> wäre ein
einfacher Einsatz in Shellskripten möglich. Das Programm könnte versuchen die
gängigsten Musiksammlungen einzulesen und auf Kommando Empfehlungen generieren.</p>
<p><strong>Mopidy:</strong> <a class="reference internal" href="rst/index.html#w5" id="id22">[Link-17]</a> Mopidy ist eine alternative Implementierung zum <em>MusicPlayerDaemon
(MPD)</em> in Python mit erweiterten Features. Sie bietet eine Anbindung zu
Music&ndash;Streaming&ndash;Plattformen wie <em>Spotify</em>. Dabei ist es kompatibel mit den
existierenden MPD-Clients. Da die Entwickler von Mopidy eine Möglichkeit suchen um
Dynamische Playlists zu implementieren <a class="reference internal" href="rst/index.html#xvg" id="id23">[Link-18]</a>, wäre dies ein guter
Anlaufpunkt.</p>
<p class="rubric">Footnotes</p>
<table class="docutils footnote" frame="void" id="f3" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>Eine Streaming Plattform für freie, <em>Creative Commons</em> lizensierte Musik. <a class="reference internal" href="rst/index.html#t" id="id24">[Link-19]</a></td></tr>
</tbody>
</table>
</div>
</div>
<span id="document-rst/III/index"></span><div class="section" id="begriffsklarungen">
<h2>3 Begriffsklärungen<a class="headerlink" href="#begriffsklarungen" title="Permalink to this headline">¶</a></h2>
<p>Im Folgenden werden häufig, gewisse Begriffe gebraucht, die nicht allgemein
verständlich sind, oder die im Kontext von <em>libmunin</em> anders besetzt sind.
Diese sollen hier definiert werden, bevor wir fortfahren.</p>
<div class="section" id="allgemeine-fachbegriffe">
<h3>3.1 Allgemeine Fachbegriffe<a class="headerlink" href="#allgemeine-fachbegriffe" title="Permalink to this headline">¶</a></h3>
<dl class="glossary docutils">
<dt id="term-hashtabelle">Hashtabelle</dt>
<dd>Eine Hashtabelle ist eine Datenstruktur, die eine Abbildung von
eindeutigen Schlüsselwerten auf beliebige Werte möglich macht. Die
interessante Eigenschaft ist dabei der konstante Zeitaufwand beim
Nachschlagen eines Wertes durch den Schlüssel und dem effizienten
Hinzufügen neuer Schlüssel/Wert&ndash;Paare.</dd>
<dt id="term-breitensuche">Breitensuche</dt>
<dd>Verfahren um in definierter Weise einen Graphen zu traversieren. Dabei
wird ausgehend von einem Knoten zuerst jeder Nachbarknoten besucht. Erst
dann wird analog mit den Nachbarknoten verfahren.</dd>
<dt id="term-tags">Tags</dt>
<dd>In Audiofiles können bei den meisten Formatten, Metadaten abgelegt
werden. Dies wird oft genutzt um häufig gebrauchte Daten wie den <em>Artist</em>,
<em>Album</em> und <em>Titel</em>, aber auch komplexere Daten wie das <em>Coverart</em>,
abzuspeichern. Tags können von geeigneten Tools wie Musicplayern
ausgelesen werden.</dd>
<dt id="term-iterator">Iterator</dt>
<dd>Ein Iterator ist ein <em>Versprechen</em> einen Wert genau dann zu berechnen wenn
er gebraucht wird. Meistens werden Iteratoren dazu genutzt um
Datenstrukturen zu traversieren &ndash;- jeder Aufruf des Iterator liefert
dabei den nächsten Wert oder signalisiert, dass keine neuen Werte mehr vorhanden sind.</dd>
<dt id="term-proxymethode">Proxymethode</dt>
<dd>Eine <em>Methode</em> die ihre Parameter lediglich an eine andere Methode oder
Funktion weiterreicht. Sie werden meist aus Gründen der API-Gestaltung
eingesetzt.</dd>
<dt id="term-languagebindings">Languagebindings</dt>
<dd>Eine <em>Wrapper&ndash;Schicht</em>, die es möglich macht, eine in einer bestimmten
Programmiersprache (beispielsweise in <span class="math">\(\mathrm{C}\)</span>) geschriebene
Bibliothek in einer anderen Programmiersprache (beispielsweise Python) zu
nutzen.</dd>
</dl>
</div>
<div class="section" id="kontextspezifische-fachbegriffe">
<h3>3.2 Kontextspezifische Fachbegriffe<a class="headerlink" href="#kontextspezifische-fachbegriffe" title="Permalink to this headline">¶</a></h3>
<dl class="glossary docutils">
<dt id="term-song">Song</dt>
<dd><p class="first">Im Kontext von <em>libmunin</em> ist ein Song eine Menge von Attributen.  Jedem
<a class="reference internal" href="rst/index.html#term-attribut"><em class="xref std std-term">Attribut</em></a> ist, wie in einer Hashtabelle, genau ein Wert zugeordnet.</p>
<p>Beispielsweise haben alle Songs ein Attribut <tt class="docutils literal"><span class="pre">artist</span></tt>, aber jeder
einzelner Song kennt dafür einen bestimmten Wert.</p>
<p class="last">Desweiteren wird für jeden Song die Distanz zu einer Menge ähnlicher
Songs gespeichert, sowie einen Integer der als Identifier dient.</p>
</dd>
<dt id="term-seedsong">Seedsong</dt>
<dd>Ein <a class="reference internal" href="rst/index.html#term-song"><em class="xref std std-term">Song</em></a> der als Basis für Empfehlungen ausgewählt wurde.</dd>
<dt id="term-session">Session</dt>
<dd><p class="first">Eine <em>Session</em> ist eine Nutzung von <em>libmunin</em> über einem bestimmten
Zeitraum. Zum Erstellen einer Session werden die Daten importiert,
analysiert und ein Graph wird daraus aufgebaut.</p>
<p class="last">Wer die Bibliothek benutzt wird die <em>Session</em> zudem als Eintrittspunkt
für die API benutzen.</p>
</dd>
<dt id="term-maske">Maske</dt>
<dd><p class="first">Die <a class="reference internal" href="rst/index.html#term-session"><em class="xref std std-term">Session</em></a> benötigt eine Beschreibung der Daten die importiert
werden. So muss ich darauf geeinigt werden was beispielsweise unter dem
Schlüssel <tt class="docutils literal"><span class="pre">genre</span></tt> abgespeichert wird.</p>
<p class="last">In der <em>Maske</em> werden daher die einzelnen Attribute festgelegt die ein
einzelner Song haben kann und wie diese anzusprechen sind. Zudem wird
pro Attribut ein <a class="reference internal" href="rst/index.html#term-provider"><em class="xref std std-term">Provider</em></a> und eine <a class="reference internal" href="rst/index.html#term-distanzfunktion"><em class="xref std std-term">Distanzfunktion</em></a>
festgelegt, die bei der Verarbeitung dieses Wertes genutzt wird. Zudem
wird die Gewichtung des Attributes festgelegt - manche Attribute sind
für die Ähnlichkeit zweier Songs entscheidender als andere.</p>
</dd>
<dt id="term-distanz">Distanz</dt>
<dd><p class="first">Eine Distanz beschreibt die Ähnlichkeit zweier Songs oder Attribute.
Eine Distanz von 0 bedeutet dabei eine maximale Ähnlichkeit (oder
minimale <em>Entfernung</em> zueinander), eine Distanz von 1.0 maximale
Unähnlichkeit (oder maximale <em>Entfernung</em>).</p>
<p class="last">Die Distanz wird durch eine <a class="reference internal" href="rst/index.html#term-distanzfunktion"><em class="xref std std-term">Distanzfunktion</em></a> berechnet.</p>
</dd>
<dt id="term-distanzfunktion">Distanzfunktion</dt>
<dd><p class="first">Eine Distanzfunktion ist im Kontext von <em>libmunin</em> eine Funktion, die
zwei Songs als Eingabe nimmt und die Distanz zwischen
diesen berechnet.</p>
<p>Dabei wird jedes Attribut betracht, welches in beiden Songs
vorkommt. Für diese wird von der Maske eine
spezialisierte Distanzfunktion festgelegt, die weiß wie diese
zwei bestimmten Werte sinnvoll verglichen werden können. Die so
errechneten Werte werden, gemäß der Gewichtung in der Maske, zu
einem Wert verschmolzen.</p>
<p>Fehlen Attribute in einen der beiden Songs wird für diese jeweils eine
Distanz von 1.0 angenommen und ebenfalls in die gewichtete Oberdistanz
eingerechnet.</p>
<p>Die folgenden Bedingungen müssen sowohl für die allgemeine
Distanzfunktion, als auch für die speziellen Distanzfunktionen gelten.
<span class="math">\(D\)</span> ist dabei die Menge aller Songs, <span class="math">\(d\)</span> eine Distanzfunktion:</p>
<ul class="last simple">
<li><em>Uniformität</em>  <span class="math">\(0 \leq d(i, j) \leq 1\forall i,j \in D \;\;\;\text{(1)}\)</span></li>
<li><em>Symmetrie</em>  <span class="math">\(d(i, j) = d(j, i) \forall i,j \in D \;\;\;\text{(2)}\)</span></li>
<li><em>Identität</em>  <span class="math">\(d(i, i) = 0.0 \forall i \in D \;\;\;\text{(3)}\)</span></li>
<li><em>Dreiecksungleichung</em>  <span class="math">\(d(i, j) \leq d(i, x) + d(x, j) \forall i,j,x \in D \;\;\;\text{(4)}\)</span></li>
</ul>
</dd>
<dt id="term-attribut">Attribut</dt>
<dd>Ein Attribut ist ein <em>Schlüssel</em> in der Maske. Er repräsentiert
eine Vereinbarung mit dem Nutzer unter welchem Namen das Attribut in
Zukunft angesprochen wird. Zu jedem gesetzten Attribut gehört ein Wert,
andernfalls ein spezieller leerer Wert. Ein Song besteht aus einer
Menge dieser Paare.</dd>
<dt id="term-provider">Provider</dt>
<dd><p class="first">Ein <em>Provider</em> normalisiert einen Wert anhand verschiedener
Charakteristiken. Sie dienen zur vorgelagerten Verarbeitung von den Daten
die in das System geladen werden. Jeder <em>Provider</em> ist dabei durch die Mask einem
Attribut zugeordnet.</p>
<p class="last">Ihr Ziel ist für die <a class="reference internal" href="rst/index.html#term-distanzfunktion"><em class="xref std std-term">Distanzfunktion</em></a> einfache und effizient
vergleichbare Werte zu liefern - da die Distanzfunktion sehr
viel öfters aufgerufen wird als der <em>Provider</em>.</p>
</dd>
<dt id="term-assoziationsregeln">Assoziationsregeln</dt>
<dd><p class="first">Eine Assoziationsregel verbindet zwei Mengen <em>A</em> und <em>B</em> von Songs
miteinander. Wird eine der beiden Mengen miteinander gehört, ist es
wahrscheinlich, dass auch die andere Menge daraufhin angehört wird.</p>
<p>Sie werden aus dem Verhalten des Nutzers abgeleitet.</p>
<p>Die Güte der Regel wird durch ein <em>Rating</em> beschrieben:</p>
<div class="math">
\[Rating(A, B) = (1.0 - Kulczynski(A, B)) \cdot ImbalanceRatio(A, B)\]</div>
<p><em>wobei:</em>  <em>Aussagekraft:</em></p>
<blockquote>
<div><ul class="simple">
<li><span class="math">\(Kulczynski(A, B) =  \frac{p(A \vert B) + p(B \vert A)}{2}\)</span>  Güte der Regel</li>
<li><span class="math">\(ImbalanceRatio(A, B) = \frac{\vert support(A) - support(B) \vert}{support(A) + support(B) - support(A \cup B)}\)</span>  Gleichmäßigkeit der Regel</li>
<li><span class="math">\(support(X) = H_n(X)\)</span>   Absolute Häufigkeit von X in allen Transaktionen</li>
</ul>
</div></blockquote>
<p>Mehr dazu in der Bachelorarbeit.</p>
<p>TODO: am besten gleich ganz in die BA verschieben?</p>
<p class="last"><em>Vergleiche zudem:</em> <a class="reference internal" href="rst/index.html#datamining-concepts-and-techniques" id="id1">[6]</a> Datamining
Concepts and Techniques.</p>
</dd>
</dl>
</div>
</div>
<span id="document-rst/IV/index"></span><div class="section" id="design">
<h2>4 Design<a class="headerlink" href="#design" title="Permalink to this headline">¶</a></h2>
<div class="section" id="algorithmik">
<h3>4.1 Algorithmik<a class="headerlink" href="#algorithmik" title="Permalink to this headline">¶</a></h3>
<p>Im folgenden wird ein Überblick über die Algorithmik, und die
dazugehörigen Datenstrukturen, gegeben die im Kern von <em>libmunin</em> stecken. Eine
genauere Beschreibung wird in der Bachelorarbeit erfolgen - dieser Überblick
soll hauptsächlich dazu dienen einen Einblick in die verwendeten Techniken zu
geben.</p>
<div class="section" id="grunduberlegungen">
<h4>4.1.1 Grundüberlegungen<a class="headerlink" href="#grunduberlegungen" title="Permalink to this headline">¶</a></h4>
<p>Die <em>Ähnlichkeit</em> von je einem <a class="reference internal" href="rst/index.html#term-song"><em class="xref std std-term">Song</em></a> <em>A</em> und <em>B</em> lässt sich durch eine
<a class="reference internal" href="rst/index.html#term-distanz"><em class="xref std std-term">Distanz</em></a> definieren.</p>
<p>Um die Distanzen zu speichern wird bei vielen Datamining&ndash;Projekten eine
Distanzmatrix genutzt &ndash;- also eine quadratische Dreiecksmatrix, in der
die Distanzen von jedem Dokument zu jedem anderen gespeichert werden.</p>
<p>Da das System auch für eine sehr hohe Anzahl von Songs funktionieren soll,
schließt sich die Benutzung einer Distanzmatrix allerdings durch den Aufwand von
<span class="math">\(O(n^2)\)</span> aus.  Nehmen wir an ein Benutzer möchte seine Musiksammlung mit
<span class="math">\(40.000\)</span> Liedern importieren, so bräuchten wir soviele Felder in der
Matrix:</p>
<div class="math">
\[\frac{(40.000^2 - 40.0000)}{2} = 799.980.000\]</div>
<p>Nimmt man für jedes Feld einen günstig geschätzten Speicherverbrauch von
<span class="math">\(4\)</span> Byte an, so bräuchte man allein für die Distanzmatrix hier aufgerundet
3 Gigabyte Hauptspeicher &ndash;- was selbst für diesen günstig geschätzten Fall
unakzeptabel wäre. Auch eine Sparsematrix (vgl. <a class="reference internal" href="rst/index.html#stoer2002introduction" id="id1">[9]</a>)
wäre hier kaum sinnvoll, da in allen Fällen ja trotzdem etwas weniger als die
Hälfte aller Felder besetzt sind.</p>
<p>Man muss also versuchen, nur eine bestimmte Anzahl von Distanzen für einen Song
zu speichern &ndash;- vorzugsweise eine Menge von Songs mit der kleinsten
Distanz. Als geeignete Datenstruktur erscheint hier ein Graph &ndash;- die
Knoten desselben sind die Songs und die Kanten dazwischen die Distanzen.</p>
<p>Zur besseren optischen Vorstellung, ist unter  ein
Graphen&ndash;Plot (erstellt mit <tt class="docutils literal"><span class="pre">igraph</span></tt> <a class="reference internal" href="rst/index.html#igr" id="id2">[Link-20]</a>) gezeigt.</p>
<div class="figure align-center" id="fig-graph-example">
<a class="reference internal image-reference" href="../../_images/graph_example.png"><img alt="Beispielgraph aus generierten Testdaten" src="../../_images/graph_example.png" style="width: 85%;" /></a>
<p class="caption">Beispielgraph mit 100 Knoten, aus generierten Testdaten. Die Farbe der
Knoten zeigt grob die ,,Zentralität&quot; des Knoten an. Pro Knoten wurde
ein Integer zwischen 1-100 willkürlich generiert, diese wurden mit einer
primitiven Distanzfunktion verglichen. Die Länge der Kanten ist durch das
Layout bedingt und deutet nicht auf die Distanz hin.</p>
</div>
<p>Jedem <a class="reference internal" href="rst/index.html#term-attribut"><em class="xref std std-term">Attribut</em></a> eines Songs ist ein Wert zugeordnet. Um eine sinnvolle
Distanzfunktion zu definieren, die zwei Songs miteinander vergleicht, muss man
für jedes spezielle Attribut eine eigene Unter&ndash;Distanzfunktion definieren.
Beispielsweise muss für das <em>Genre</em> eine andere Distanzfunktion definiert sein als
für den <em>Liedtext.</em></p>
<p>Um aus den Unter&ndash;Distanzfunktion eine gemeinsame Distanz zu erhalten werden die
einzelnen Ergebnisse, durch einen gewichteten Mittelwert in eine einzelne
Distanz zusammengeschmolzen.</p>
</div>
<div class="section" id="graphenoperationen">
<h4>4.1.2 Graphenoperationen<a class="headerlink" href="#graphenoperationen" title="Permalink to this headline">¶</a></h4>
<p>Um mit unseren Graphen arbeiten zu können, müssen wir einige Operationen auf ihm
definieren:</p>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">rebuild:</span></tt> Bevor der Graph benutzt werden kann, muss er natürlich erstmal
aufgebaut werden.  Der naive Ansatz wäre dabei für jeden Song die Distanzen zu
jedem anderen Song zu berechnen &ndash;- dies hätte einen Aufwand von
<span class="math">\(O(n^2)\)</span> zur Folge. Dies ist aus oben genannten Gründen ebenfalls kaum
wünschenswert.</p>
<p>Deshalb kann die <tt class="docutils literal"><span class="pre">rebuild</span></tt> Operation keinen <em>perfekten</em>  Graph erzeugen, sondern
muss für hinreichend große Datenmengen auf eine Approximation zurückgreifen.
<em>Perfekt</em> meint hierbei einen Graphen bei dem jeder Knoten wirklich mit den
absolut besten Nachbarn verbunden ist.</p>
<p>Nach dem Aufbau sollte ein ungerichteter Graph dabei herauskommen, in dem
idealerweise jeder Knoten vom jedem anderen Knoten erreichbar ist &ndash;- es sollten
also keine <em>Inseln</em> dabei entstehen. Es gibt keine maximale Anzahl von Nachbarn,
die ein Song haben darf &ndash;- lediglich einen <em>Richtwert</em>.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">rebuild_stupid:</span></tt> Wie <tt class="docutils literal"><span class="pre">rebuild</span></tt>, nutzt aber quadratischen Aufwand, indem es
jeden Song mit jedem anderen vergleicht. Dies ist für kleine Mengen (<span class="math">\(\le
400\)</span>) von Songs verträglich und für <em>sehr</em> kleine Mengen sogar schneller &ndash;-
tatsächlich fällt die normale <tt class="docutils literal"><span class="pre">rebuild</span></tt>-Operation tatsächlich auf diese
zurück, falls die Menge an Songs <span class="math">\(\le 200\)</span>.</p>
<p>Hauptsächlich für Debugging&ndash;Zwecke, um Fehler beim herkömmlichen <tt class="docutils literal"><span class="pre">rebuild</span></tt>
aufzudecken.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">add:</span></tt> Füge einen einzelnen Song zu dem Graphen hinzu, verbinde ihn aber
noch nicht.  Dies ist die bevorzugte Operation um viele Songs dem Graphen
hinzuzufügen - beispielsweise beim <em>Kaltstart</em> &ndash;- da das Verbinden später in
einem <tt class="docutils literal"><span class="pre">rebuild</span></tt>-Schritt erledigt werden kann.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">insert:</span></tt> Füge einen einzelnen Song zu dem Graphen hinzu und verbinde ihn.
Suche dazu erst eine passende Stelle in der er sinnvoll eingepasst wird.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">remove:</span></tt> Entferne einen einzelnen Song aus dem Graphen und versuche das
entstandene <em>Loch</em> zu flicken, indem die Nachbarn des entfernten Songs
untereinander verkuppelt werden.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">modify:</span></tt> Manchmal ist es nötig das Attribut eines einzelnen Songs &ndash;- wie
beispielsweise das stark vom Benutzer abhängige <em>Rating</em> &ndash;- zu ändern. Dabei
wird der Song erst mittels <tt class="docutils literal"><span class="pre">remove</span></tt> entfernt, die Attribute werden angepasst
und er wird mittels <tt class="docutils literal"><span class="pre">insert</span></tt> wieder eingefügt. Diese Operation ist dadurch
relativ teuer und sollte mit Bedacht eingesetzt werden.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">fixing:</span></tt> Durch das Löschen und Hinzufügen von Songs können <em>Einbahnstraßen</em>
im Graphen entstehen. Durch dem nach gelagerten <em>fixing</em>&ndash;Schritt werden diese,
nach bestimmten Regeln, entweder entfernt oder in bidirektionale Verbindungen
umgebaut.</p>
</li>
</ul>
</div>
<div class="section" id="ausstellen-von-empfehlungen">
<span id="recom-out"></span><h4>4.1.3 Ausstellen von Empfehlungen<a class="headerlink" href="#ausstellen-von-empfehlungen" title="Permalink to this headline">¶</a></h4>
<p>Das Ausstellen von Empfehlungen wird durch das Traversieren des Graphen mittels
einer <a class="reference internal" href="rst/index.html#term-breitensuche"><em class="xref std std-term">Breitensuche</em></a> erledigt. Dabei wird der Ursprung durch ein
sogenannten <a class="reference internal" href="rst/index.html#term-seedsong"><em class="xref std std-term">Seedsong</em></a> bestimmt. Anschaulich wäre der Seedsong bei einer
Anfrage wie ,,10 ähnliche Songs zu <em>The Beatles &ndash;- Yellow Submarine</em> &quot; eben
<em>,,Yellow Submarine&quot;</em>.</p>
<p>Aus der funktionalen Programmierung wurde dabei das Konzept der <em>Infinite
Iterators</em> übernommen: Anstatt eine bestimmte Anzahl von Empfehlungen als Liste,
wird ein Versprechen herausgegeben, die Empfehlungen genau dann zu berechnen,
wenn sie gebraucht werden (<em>Lazy Evaluation</em>). Dadurch ist auch die Zahl der zu
gebenden Empfehlungen variabel &ndash;- was sehr nützlich beim Erstellen einer
intelligenten Playlist ist.</p>
<p>Es können auch mehrere Seedsongs verwendet werden &ndash;- dann werden die einzelnen
<em>Iteratoren</em> im Reißschlußverfahren verwebt.</p>
<p>Basierend auf dieser Idee ist es möglich, bestimmte Strategien zu implementieren,
die beispielsweise Songs mit der höchsten Abspielanzahl (<em>Playcount</em>), dem
besten <em>Rating</em> oder einen bestimmten Attribut wie <em>genre=rock</em> als Seedsongs
auswählen.</p>
</div>
<div class="section" id="filtern-von-empfehlungen">
<span id="recom-filter"></span><h4>4.1.4 Filtern von Empfehlungen<a class="headerlink" href="#filtern-von-empfehlungen" title="Permalink to this headline">¶</a></h4>
<p>Oft ist es nötig, die gegebenen Empfehlungen noch zusätzlich zu filtern. Das hat
den simplen Grund, dass im Graphen die meisten Alben einzelne <em>Cluster</em> bilden
&ndash;- die Lieder auf einem Album sind meist unter sich sehr ähnlich. Da man aber
vermeiden möchte, dass zu einem Seedsong ein Lied vom selben Album oder gar
selben Künstler empfohlen wird, müssen diese beim Iterieren über den Graphen
ausgesiebt werden.</p>
<p>Dazu werden die zuletzt gegebenen Empfehlungen betrachtet &ndash;- ist, zum Beispiel,
in den letzten 5 Empfehlungen der gleiche Künstler bereits vorhanden so wird die
Empfehlung ausgesiebt.</p>
</div>
<div class="section" id="lernen-durch-die-historie">
<h4>4.1.5 Lernen durch die Historie<a class="headerlink" href="#lernen-durch-die-historie" title="Permalink to this headline">¶</a></h4>
<p>Wie bereits erwähnt, soll <em>libmunin</em> Mechanismen bieten um sowohl <em>explizit</em> als
auch <em>implizit</em> vom Nutzer zu lernen.  Das <em>implizite</em> Lernen erfolgt dabei
durch <a class="reference internal" href="rst/index.html#term-assoziationsregeln"><em class="xref std std-term">Assoziationsregeln</em></a>, die aus der Aufzeichnung des Gehörten (der
<em>Historie</em>) abgeleitet werden.</p>
<p>Nur eine bestimmte Anzahl von Regeln wird gespeichert &ndash;- zuviele Regeln würden
<em>historische Altlasten</em> immer weiter mitschleppen und der aktuelle Geschmack des
Benutzers würde nicht widergespiegelt werden. Beispielsweise kann man hier einem
Hörer nennen der <em>libmunin</em> zwei Jahre lang nutzt und anfangs viel elektronische
<em>Ambient-Musik</em> hört, in letzter Zeit aber auf <em>Klassik</em> umgesattelt hat. Nach
einiger Zeit sollten also keine Empfehlungen zu elektronischer Musik mehr
kommen.</p>
</div>
</div>
<div class="section" id="integration-von-libmunin-in-die-umwelt">
<h3>4.2 Integration von <em>libmunin</em> in die Umwelt<a class="headerlink" href="#integration-von-libmunin-in-die-umwelt" title="Permalink to this headline">¶</a></h3>
<div class="section" id="allgemeiner-ablauf">
<h4>4.2.1 Allgemeiner Ablauf<a class="headerlink" href="#allgemeiner-ablauf" title="Permalink to this headline">¶</a></h4>
<p>Eine gut definierte Datenstruktur nützt nichts wenn man nicht weiß wie die
Daten, die aus der <em>Umwelt</em> hereinkommen aussehen. Diese müssen schließlich
erstmal in die Form eines Graphen gebracht werden bevor man Empfehlungen
aussprechen kann. Dieser <em>Prozess</em> (siehe Abbildung )
beinhaltet vier Schritte:</p>
<ul class="simple">
<li><strong>Kaltstart:</strong> Im Kaltstart müssen mittels <em>Information Retrieval</em> Techniken
fehlende Daten, wie beispielsweise die Songtexte oder die die Audiodaten, aus
lokalen oder entfernten Quellen besorgt werden. Dies ist Aufgabe des Nutzers -
<em>libmunin</em> bietet hier nur Hilfsfunktionen an.
Der <em>Kaltstart</em> ist meist nur bei der ersten Benutzung einer Musikdatenbank
nötig, da die Daten zwischengespeichert werden können.</li>
<li><strong>Analyse:</strong> Bei der <em>Analyse</em> werden die nun vorhandenen Daten untersucht und
durch sogenannte <a class="reference internal" href="rst/index.html#term-provider"><em class="xref std std-term">Provider</em></a> normalisiert. Die Normalisierung ist nötig,
um im nächsten Schritt eine einfache und effiziente Vergleichbarkeit der Daten
zu gewährleisten.</li>
<li><strong>Rebuild:</strong> Dies entspricht der <tt class="docutils literal"><span class="pre">rebuild</span></tt>-Operation.
In diesem Schritt werden die normalisierten Daten untereinander mittels einer
passenden Distanzfunktion untersucht. Unter Zuhilfenahme, der dabei
entstehenden Distanz wird der Graph aufgebaut.</li>
<li><strong>Einsatz:</strong> Durch Traversierung des Graphen können jetzt Ergebnisse abgeleitet
werden.</li>
</ul>
<div class="figure align-center" id="fig-startup">
<a class="reference internal image-reference" href="../../_images/munin_startup.svg"><img alt="Allgemeine Benutzung" src="../../_images/munin_startup.svg" width="75%" /></a>
<p class="caption">Allgemeine Benutzungs&ndash;Prozess von libmunin, in 4 Stufen aufgeteilt.</p>
</div>
</div>
<div class="section" id="die-umgebung">
<span id="environement"></span><h4>4.2.2 Die Umgebung<a class="headerlink" href="#die-umgebung" title="Permalink to this headline">¶</a></h4>
<p>In Abbildung  ist eine Übersicht gegeben in welcher
Umgebung <em>libmunin</em> eingesetzt wird. Eine Frage die sich dabei stellt ist: <em>Wie</em>
stellen die Nutzer der Bibliothek ihre Musikdatenbank bereit? Und <em>wie</em> geben
sie diese in das System ein?</p>
<p>Dazu bedarf es einer weiteren Eingabe vom Nutzer: Einer Beschreibung, wie die
Lieder in seiner Musikdatenbank aufgebaut sind. Also welche <a class="reference internal" href="rst/index.html#term-tags"><em class="xref std std-term">Tags</em></a> sie
enthalten und wie mit diesen Daten verfahren werden soll.</p>
<p>Da diese Daten sehr unterschiedlich aufgebaut sind, muss <em>libmunin</em> sehr
generisch aufgebaut sein. Der Ansatz ist dabei, zusätzlich vom Nutzer eine
<a class="reference internal" href="rst/index.html#term-maske"><em class="xref std std-term">Maske</em></a> zu verlangen, die beschreibt welche möglichen <em>Tags</em> (oder
Attribute) ein einzelner Song besitzt Für jedes Attribut kann
dann, nach Baukastenprinzip, ein Provider, eine Distanzfunktion
und eine Gewichtung ausgewählt werden. Letzere beschreibt, wie <em>wichtig</em> diese
Attribut aus Sicht des Nutzers in Bezug auf die Ähnlichkeit ist. Der
Provider normalisiert die Werte von einem Attribut auf bestimmte
Art und Weise, während die Distanzfunktion sich um das Vergleichen der
normalisierten Werte nach bestimmten, je auf Art des Attributs spezialisierten
Weise, kümmert.</p>
<p>Nachdem das Format, in Form der Maske, geklärt ist, kann der Nutzer
jeden Song mittels der <tt class="docutils literal"><span class="pre">add</span></tt>-Operation hinzufügen und im Anschluss eine
<tt class="docutils literal"><span class="pre">rebuild</span></tt>-Operation triggern.</p>
<div class="figure align-center" id="fig-integration">
<a class="reference internal image-reference" href="../../_images/integration.svg"><img alt="Integrationsübersicht" src="../../_images/integration.svg" width="100%" /></a>
<p class="caption">Integration von libmunin in seine Umwelt. Die Grafik ist in 3
unterschiedliche, durch Striche getrennte, Ebenen aufgeteilt: Unten
der Nutzerbereich (Entwickler oder Endanwender die libmunin nutzen), in der
Mitte die Entwickler von libmunin und oben die externen Ressourcen auf die
libmunin zugreifen kann.</p>
</div>
<p>Wir wissen nun wie unsere interne Datenstruktur auszusehen hat. Wir wissen auch
wie die Daten aussehen die von der Umwelt hereinkommen. Der nächste Schritt
besteht darin, sich Gedanken über den <em>Layer</em> zu machen welcher zwischen beiden
vermittelt.</p>
<p>Tatsächlich besteht ein großer Teil von <em>libmunin</em> aus diesem <em>Layer</em>, der Daten
aus der Umwelt nimmt und in die interne Graphendarstellung transferiert.</p>
<p>In Abbildung  findet sich eine Darstellung von <em>libmunin</em> als
,,Whitebox&quot; &ndash;- sprich, als Box mit allen Ein- und Ausgängen, sowie der groben
Verarbeitung dazwischen. Dies ist als Zusammenfassung des oben Gesagten zu
werten.</p>
<div class="figure align-center" id="fig-arch">
<a class="reference internal image-reference" href="../../_images/arch.svg"><img alt="Architekturübersicht." src="../../_images/arch.svg" width="100%" /></a>
<p class="caption">Betrachtung von libmunin als ,,Whitebox” &ndash;- Alle Eingaben (links) und
Ausgaben (rechts) in einem Bild. In der Box selbst ist die grobe
Verarbeitung der Daten skizziert.</p>
</div>
</div>
</div>
<div class="section" id="entwurf-der-software">
<h3>4.3 Entwurf der Software<a class="headerlink" href="#entwurf-der-software" title="Permalink to this headline">¶</a></h3>
<p>Da wir jetzt grob wissen aus welchen Komponenten unsere Software besteht, können
wir uns Gedanken darüber machen wie diese einzelnen Teile konkret aussehen.  Im
folgenden werden die <em>,,Hauptakteure&quot;</em> der Software vorgestellt:</p>
<div class="section" id="ubersicht">
<h4>4.3.1 Übersicht<a class="headerlink" href="#ubersicht" title="Permalink to this headline">¶</a></h4>
<p>Unter  findet sich eine grobe Übersicht der wichtigsten
Klassen. <em>Libmunin's</em> Entwurf basiert &ndash;- dort wo es Sinn macht &ndash;- auf
Prinzipien der Objektorientierten Programmierung. Einige Teile der
Funktionalität, wie die Graphentraversierung, sind allerdings prozedural
implementiert.</p>
<div class="figure align-center" id="fig-class-overview">
<a class="reference internal image-reference" href="../../_images/class.svg"><img alt="Klassenübersicht" src="../../_images/class.svg" width="100%" /></a>
<p class="caption">Jeder Node ist eine Klasse in den jeweiligen Teilbereichen der Software.
Provider und DistanceFunction Unterklassen nur beispielhaft gezeigt.</p>
</div>
</div>
<div class="section" id="grobe-unterteilung">
<h4>4.3.2 Grobe Unterteilung<a class="headerlink" href="#grobe-unterteilung" title="Permalink to this headline">¶</a></h4>
<p>Wir schauen uns zuerst die einzelnen <em>Regionen</em> der Software an, danach widmen
wir uns den einzelnen Komponenten.  Grob ist die Software in fünf
unterschiedliche <em>Regionen</em> aufgeteilt.  Im Folgenden werden diese Regionen
vorgestellt.</p>
<ol class="arabic">
<li><p class="first"><strong>API:</strong> Die API ist die Schnittstelle zum Benutzer hin. Der Nutzer kann
mittels einer <tt class="docutils literal"><span class="pre">Session</span></tt> auf alle Funktionen von <em>libmunin</em> zugreifen. Dazu
muss er beim Instanzieren derselben eine <tt class="docutils literal"><span class="pre">Maske</span></tt> angeben die die
Musikdatenbank beschreibt.  Alternativ kann die <tt class="docutils literal"><span class="pre">EasySession</span></tt> genutzt
werden, die eine vordefinierte <tt class="docutils literal"><span class="pre">Maske</span></tt> bereitstellt, die für viele
Anwendungsfälle ausreichend ist.</p>
</li>
<li><p class="first"><strong>Provider Pool:</strong> Implementiert eine große Menge vordefinierter Menge von
Providern, die die gängigsten Eingabedaten (wie Künstler, Album, Lyrics,
Genre, ...) abdecken.  Manche <tt class="docutils literal"><span class="pre">Provider</span></tt> dienen auch zum <em>Information
Retrieval</em> und ziehen beispielsweise Liedtexte aus dem Internet.  Eine volle
Liste von verfügbaren Providern wird unter <a class="reference internal" href="rst/index.html#provider-list">5.4</a> gegeben.</p>
</li>
<li><p class="first"><strong>DistanceFunction Pool:</strong> Implementiert eine Menge vordefinierter
Distanzfunktionen, welche die Werte der obigen <tt class="docutils literal"><span class="pre">Provider</span></tt> vergleichen.
Dabei kommen zwar viele Provider und Distanzfunktion als Paare daher (wie
beispielsweise der <tt class="docutils literal"><span class="pre">GenreTree</span></tt> Provider und die <tt class="docutils literal"><span class="pre">GenreTree</span></tt>
Distanzfunktion), was aber keine Notwendigkeit darstellt - verschiedene
Provider können beispielsweise dieselbe Distanzfunktion nutzen.</p>
<p>Eine volle Liste von verfügbaren Distanzfunktionen wird unter
<a class="reference internal" href="rst/index.html#distance-function-list">5.5</a> gegeben.</p>
<p>Nutzer der Bibliothek können eigene <tt class="docutils literal"><span class="pre">Provider</span></tt> oder <tt class="docutils literal"><span class="pre">DistanceFunctions</span></tt>
implementieren, indem sie von den jeweiligen Oberklassen ableiten.</p>
</li>
<li><p class="first"><strong>Songverwaltung:</strong> Hier geschieht alles was mit dem Speichern und
Vergleichen einzelner Songs zu tun hat. Dies umfasst das Speichern der
<tt class="docutils literal"><span class="pre">Songs</span></tt> in der <tt class="docutils literal"><span class="pre">Database</span></tt> sowie das Verwalten der
Nachbarschafts&ndash;<tt class="docutils literal"><span class="pre">Songs</span></tt> für jeden <tt class="docutils literal"><span class="pre">Song</span></tt> mit den dazugehörigen
<tt class="docutils literal"><span class="pre">Distance</span></tt>&ndash;Instanzen.</p>
<p>Die Graphendatenstruktur entsteht durch die Verknüpfungen der Songs
untereinander und bildet keine eigenständige Klasse.</p>
</li>
<li><p class="first"><strong>Regeln und History:</strong> Dieser Teil von <em>libmunin</em> ist für das Aufzeichnen
des Benutzerverhaltens und dem Ableiten von Assoziationsregeln daraus
zuständig.</p>
</li>
</ol>
</div>
<div class="section" id="einzelne-komponenten">
<h4>4.3.3 Einzelne Komponenten<a class="headerlink" href="#einzelne-komponenten" title="Permalink to this headline">¶</a></h4>
<p>Da UML-Diagramme sich oft in unwichtige Details und akribische
Methodenauflistungen versteigen, wird im folgenden textuell eine Auflistung
aller Klassen und ihrer Aufgabe gegeben. Nur in Einzelfällen werden
Methodennamen gekennzeichnet.</p>
<p><strong>Session:</strong> Die Session ist das zentrale Objekt für den Nutzer der
Bibliothek.  Es bietet über Proxymethoden Zugriff auf alle Funktionalitäten
von <em>libmunin</em> und kann zudem persistent abgespeichert werden. Dies wird durch
das Python&ndash;Modul <tt class="docutils literal"><span class="pre">pickle</span></tt> realisiert &ndash;- es speichert rekursiv alle Member
einer <tt class="docutils literal"><span class="pre">Session</span></tt>-Instanz in einem Python-spezifischen Binärformat &ndash;-
Voraussetzung hierfür ist, dass alle Objekte direkt oder indirekt an die
<tt class="docutils literal"><span class="pre">Session</span></tt>-Instanz gebunden sind.</p>
<p>Der Speicherort entspricht dem <em>XDG Standard</em> <a class="reference internal" href="rst/index.html#xdg" id="id3">[Link-21]</a>, daher wird jede Session
als <tt class="docutils literal"><span class="pre">gzip</span></tt> gepackt unter <tt class="docutils literal"><span class="pre">$HOME/.cache/libmunin/&lt;name&gt;.gz</span></tt> gespeichert.  Der
<tt class="docutils literal"><span class="pre">&lt;name&gt;</span></tt> lässt sich der Session beim Instanzieren übergeben.</p>
<p>Die weitere Hauptzuständigkeit einer <tt class="docutils literal"><span class="pre">Session</span></tt> ist die Implementierung der
Recommendation&ndash;Strategien, die den Graphen traversieren.</p>
<p><strong>Song:</strong> Speichert fur jedes Attribut einen Wert, oder einen leeren
Wert falls das Attribut nicht gesetzt wurde. Dies ähnelt einer
Hashtabelle, allerdings werden nur die Werte gespeichert, die ,,Keys&quot; der
Hashtabelle werden in der <tt class="docutils literal"><span class="pre">Maske</span></tt> gespeichert und werden nur referenziert. Der
Grund dieser Optimierung liegt im verminderten Speicherverbrauch.</p>
<p>Eine weitere Kompetenz dieser Klasse ist das Verwalten der Distanzen zu seinen
Nachbarsongs. Er muss Methoden bieten um eine Distanz zu einem Nachbarn
hinzuzufügen oder zu entfernen, Methoden um über alle Nachbarn zu iterieren oder
die Distanz zu einen bestimmten Nachbarn abzufragen
und eine <tt class="docutils literal"><span class="pre">disconnect()</span></tt>&ndash;Methode um den <tt class="docutils literal"><span class="pre">Song</span></tt> zu entfernt ohne dabei ein
,,Loch&quot; zu hinterlassen.</p>
<p>Wie bereits erwähnt, gibt es keine eigene <tt class="docutils literal"><span class="pre">Graph</span></tt>&ndash;Klasse &ndash;- der Graph an
sich wird durch die Verknüpfung der einzelnen Songs in der <tt class="docutils literal"><span class="pre">Database</span></tt> gebildet
&ndash;- jede <tt class="docutils literal"><span class="pre">Song</span></tt> Instanz bildet dabei einen Knoten.</p>
<p>Da eine Veränderung von Attributen im Song auch eine Veränderung im Graphen zur
Folge haben kann sind Instanzen der <tt class="docutils literal"><span class="pre">Song</span></tt>&ndash;Klasse <em>Immutable</em>, sprich nach
ihrer Erstellung kann ihr Inhalt nicht mehr verändern werden. Ist dies trotzdem
vonnöten, kann die <tt class="docutils literal"><span class="pre">modify</span></tt>-Operation eingesetzt werden. Ein praktischer
Einsatzgrund wäre beispielsweise das Ändern  des <em>Ratings</em> eines Songs. Es
sollte allerdings erwähnt werden, dass die <tt class="docutils literal"><span class="pre">modify</span></tt> Operation relativ
aufwendig ist &ndash;- schließlich muss der Song entfernt und neu eingefügt werden.</p>
<p><strong>Mask:</strong> Ein Hashtabellen&ndash;ähnliches Objekt, das die Namen der einzelnen
Attribut festlegt. Da dies bereits in <a class="reference internal" href="rst/index.html#environement">4.2.2</a> erklärt wurde,
wird hier ein kurzes, praktisches Python&ndash;Beispiel gezeigt:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">m</span> <span class="o">=</span> <span class="n">Mask</span><span class="p">({</span>                              <span class="c"># Mask erwartet als Übergabe eine Hashtabelle</span>
     <span class="s">&#39;genre&#39;</span><span class="p">:</span> <span class="n">pairup</span><span class="p">(</span>                   <span class="c"># Verknüpfe Distanzfunktion mit Provider</span>
         <span class="n">GenreTreeProvider</span><span class="p">(),</span>           <span class="c"># Instanziere einen Provider</span>
         <span class="n">GenreTreeAvgLinkDistance</span><span class="p">(),</span>    <span class="c"># Instanziere eine Distanzfunktion</span>
         <span class="mi">4</span>                              <span class="c"># Gewichtung des Attributes (beliebiger Wert)</span>
     <span class="p">),</span>  <span class="c"># [...] Weitere Attribute</span>
<span class="p">})</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">Session</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>                    <span class="c"># Instanziere eine Session mit dieser Maske</span>
</pre></div>
</div>
<p>Wie man sieht wird als ,,Key&quot; der Name des Attributes festgelegt, und als
,,Value&quot; ein Tupel aus einer <tt class="docutils literal"><span class="pre">Provider</span></tt>-Instanz, aus einer
<tt class="docutils literal"><span class="pre">DistanceFunction</span></tt>-Instanz und der Gewichtung dieses Attributes als <tt class="docutils literal"><span class="pre">float</span></tt>.</p>
<p>Wird statt einer <tt class="docutils literal"><span class="pre">Provider</span></tt> oder ein <tt class="docutils literal"><span class="pre">DistanceFunction</span></tt> Instanz, der leere
Wert <tt class="docutils literal"><span class="pre">None</span></tt> übergeben, so wird ein <tt class="docutils literal"><span class="pre">DefaultProvider</span></tt> (reicht die Werte
unverändert weiter), beziehungsweise eine <tt class="docutils literal"><span class="pre">DefaultDistanceFunction</span></tt>
(vergleicht Werte mit dem Standard <tt class="docutils literal"><span class="pre">==</span></tt>-Operator).</p>
<p>Ein weitaus ausführlichereres Beispiel findet sich unter <a class="reference internal" href="rst/index.html#complex-example"><em>Ausführliches Beispiel</em></a>.</p>
<p><strong>EasySession:</strong> Wie die normale <tt class="docutils literal"><span class="pre">Session</span></tt>, bietet aber eine bereits
fertigkonfigurierte Maske an, die für viele Anwendungsfälle ausreicht.
In Tabelle  ist eine Auflistung, gegeben wie diese im
Detail konfiguriert ist. Die einzelnen Provider werden später noch erklärt.</p>
<div class="figure align-center" id="fig-easy-session">
<center><table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="18%" />
<col width="15%" />
<col width="25%" />
<col width="14%" />
<col width="17%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="headalign-center">Attribut</th>
<th class="headalign-center">Provider</th>
<th class="headalign-center">Distanzfunktion</th>
<th class="headalign-center">Eingabe</th>
<th class="headalign-center">Weight</th>
<th class="headalign-center">Kompression?</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td class="align-center"><tt class="docutils literal"><span class="pre">artist</span></tt></td>
<td class="align-center"><tt class="docutils literal"><span class="pre">ArtistNormalize</span></tt></td>
<td class="align-center">Default</td>
<td class="align-center">Künstler</td>
<td class="align-center"><span class="math">\(1\times\)</span></td>
<td class="align-center"><span class="math">\(\checkmark\)</span></td>
</tr>
<tr class="row-odd"><td class="align-center"><tt class="docutils literal"><span class="pre">album</span></tt></td>
<td class="align-center"><tt class="docutils literal"><span class="pre">AlbumNormalize</span></tt></td>
<td class="align-center">Default</td>
<td class="align-center">Albumtitel</td>
<td class="align-center"><span class="math">\(1\times\)</span></td>
<td class="align-center"><span class="math">\(\checkmark\)</span></td>
</tr>
<tr class="row-even"><td class="align-center"><tt class="docutils literal"><span class="pre">title</span></tt></td>
<td class="align-center"><tt class="docutils literal"><span class="pre">TitleNormalize</span></tt></td>
<td class="align-center">Default</td>
<td class="align-center">Tracktitel</td>
<td class="align-center"><span class="math">\(2\times\)</span></td>
<td class="align-center">&nbsp;</td>
</tr>
<tr class="row-odd"><td class="align-center"><tt class="docutils literal"><span class="pre">date</span></tt></td>
<td class="align-center"><tt class="docutils literal"><span class="pre">Date</span></tt></td>
<td class="align-center"><tt class="docutils literal"><span class="pre">Date</span></tt></td>
<td class="align-center">Datums&ndash;String</td>
<td class="align-center"><span class="math">\(4\times\)</span></td>
<td class="align-center">&nbsp;</td>
</tr>
<tr class="row-even"><td class="align-center"><tt class="docutils literal"><span class="pre">bpm</span></tt></td>
<td class="align-center"><tt class="docutils literal"><span class="pre">BPMCached</span></tt></td>
<td class="align-center"><tt class="docutils literal"><span class="pre">BPM</span></tt></td>
<td class="align-center">Audiofile&ndash;Pfad</td>
<td class="align-center"><span class="math">\(6\times\)</span></td>
<td class="align-center">&nbsp;</td>
</tr>
<tr class="row-odd"><td class="align-center"><tt class="docutils literal"><span class="pre">lyrics</span></tt></td>
<td class="align-center"><tt class="docutils literal"><span class="pre">Keywords</span></tt></td>
<td class="align-center"><tt class="docutils literal"><span class="pre">Keywords</span></tt></td>
<td class="align-center">Songtext</td>
<td class="align-center"><span class="math">\(6\times\)</span></td>
<td class="align-center">&nbsp;</td>
</tr>
<tr class="row-even"><td class="align-center"><tt class="docutils literal"><span class="pre">rating</span></tt></td>
<td class="align-center">Default</td>
<td class="align-center"><tt class="docutils literal"><span class="pre">Rating</span></tt></td>
<td class="align-center">Integer (<span class="math">\(\in [0, 5]\)</span>)</td>
<td class="align-center"><span class="math">\(4\times\)</span></td>
<td class="align-center">&nbsp;</td>
</tr>
<tr class="row-odd"><td class="align-center"><tt class="docutils literal"><span class="pre">genre</span></tt></td>
<td class="align-center"><tt class="docutils literal"><span class="pre">GenreTree</span></tt></td>
<td class="align-center"><tt class="docutils literal"><span class="pre">GenreTreeAvg</span></tt></td>
<td class="align-center">Genre&ndash;String</td>
<td class="align-center"><span class="math">\(8\times\)</span></td>
<td class="align-center"><span class="math">\(\checkmark\)</span></td>
</tr>
<tr class="row-even"><td class="align-center"><tt class="docutils literal"><span class="pre">moodbar</span></tt></td>
<td class="align-center"><tt class="docutils literal"><span class="pre">MoodbarAudioFile</span></tt></td>
<td class="align-center"><tt class="docutils literal"><span class="pre">Moodbar</span></tt></td>
<td class="align-center">Audiofile&ndash;Pfad</td>
<td class="align-center"><span class="math">\(9\times\)</span></td>
<td class="align-center">&nbsp;</td>
</tr>
</tbody>
</table>
<p class="caption">Default&ndash;Konfiguration der ,,EasySession”.</p>
</center></div><p><strong>Distance:</strong> Wie die <tt class="docutils literal"><span class="pre">Song</span></tt>&ndash;Klasse, speichert aber statt den Werten von
bestimmten Attributen die Distanz zwischen zwei Attributen. Zusätzlich
wird die gewichtete Gesamtdistanz gespeichert.  Beispielhaft ist das in
 dargestellt.</p>
<div class="figure align-center" id="fig-distance-table">
<center><table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="headalign-center"><em>Attribut</em></th>
<th class="headalign-center"><em>Unter&ndash;Distanzen</em></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td class="align-center"><tt class="docutils literal"><span class="pre">date</span></tt></td>
<td class="align-center">0.9</td>
</tr>
<tr class="row-odd"><td class="align-center"><tt class="docutils literal"><span class="pre">genre</span></tt></td>
<td class="align-center">0.05</td>
</tr>
<tr class="row-even"><td class="align-center"><tt class="docutils literal"><span class="pre">lyrics</span></tt></td>
<td class="align-center">1.0 (Fehlender Wert &ndash;- Berechnung war nicht möglich)</td>
</tr>
<tr class="row-odd"><td class="align-center">Gewichtete Distanz</td>
<td class="align-center"><span class="math">\(\frac{4\times0.9 + 8\times0.05 + 6\times1.0}{4 + 8 + 6} = 0.\overline{5}\)</span></td>
</tr>
</tbody>
</table>
<p class="caption">Anschauliche Darstellung der Daten die in einer
,,Distance”&ndash;Instanz gespeichert werden. Im Beispiel mit einer
Maske die nur 3 Attribute hat: date, genre und lyrics. Die
Gewichtungen wurden von der ,,EasySession” übernommen.</p>
</center></div><p>Manchmal kann es passieren, dass Distanzen nicht berechnet werden können. Als
Beispiel ist der Vergleich zweier Lieder anhand den Liedtexten - wenn nur einer
davon nicht gefunden werden konnte, muss das Attribut in der <tt class="docutils literal"><span class="pre">Distance</span></tt> leer
bleiben. In diesem Fall wird eine Unter&ndash;Distanz von 1.0 als ,,Strafwert&quot;
angenommen.</p>
<p>Der Grund warum man nicht nur die gewichtete Gesamtdistanz abspeichert, sondern
auch auch alle Unterdistanzen liegt darin, dass es möglich sein soll
Empfehlungen zu <em>erklären.</em> Durch das Vorhandensein der Unterdistanzen, kann man
später feststellen welches Attribut am stärksten in die Empfehlung mit
eingespielt hat. Zudem wird es dadurch technisch möglich, die Gewichtungen in
der Maske zur Laufzeit zu ändern. Statt jede Distanz neu zu berechnen, müssen
lediglich die einzelnen <tt class="docutils literal"><span class="pre">Distance</span></tt>&ndash;Instanzen neu gewichtet werden.</p>
<p><strong>Database:</strong> Die <tt class="docutils literal"><span class="pre">Database</span></tt> Klasse ist eine logische Abtrennung der
<tt class="docutils literal"><span class="pre">Session</span></tt> um eine einzige, allmächtige ,,Superklasse&quot; zu verhindern.</p>
<p>Sie hat folgende Aufgaben:</p>
<ul class="simple">
<li>Implementierung der einzelnen, oben besprochenen Graphenoperationen.</li>
<li>Zu diesen Zweck hält sie eine Liste von <tt class="docutils literal"><span class="pre">Songs</span></tt>.</li>
<li>ID-Vergabe für jeden <tt class="docutils literal"><span class="pre">Song</span></tt>.</li>
<li>Verwaltung der <em>Playcounts</em>, also wie oft jeder <tt class="docutils literal"><span class="pre">Song</span></tt> gespielt wurde.</li>
<li>Verwaltung der <tt class="docutils literal"><span class="pre">ListenHistory</span></tt>.</li>
<li>Finden von Songs mit bestimmten Attributen.</li>
</ul>
<p><strong>History:</strong> Oberklasse für <tt class="docutils literal"><span class="pre">RecommendationHistory</span></tt> und <tt class="docutils literal"><span class="pre">ListenHistory</span></tt>.
Implementiert die gemeinsame Funktionalität, Songs die zeitlich hintereinander
zur <tt class="docutils literal"><span class="pre">History</span></tt> hinzugefügt werden, in <em>Gruppen</em> einzuteilen. Gruppen beinhalten
maximal eine bestimmte Anzahl von Songs. Ist eine <em>Gruppe</em> voll so wird eine
neue angefangen.  Vergeht aber eine zu lange Zeit seit dem letzten Hinzufügen
wird ebenfalls eine neue <em>Gruppe</em> begonnen. Jede abgeschlossene <em>Gruppe</em> wird in
der <tt class="docutils literal"><span class="pre">History</span></tt> abgespeichert.</p>
<p>Das Ziel der zeitlichen Gruppierung ist eine Abbildung des Nutzerverhaltens.
Die Annahme ist hierbei, dass große zeitliche Lücken zwischen zwei Liedern auf
wenig zusammenhängende Songs hindeuten. Zudem bilden die einzelnen <em>Gruppen</em> eine
Art ,,Warenkorb&quot;, der dann bei der Ableitung von Regeln genutzt werden kann.</p>
<p><strong>RecommendationHistory:</strong> Implementiert den unter <a class="reference internal" href="rst/index.html#recom-filter">4.1.4</a> erwähnten
Mechanismus zum Filtern von Empfehlungen.</p>
<p><strong>ListenHistory:</strong> Unterklasse von <tt class="docutils literal"><span class="pre">History</span></tt>.  Speichert die chronologische
Reihenfolge von gehörten Songs.  Oft werden vom Endnutzer viele Lieder einfach
übersprungen. Diese wenig repräsentativen Lieder sollten nicht zur
<tt class="docutils literal"><span class="pre">ListenHistory</span></tt> hinzugefügt werden.  Der Nutzer der Bibliothek sollte daher
darauf achten, dass nur Lieder hinzugefügt werden, die auch zu einem gewissen
Anteil auch angehört wurden.</p>
<p><strong>RuleGenerator:</strong> Analysiert die Gruppen innerhalb einer <tt class="docutils literal"><span class="pre">History</span></tt> und leitet
daraus mittels einer Warenkorbanalyse Assoziationsregeln ab. Diese werden danach
im <tt class="docutils literal"><span class="pre">RuleIndex</span></tt> gespeichert.</p>
<p><strong>RuleIndex:</strong> Speichert und indiziert die vom <tt class="docutils literal"><span class="pre">RuleGenerator</span></tt> erzeugten
Assoziationsregeln. Die Regeln werden beim Traversieren des Graphen genutzt um
zusätzliche Seedsongs auszuwählen. Daher muss es möglich sein Abfragen wie
<em>,,Gib mir alle Regeln die Song X betreffen&quot;</em> effizient abzusetzen.</p>
<p>Zudem <em>,,vergisst&quot;</em> der Index Regeln die Songs betreffen die nicht mehr in der
<tt class="docutils literal"><span class="pre">ListenHistory</span></tt> vorhanden sind.</p>
<p><strong>Provider:</strong> Die Oberklasse von der jeder konkreter <tt class="docutils literal"><span class="pre">Provider</span></tt> ableitet:
Jeder Provider bietet eine <tt class="docutils literal"><span class="pre">do_process()</span></tt> Methode die von den Unterklassen
überschrieben wird. Zudem bieten viele Provider als <em>,,Convenience&quot;</em> eine
<tt class="docutils literal"><span class="pre">do_reverse()</span></tt> Methode um für Debuggingzwecke den Originalwert vor der
Verarbeitung durch den Provider anzuzeigen.</p>
<p>Provider können, mittels eines speziellen Providers, zu einer Kette
zusammengeschaltet werden. Siehe dazu auch: <tt class="docutils literal"><span class="pre">Composite</span></tt> unter
<a class="reference internal" href="rst/index.html#provider-list">5.4</a>.</p>
<p>Oft kommt es vor dass die Eingabe für einen Provider viele Dupletten
enthält &ndash;- beispielsweise wird derselbe Künstler&ndash;String für viele Songs eingepflegt.
Diese redundant zu speichern wäre bei großen Sammlungen unpraktisch daher bietet
jeder Provider die Möglichkeit einer primitiven Kompression. Statt den Wert
abzuspeichern wird eine bidirektionale Hashtabelle mit den Werten als Schlüssel
und einer <em>Integer&ndash;ID</em> auf der Gegenseite. Dadurch wird jeder Wert nur einmal
gespeichert und statt dem eigentlichen Wert wird eine ID herausgegeben.</p>
<p><strong>DistanceFuntion:</strong> Die Oberklasse von der jede konkrete <tt class="docutils literal"><span class="pre">DistanceFunction</span></tt>
ableitet: Jede Distanzfunktion bietet eine <tt class="docutils literal"><span class="pre">do_compute()</span></tt> Methode die von den
Unterklassen überschrieben wird.</p>
<p>Um die bei den Providern mögliche Kompression wieder rückgängig zu machen muss
die Distanzfunktion den Provider für dieses Attribut kennen. Denn nur dieser
kann die <em>Integer&ndash;ID</em> wieder auflösen.</p>
</div>
</div>
</div>
<span id="document-rst/V/index"></span><div class="section" id="implementierung">
<h2>5 Implementierung<a class="headerlink" href="#implementierung" title="Permalink to this headline">¶</a></h2>
<div class="section" id="anwendungsbeispiel">
<h3>5.1 Anwendungsbeispiel<a class="headerlink" href="#anwendungsbeispiel" title="Permalink to this headline">¶</a></h3>
<p>Beispiele sind oft ein guter Weg um ein Gefühl für eine Bibliothek
zu bekommen. Das folgende minimale, in Python gechriebene Beispiel liest <em>Songs</em>
aus einer Pseudodatenbank und erstellt für den ersten zwei Empfehlungen:</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></div></td><td class="code"><div class="highlight"><pre><span class="hll"><span class="kn">from</span> <span class="nn">munin.easy</span> <span class="kn">import</span> <span class="n">EasySession</span>
</span>
<span class="hll"><span class="n">MY_DATABASE</span> <span class="o">=</span> <span class="p">[</span>
</span>    <span class="c"># Artist:           Album:               Title:             Genre:</span>
    <span class="p">(</span><span class="s">&#39;Akrea&#39;</span>          <span class="p">,</span> <span class="s">&#39;Lebenslinie&#39;</span>      <span class="p">,</span> <span class="s">&#39;Trugbild&#39;</span>       <span class="p">,</span> <span class="s">&#39;death metal&#39;</span><span class="p">),</span>
    <span class="p">(</span><span class="s">&#39;Vogelfrey&#39;</span>      <span class="p">,</span> <span class="s">&#39;Wiegenfest&#39;</span>       <span class="p">,</span> <span class="s">&#39;Heldentod&#39;</span>      <span class="p">,</span> <span class="s">&#39;folk metal&#39;</span><span class="p">),</span>
    <span class="p">(</span><span class="s">&#39;Letzte Instanz&#39;</span> <span class="p">,</span> <span class="s">&#39;Götter auf Abruf&#39;</span> <span class="p">,</span> <span class="s">&#39;Salve te&#39;</span>       <span class="p">,</span> <span class="s">&#39;folk rock&#39;</span><span class="p">),</span>
    <span class="p">(</span><span class="s">&#39;Debauchery&#39;</span>     <span class="p">,</span> <span class="s">&#39;Continue to Kill&#39;</span> <span class="p">,</span> <span class="s">&#39;Apostle of War&#39;</span> <span class="p">,</span> <span class="s">&#39;brutal death&#39;</span><span class="p">)</span>
<span class="p">]</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">EasySession</span><span class="p">()</span>
<span class="hll"><span class="k">with</span> <span class="n">session</span><span class="o">.</span><span class="n">transaction</span><span class="p">():</span>
</span><span class="hll">    <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="p">(</span><span class="n">artist</span><span class="p">,</span> <span class="n">album</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">genre</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">MY_DATABASE</span><span class="p">):</span>
</span>         <span class="n">session</span><span class="o">.</span><span class="n">mapping</span><span class="p">[</span><span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">({</span>
<span class="hll">             <span class="s">&#39;artist&#39;</span><span class="p">:</span> <span class="n">artist</span><span class="p">,</span>
</span>             <span class="s">&#39;album&#39;</span><span class="p">:</span> <span class="n">album</span><span class="p">,</span>
             <span class="s">&#39;title&#39;</span><span class="p">:</span> <span class="n">title</span><span class="p">,</span>
             <span class="s">&#39;genre&#39;</span><span class="p">:</span> <span class="n">genre</span>
         <span class="p">})]</span> <span class="o">=</span> <span class="n">idx</span>

<span class="k">for</span> <span class="n">munin_song</span> <span class="ow">in</span> <span class="n">session</span><span class="o">.</span><span class="n">recommend_from_seed</span><span class="p">(</span><span class="n">session</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">2</span><span class="p">):</span>
<span class="hll">    <span class="k">print</span><span class="p">(</span><span class="n">MY_DATABASE</span><span class="p">[</span><span class="n">munin_song</span><span class="o">.</span><span class="n">uid</span><span class="p">])</span>
</span></pre></div>
</td></tr></table></div>
<p>Ist <em>libmunin</em> korrekt installiert <a class="footnote-reference" href="#f1" id="id1"><sup>1</sup></a>, so lässt sich dieses Skript als
<tt class="docutils literal"><span class="pre">minimal.py</span></tt> ablegen und ausführen:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>python minimal.py
<span class="o">(</span><span class="s1">&#39;Debauchery&#39;</span> , <span class="s1">&#39;Continue to Kill&#39;</span> , <span class="s1">&#39;Apostle of War&#39;</span> , <span class="s1">&#39;brutal death&#39;</span><span class="o">)</span>
<span class="o">(</span><span class="s1">&#39;Vogelfrey&#39;</span>  , <span class="s1">&#39;Wiegenfest&#39;</span>       , <span class="s1">&#39;Heldentod&#39;</span>      , <span class="s1">&#39;folk metal&#39;</span><span class="o">)</span>,
</pre></div>
</div>
<div class="section" id="kurze-erlauterung-des-beispiels">
<h4>5.1.1 Kurze Erläuterung des Beispiels<a class="headerlink" href="#kurze-erlauterung-des-beispiels" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first"><strong>Zeile 1:</strong> Der Einstiegspunkt von <em>libmunin's</em> API ist immer eine <em>Session</em>.
Da die Konfiguration einer solchen (Auswahl von Provider, Distanzfunktionen
und Weighting) mitunter recht anstrengend werden kann, greifen wir auf eine
Session mit vorgefertigter Maske zurück &ndash;- die sogenannte <tt class="docutils literal"><span class="pre">EasySession</span></tt>.</p>
</li>
<li><p class="first"><strong>Zeile 3:</strong> Hier erstellen wir uns eine Pseudodatenbank (als Python&ndash;Liste)
aus vier Liedern mit vier einzelnen Attributen (als Quadrupel) jeweils.</p>
</li>
<li><p class="first"><strong>Zeile 10:</strong> Hier wird die oben erwähnte <tt class="docutils literal"><span class="pre">EasySession</span></tt> instanziert. Sie
dient uns jetzt als <em>Sitzung</em> &ndash;- alle relevanten Methoden von <em>libmunin</em>
können auf der <em>Session</em> aufgerufen werden.</p>
</li>
<li><p class="first"><strong>Zeile 11:</strong> Bein initialen Importieren der Datenbank werden alle Songs über
die <tt class="docutils literal"><span class="pre">add</span></tt>&ndash;Operation hinzugefügt. Da <tt class="docutils literal"><span class="pre">add</span></tt> noch keine Verbindungen zwischen
den einzelnen Songs herstellt stellen wir mit dieser Zeile sicher nach dem
Importieren ein <tt class="docutils literal"><span class="pre">rebuild</span></tt> ausgeführt wird (implizit in <em>,,Zeile&quot;</em> 19, nach
dem verlassen des vorigen <em>,,Blocks&quot;</em>).</p>
</li>
<li><p class="first"><strong>Zeile 13:</strong> Wir iterieren (<strong>Zeile 12</strong>) über alle Songs in unserer
Pseudodatenbank und fügen diese der <em>Session</em> hinzu (über die <tt class="docutils literal"><span class="pre">add</span></tt>
Operation). Zu beachten ist dabei: Es wird eine Hashtabelle übergeben in denen
bestimmte Schlüssel (wie <tt class="docutils literal"><span class="pre">artist</span></tt>) von der <tt class="docutils literal"><span class="pre">EasySession</span></tt> vorgegeben sind
&ndash;- erstellt man eine eigene Session kann man diese nach Belieben
Konfigurieren.</p>
<p>Ein Problem dass man bei der Benutzung der Bibliothek hat ist: <em>libmunin</em> und der
Nutzer halten zwei verschiedene Datenbanken im Speicher. Der Benutzer
verwaltet die Originaldaten mit denen er arbeitet während <em>libmunin</em> nur
normalisierte Daten speichert. Das Problem dabei: Wie soll der Benutzer wissen
welche Empfehlung zu welchen Song in seinen Originaldaten gehört?</p>
<p>Dazu ist eine Abbildung erforderlich, welche die <em>ID,</em> die <tt class="docutils literal"><span class="pre">add()</span></tt> zurückgibt,
auf den Index innerhalb von <em>MY_DATABASE</em> abbildet. Diese Abbildung ist
<tt class="docutils literal"><span class="pre">session.mapping</span></tt>. Sie erlaubt eine bidirektionales Auflösen der <em>ID</em> von
<em>libmunin</em> zu dem Index in <em>MY_DATABASE</em>, und umgekehrt.</p>
<p><em>Anmerkung:</em> Zugegeben, dieses Beispiel ist hier etwas konstruiert. Später hat man meist
keinen Index in einer Pseudodatenbank, sondern beispielsweise einen Dateipfad
als Identifier.</p>
</li>
<li><p class="first"><strong>Zeile 21:</strong> In dieser Zeile geben wir die ersten Empfehlung aus. Wir lassen
uns von der <tt class="docutils literal"><span class="pre">EasySession</span></tt> über die Methode <tt class="docutils literal"><span class="pre">recommend_from_seed</span></tt> zwei
Empfehlungen zum ersten Song der über <tt class="docutils literal"><span class="pre">add</span></tt> hinzugefügt wurde geben. Die
Empfehlung selbst wird als <tt class="docutils literal"><span class="pre">Song</span></tt> Objekt ausgegeben &ndash;- dieses hat unter
anderen eine <em>ID</em> gespeichert mit der wir die ursprünglichen Daten finden
können.</p>
</li>
</ul>
<p>Dieses und weitere Beispiele finden sich auf der API-Dokumentation im Web
<a class="reference internal" href="rst/index.html#lx" id="id2">[Link-22]</a>.</p>
</div>
<div class="section" id="kurze-erlauterung-der-ausgabe">
<h4>5.1.2 Kurze Erläuterung der Ausgabe<a class="headerlink" href="#kurze-erlauterung-der-ausgabe" title="Permalink to this headline">¶</a></h4>
<p>Die Ausgabe ist bei näherer Betrachtung nicht weiter überraschend: Da sich nur
das Genre effektiv vergleichen lässt und wir uns von dem ersten Song
<em>,,Trugbild&quot;</em> zwei Empfehlungen geben ließen werden die zwei Songs mit dem
ähnlichsten Genre ausgegeben.</p>
<p>In Abbildung  ist dies nochmal zu sehen: Der <em>Seedsong</em> (0)
ist direkt mit den Songs 1 (<em>Vogelfrey</em>) und 3 (<em>Debauchery</em>) benachbart.
Da die beiden Genres <em>folk rock</em> und <em>death metal</em> keine gemeinsame Schnittmenge
haben ist dieser auch kein Nachbar &ndash;- Verbindungen zwischen zwei Knoten, werden
nur dann hergestellt, wenn die Distanz <span class="math">\(&lt; 1.0\)</span> ist.</p>
<p>Ein komplizierteres Beispiel das die meisten Aspekte von <em>libmunin</em> abdeckt
findet sich in <a class="reference internal" href="rst/index.html#complex-example"><em>Ausführliches Beispiel</em></a>.</p>
<div class="figure align-center" id="fig-minigraph">
<a class="reference internal image-reference" href="../../_images/minigraph.png"><img alt="Minimaler Beispielgraph" src="../../_images/minigraph.png" style="width: 42%;" /></a>
<p class="caption">Minimaler Beispielgraph der hinter dem obigen Beispiel steht. Die Dicke der
Kanten indiziert die Distanz. Dünne Kanten implizieren eine kleine Distanz.
Die Farbe der Knoten ist hier nicht relevant.</p>
</div>
</div>
</div>
<div class="section" id="kurze-implementierungshistorie">
<h3>5.2 Kurze Implementierungshistorie<a class="headerlink" href="#kurze-implementierungshistorie" title="Permalink to this headline">¶</a></h3>
<p>Am 11. Oktober 2013 wurde mit der Implementierung begonnen.
Anfangs war, wie im Exposé vorgesehen, noch eine Distanzmatrix zur Speicherung
der Distanzen und das Berechnen jeder einzelnen Song&ndash;Kombination vorgesehen &ndash;-
aus den bereits erwähnten Gründen hat sich das zu einer Approximation geändert.
Hierbei eine vernünftige Herangehensweise zu finden hat letztlich ca. 1
<span class="math">\(^1/_2\)</span> Monate beansprucht.</p>
<p>Die zwischenzeitlich aufgekommene Idee, Audiodaten mittels Audiofingerprints wie
<em>Chromaprint</em> zu vergleichen wurde wieder aufgegeben &ndash;- damit ließen sich
wirklich nur fast gleiche Stücke ermitteln. Selbst <em>Live</em> und <em>Studio</em> Versionen
ließen sich manchmal nicht differenzieren.</p>
<p>Parallel zur Implementierung wurde ein ,,Tagebuch&quot; <a class="reference internal" href="rst/index.html#thv" id="id3">[Link-23]</a> verfasst das
dazu dienen sollte Ideen und Geschehnisse festzuhalten &ndash;- allerdings weniger als
Information für Dritte, mehr als persönliche Erinnerung.</p>
<p>Nach gut drei Monaten wurde am 15. Januar 2014 der erste Prototyp fertiggestellt.
Die letzten 3 <span class="math">\(^1/_2\)</span> Wochen dieser Zeit wurden für die
Implementierung einer Demo&ndash;Anwendung aufgewendet.</p>
</div>
<div class="section" id="liste-verfugbarer-empfehlungs-strategien">
<span id="list-of-recom-strategies"></span><h3>5.3 Liste verfügbarer Empfehlungs&ndash;Strategien<a class="headerlink" href="#liste-verfugbarer-empfehlungs-strategien" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first"><strong>Basierend auf einem Seedsong:</strong> Basierend auf einem vom Endnutzer
ausgewählten Song wird ein Iterator zurückgegeben der gemäß <a class="reference internal" href="rst/index.html#recom-out">4.1.3</a>
eine Breitensuche von diesem Seedsong aus ausführt. Optional wird  der
<em>Iterator</em> gemäß <a class="reference internal" href="rst/index.html#recom-filter">4.1.4</a> gefiltert.</p>
</li>
<li><p class="first"><strong>Basierend auf einer Heuristik:</strong> <em>libmunin</em> kann auch automatisch einen oder
mehrere geeignete Seedsongs auswählen. Dabei wird der Reihe nach das folgende
probiert:</p>
<ol class="arabic simple">
<li>Wähle die Regel mit der besten Bewertung aus und nehme alle darin, erwähnten
Songs als Seedsongs an.</li>
<li>Wähle den Song mit der höchsten Abspielanzahl als Seedsong.</li>
<li>Schlägt beides schief weil keine Regeln vorhanden sind oder noch nichts
abgespielt wurde, so wird ein zufälliger Seedsong gezogen.</li>
</ol>
<p>Optional wird  der entstehende Iterator gemäß <a class="reference internal" href="rst/index.html#recom-filter">4.1.4</a> gefiltert.</p>
</li>
<li><p class="first"><strong>Basierend auf einer Attributsuche:</strong> Es kann nach einen oder mehreren Songs
gesucht werden die gewisse Attribut&ndash;Werte&ndash;Paare aufweisen. Als Beispiel kann
ein Song gesucht werden der die Merkmale ,,Genre: Rock&quot; und ,,Date: 2012&quot;
aufweist.</p>
<p>Alle passenden Songs, aber maximal 20, werden dann als Seedsongs angenommen.
Optional wird  der entstehende Iterator gemäß <a class="reference internal" href="rst/index.html#recom-filter">4.1.4</a> gefiltert.</p>
</li>
</ul>
</div>
<div class="section" id="liste-der-provider">
<span id="provider-list"></span><h3>5.4 Liste der Provider<a class="headerlink" href="#liste-der-provider" title="Permalink to this headline">¶</a></h3>
<p>Insgesamt wurden 13 unterschiedliche Provider und 9 Distanzfunktionen
implementiert  &ndash;- davon variieren einige allerdings nur in Details.</p>
<p>Die genaue Funktionsweise der Provider wird in der Bachelorarbeitet betrachtet.
Im folgenden wird nur eine Auflistung verfügbarer Provider gegeben und welche
Eingabe sie erwarten, sowie welche Ausgabe sie produzieren.</p>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">Date</span></tt>: Wandelt und normalisiert ein Datum, dass als String übergeben wird zu
einer Jahreszahl (<em>1975</em> beispielsweise). Dabei werden die häufigsten
Datumformatierungen automatisch erkannt. Dies ist nötig da je nach Region ganz
unterschiedliche Datumsangaben in den Audiofiles getaggt sind.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">Moodbar</span></tt>: Berechnet mit dem <tt class="docutils literal"><span class="pre">moodbar</span></tt> (vgl. <a class="reference internal" href="rst/index.html#wood2005techniques" id="id4">[12]</a>)
Programm aus einen beliebigen Audio File einen Vektor mit 1000 RGB-Farbwerten
(siehe ). Jeder dieser Farbwerte repräsentiert den
Anteil niedriger Frequenzen <em>(rot),</em> mittlerer <em>(grün)</em> und hoher Frequenzen
<em>(blau)</em> in einem Tausendstel des Audiostücks.</p>
<p>Obwohl man aus dem Namen dieses Verfahren schließen könnte dass hier die
<em>Stimmung</em> im Lied angedeutet wird, kann man aus diesen Informationen
lediglich herauslesen wie ,,energiegeladen&quot; die Stimmung in einem Lied zu
einem bestimmten Zeitpunkt ist &ndash;- mit etwas Glück kann man auch Instrumente
erkennen &ndash;- so ist die Kombination von E&ndash;Gitarre und Drums oft ein helles
Türkis.</p>
<p>Aus diesem RGB-Vektoren werden die prägnantesten Merkmale abgeleitet &ndash;- die
dominanten Farben, der Stilleanteil (<em>schwarz</em>) und einige weitere Merkmale.</p>
<p>Dieser Provider kommt in drei verschiedenen Ausführungen daher, die sich in dem
Typ ihrer Eingabe unterscheiden:</p>
<ol class="arabic simple">
<li><tt class="docutils literal"><span class="pre">Moodbar</span></tt>: Nimmt eine Liste von 1000 RGB-Werten.</li>
<li><tt class="docutils literal"><span class="pre">MoodbarFile</span></tt>: Nimmt ein Dateipfad zu einem von der <tt class="docutils literal"><span class="pre">moodbar</span></tt>
erstellten Datei entgegen die einen Vektor aus 1000 RGB-Werten binär
beinhaltet.</li>
<li><tt class="docutils literal"><span class="pre">MoodbarAudioFile</span></tt>: Nimmt ein Dateipfad zu einer beliebigen Audiodatei
entgegen und führt das <tt class="docutils literal"><span class="pre">moodbar</span></tt>-Utility darauf aus falls noch keine
weiter Datei mit demselben Dateipfad plus der zusätzlichen Endung <tt class="docutils literal"><span class="pre">.mood</span></tt>
vorhanden ist.</li>
</ol>
<div class="figure align-center" id="fig-moodbar-suidakra">
<a class="reference internal image-reference" href="../../_images/moodbar_suidakra.svg"><img alt="Moodbar Beispielsvisualisierung" src="../../_images/moodbar_suidakra.svg" width="100%" /></a>
<p class="caption">Anzeige des RGB-Vektors samt Histogram und Verlauf für das Lied ,,Over
Nine Waves&quot; der Band ,,Suidakra&quot;. Der grüne Teil am Anfang ist ein
Dudelsack&ndash;Intro. Bei 30% setzen relativ plötzlich harte E&ndash;Gitarren und
Drums ein, die in verschiedenen Variationen durch das ganze Lied gehen.
Musik&ndash;Link auf YouTube: <a class="reference internal" href="rst/index.html#yts" id="id5">[Link-24]</a>.</p>
</div>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">Wordlist</span></tt>: Bricht einen String in eine Liste von Wörtern auf.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">BPM</span></tt>: Berechnet die ,,Beats&ndash;Per&ndash;Minute&quot; eines Lieds, also einem Maß für
die Schnelligkeit  &ndash;- dies funktioniert nicht nur für stark beatlastige
Musikrichtungen wie <em>Techno,</em> sondern auch für normale Musik.</p>
<p>Die Funktionalität wird momentan, eher primitiv, durch den Aufruf eines externen
Tools, namens <tt class="docutils literal"><span class="pre">bpm-tools</span></tt> realisiert <a class="reference internal" href="rst/index.html#yz" id="id6">[Link-25]</a>.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">Normalize</span></tt>, <tt class="docutils literal"><span class="pre">ArtistNormalize</span></tt>, <tt class="docutils literal"><span class="pre">AlbumNormalize</span></tt>, <tt class="docutils literal"><span class="pre">TitleNormalize</span></tt>:
Diese Provider normalisieren die häufig unsauberen Tags einer Musiksammlung
auf verschiedene Art und Weise:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">Normalize</span></tt>: Normalisiert einen String mittels <em>NKFC Unicode
Normalization</em>.  Bei Unicode gibt es oft mehrere Arten einen <em>Glyph</em> zu
schreiben. So kann ein ,,ä&quot; als einzelner Glyph (<em>Codepoint U+e4</em>) oder als
<em>Composite Glyph</em> geschrieben werden: ,,&quot; + a&quot; (<em>U+30B + U+61</em>). Dieser
Provider macht daraus stets den ersten Fall.</li>
<li><tt class="docutils literal"><span class="pre">ArtistNormalize</span></tt>: Entfernt zusätzlich <em>Unrat</em> der bei Künstlernamen
vorhanden ist. Beispielsweise wird aus <em>,,The Beatles&quot;</em> der String
<em>,,beatles&quot;</em></li>
<li><tt class="docutils literal"><span class="pre">AlbumNormalize</span></tt>: Entfernt analog zu <tt class="docutils literal"><span class="pre">ArtistNormalize</span></tt> <em>Unrat</em> aus
Album&ndash;Namen wie <em>(live 2012)</em></li>
<li><tt class="docutils literal"><span class="pre">TitleNormalize</span></tt>: Momentan ein Synonym für <tt class="docutils literal"><span class="pre">AlbumNormalize</span></tt>.</li>
</ul>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">Composite</span></tt>: Erlaubt das Verketten von Providern. Der erste Eingabewert wird
dem ersten Provider in der Kette gegeben und die Ausgabe, ähnliche wie bei
einer Unix&ndash;Pipe, wird an den nächsten Provider in der Kette als Eingabe
weitergegeben.</p>
<p>Ein Anwendungsbeispiel wäre das Zusammenschalten mehrerer Provider nach
Baukastenprinzip:</p>
<p class="graphviz">
<img src="../../_images/graphviz-2c5aec3d6708265de1dddd8d0db3d50483019111.png" alt="digraph foo {
size=4.5;

node [shape=record];

subgraph {
    rank = same; PlyrLyrics; Keywords; Stem
}

&quot;Eingabe: Artist, Album&quot; -&gt;  PlyrLyrics [label=&quot; Sucht im Web &quot;]
PlyrLyrics -&gt; Keywords [label=&quot;liefert Songtext&quot;]
Keywords -&gt; Stem [label=&quot;extrahiert Keywords&quot;]
Stem -&gt; &quot;Ausgabe: Stemmed Keywords&quot; [label=&quot; Wortstamm--Keywords &quot;]
}" />
</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">Stem</span></tt>: Bringt mithilfe des Porter&ndash;Stemmer&ndash;Algorithmus (<a class="reference internal" href="rst/index.html#prt" id="id7">[Link-26]</a>)
einzelne Wörter oder eine Liste von Wörtern auf ihren Wortstamm zurück. Aus
den Wörtern <em>Fisher</em>, <em>Fish</em>, <em>fishing</em> wird beispielsweise stets <em>fish</em>. Dies
ist natürlich abhängig von der Eingabesprache &ndash;- momentan wird aber stets
Englisch angenommen.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">GenreTree</span></tt>: Der wohl komplizierteste Provider.</p>
<p>Ein beliebiges Eingabegenre wird in einzelne Untergenres aufgeteilt und normalisiert.
Beispielsweise wird die Genrebeschreibung <em>Rock, Reggae / Alternative Rock</em>
mittels einer Regular Expression in die Unterbestandteile aufgebrochen:</p>
<ul class="simple">
<li><em>Rock</em></li>
<li><em>Reggae</em></li>
<li><em>Alternative Rock</em></li>
</ul>
<p>Danach wird jedes so entstandene Untergenre in einzelne Wörter aufgebrochen und
in einem <em>Baum</em> bekannter Genres (momentan 1876 einzelne Genres) eingepasst:</p>
<p class="graphviz">
<img src="../../_images/graphviz-47db664b9c86f43c03ba9eecac40c5be943d6098.png" alt="digraph foo {
size=4;
node [shape=record];

&quot;music (#0)&quot;  -&gt; &quot;rock (#771)&quot;
&quot;music (#0)&quot;  -&gt; &quot;alternative (#14)&quot;
&quot;music (#0)&quot;  -&gt; &quot;reggae (#753)&quot;
&quot;rock (#771)&quot; -&gt; &quot;alternative (#3)&quot;
}" />
</p>
<p>Hier werden aus Platzgründen nur die Untergenres im obigen Beispiel gezeigt.
Jeder Knoten hat zudem einen Indexwert der in Klammern angegeben ist.  Das
finale Resultat dieses Providers mit der obigen Eingabe, ist dann in
Python&ndash;Listen Notation:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[[</span><span class="mi">14</span><span class="p">],</span> <span class="p">[</span><span class="mi">771</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">753</span><span class="p">],</span> <span class="p">[</span><span class="mi">771</span><span class="p">]]</span>
</pre></div>
</div>
<p>Das Resultat ist also eine Liste mit einzelnen <em>Pfaden</em> durch den Genrebaum.
Jeder Pfad ist dabei eine Liste von mindestens einen Indexwert.
Da der Root&ndash;Knoten (<em>music</em>) immer den Index <em>0</em> hat wird dieser weggelassen.
Löst man diese wieder auf, so erhält man die ursprünglichen Genres:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[[</span><span class="s">&#39;alternative&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s">&#39;alternative&#39;</span><span class="p">,</span> <span class="s">&#39;rock&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s">&#39;reggae&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s">&#39;rock&#39;</span><span class="p">]]</span>
</pre></div>
</div>
<p>Da die einzelnen Pfade allerdings weniger Speicher verbrauchen und sich bei
weitem leichter auflösen und vergleichen lassen werden diese vom Provider
zurückgegeben.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">Keywords</span></tt>: Extrahiert aus einem Text als Eingabe alle <em>relevanten</em>
Stichwörter.  Ein Beispiel dieser <em>Keywords</em> wird in
 gezeigt.  Zudem wird die Sprache des Eingabetextes
erkannt und mit abgespeichert.</p>
<div class="figure align-center" id="fig-yellow-keywords">
<center><table border="1" class="docutils">
<colgroup>
<col width="15%" />
<col width="85%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="headalign-center">Rating</th>
<th class="headalign-center">Keywords</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td class="align-center">22.558</td>
<td class="align-center">yellow, submarin</td>
</tr>
<tr class="row-odd"><td class="align-center">20.835</td>
<td class="align-center">full, speed, ahead, mr</td>
</tr>
<tr class="row-even"><td class="align-center">8.343</td>
<td class="align-center">live, beneath</td>
</tr>
<tr class="row-odd"><td class="align-center">5.247</td>
<td class="align-center">band, begin</td>
</tr>
<tr class="row-even"><td class="align-center">3.297</td>
<td class="align-center">sea</td>
</tr>
<tr class="row-odd"><td class="align-center">3.227</td>
<td class="align-center">green</td>
</tr>
<tr class="row-even"><td class="align-center">2.797</td>
<td class="align-center">captain</td>
</tr>
<tr class="row-odd"><td class="align-center">...</td>
<td class="align-center">...</td>
</tr>
</tbody>
</table>
<p class="caption">Die extrahierten Keywords aus ,,Yellow Submarine”, samt deren
Rating.</p>
</center></div></li>
<li><p class="first"><tt class="docutils literal"><span class="pre">PlyrLyrics</span></tt>: Besorgt mittels <em>libglyr</em> Liedtexte aus dem Internet. Bereits
gesuchte Liedtexte werden dabei zwischengespeichert. Dieser Provider eignet
sich besonders im Zusammenhang mit dem <em>Keywords</em> zusammen als <em>Composite</em>
Provider.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">DiscogsGenre</span></tt>: Besorgt von dem Online&ndash;Musikmarktplatz <em>Discogs</em> Genre
Informationen. Dies ist nötig da Musiksammlungen für gewöhnlich mittels einer
Online&ndash;Musikdatenbank getaggt werden &ndash;- die meisten bieten allerdings keine
Genreinformationen.</p>
</li>
</ul>
</div>
<div class="section" id="liste-der-distanzfunktionen">
<span id="distance-function-list"></span><h3>5.5 Liste der Distanzfunktionen<a class="headerlink" href="#liste-der-distanzfunktionen" title="Permalink to this headline">¶</a></h3>
<p>Die genaue Funktionsweise der einzelnen Distanzfunktionen wird in der
Bachelorarbeit genauer betrachtet. Im Folgenden wird aber eine kurze Auflistung
jeder vorhandenen Distanzfunktion und der Annahme auf der sie basiert
gegeben.</p>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">Date</span></tt>: Vergleicht zwei Jahreszahlen. Eine hohe Differenz führt dabei zu
einer hohen Distanz. Also ,,erstes&quot; Jahr wird das Jahr 1950 angenommen.</p>
<p><em>Annahme:</em> Lieder mit einer großen zeitlichen Differenz zueinander werden
selten zusammen gehört.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">Moodbar</span></tt> Vergleicht die <tt class="docutils literal"><span class="pre">moodbar</span></tt> zweier unterschiedlicher Lieder.</p>
<p><em>Annahme:</em> Ähnliche <em>Moodbars</em> implizieren auch ähnliche Lieder. Da man oft
gewissen Instrumente anhand deren Farbe erkennen kann werden unter anderen die
dominanten Farben und der Stilleanteil verglichen.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">Rating</span></tt>: Vergleicht ein vom Benutzer vergebenes Rating. Dabei wird zwischen
nicht gesetzten <em>(z.B. 0)</em> und gesetzten Rating unterschieden <em>(z.B. 1-5)</em> die
sich unterschiedlich auf die finale Distanz auswirken.  Die Werte für das
Minima, Maxima und den Nullwert können beim Erstellen der Session konfiguriert
werden.</p>
<p><em>Annahme:</em> Zeichnet der Benutzer ein Lied mit einem hohen Rating aus so möchte
er vermutlich Empfehlungen zu ebenfalls hoch ausgezeichneten Liedern haben.
Dies bietet dem Nutzer eine Möglichkeit direkte <em>Hinweise</em> an das System zu
geben (Stichwort <em>explizites Lernen</em>).</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">BPM</span></tt>: Vergleicht den ,,Beats-per&ndash;Minute`` Wert zweier Lieder.  Als
Minimalwert wird 50 und als Maximalwert 250 angenommen.</p>
<p><em>Annahme:</em> Ähnlich schnelle Lieder werden oft zusammen gespielt.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">Wordlist</span></tt>: Vergleicht eine Menge von Wörtern auf Identität. Sind die Mengen
identisch so kommt eine Distanz von <span class="math">\(0.0\)</span> dabei heraus.</p>
<p><em>Annahme:</em> Diese Distanzfunktion ist beispielsweise beim Vergleich von Titeln
nützlich. Ähnliche Wörter in Titeln deuten oft auf ähnliche Themen hin.  Als
Beispiel kann man die Titel <em>,,Hey Staat&quot; (Hans Söllner)</em> und <em>,,Lieber Staat&quot;
(Farin Urlaub)</em> nennen.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">Levenshtein</span></tt>: Wie <tt class="docutils literal"><span class="pre">Wordlist</span></tt>, die einzelnen Wörter werden aber mittels
der Levenshtein&ndash;Distanzfunktion <a class="reference internal" href="rst/index.html#brill2000improved" id="id8">[1]</a> verglichen.  So
spielen kleine Abweichung wie der Vergleich von <tt class="docutils literal"><span class="pre">color</span></tt> und <tt class="docutils literal"><span class="pre">colour</span></tt> keine
große Rolle mehr. Der große Nachteil ist der erhöhte Rechenaufwand.</p>
<p><em>Annahme:</em> Ähnlich wie bei <tt class="docutils literal"><span class="pre">Wordlist</span></tt>, aber eben auch für Daten bei denen man
kleine Unterschiede in der Schreibweise erwartet. Beispielsweise bei Künstlern
<tt class="docutils literal"><span class="pre">ZZ-Top</span></tt> und <tt class="docutils literal"><span class="pre">zz</span> <span class="pre">Top</span></tt>.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">Keywords</span></tt>: Nimmt die Ergebnisse des <tt class="docutils literal"><span class="pre">Keyword</span></tt>&ndash;Providers entgegen und
bezieht die Sprache beider Keywordmengen sowie die länge der einzelnen
Keywords in die Distanz mit ein.</p>
<p><em>Annahme:</em> Der Nutzer möchte Lieder mit ähnliche Themen zu einem Lied
vorgeschlagen bekommen &ndash;- oder wenigstens in derselben Sprache.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">GenreTree</span></tt>, <tt class="docutils literal"><span class="pre">GenreTreeAvg</span></tt>: Vergleicht die vom <tt class="docutils literal"><span class="pre">GenreTree</span></tt>&ndash;Provider
erzeugten Genrepfade.</p>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">GenreTree</span></tt>: Vergleicht alle Pfade in beiden Eingabemengen miteinander und
nimmt die <em>geringste</em> Distanz von allen.</p>
<p>Diese Distanzfunktion sollte gewählt werden wenn die Genre&ndash;Tags eher kurz
gefasst sind &ndash;- beispielsweise wenn nur <em>Rock</em> darin steht.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">GenreTreeAvg</span></tt>: Vergleicht alle Pfade in beiden Eingabemengen miteinander
und nimmt die <em>durchschnittliche</em> Distanz von allen.</p>
<p>Diese Distanzfunktion sollte gewählt werden wenn ausführliche Genre&ndash;Tags
vorhanden &ndash;- wie sie beispielsweise vom <tt class="docutils literal"><span class="pre">DiscogsGenre</span></tt>&ndash;Provider geliefert
werden &ndash;- sind.</p>
</li>
</ul>
<p><em>Annahme:</em> Ähnliche Genres deuten auf ähnliche Musikstile hin.</p>
</li>
</ul>
</div>
<div class="section" id="modul-und-paketubersicht">
<h3>5.6 Modul&ndash; und Paketübersicht<a class="headerlink" href="#modul-und-paketubersicht" title="Permalink to this headline">¶</a></h3>
<p>In der Programmiersprache <em>Python</em> entspricht jede einzelne <tt class="docutils literal"><span class="pre">.py</span></tt> Datei einem
<em>Modul</em>. Die Auflistung unter  soll eine Übersicht darüber
geben welche Funktionen in welchem Modul implementiert worden.</p>
<p><em>Anmerkung:</em> <tt class="docutils literal"><span class="pre">__init__.py</span></tt> ist eine spezielle Datei, die beim Laden
eines Verzeichnisses durch Python ausgeführt wird.</p>
<div class="figure align-center" id="fig-module-tree">
<center><table border="1" class="docutils">
<colgroup>
<col width="18%" />
<col width="17%" />
<col width="15%" />
<col width="7%" />
<col width="43%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="headalign-center"><strong>Verzeichnisse</strong></th>
<th class="headalign-center">(gekürzt)</th>
<th class="headalign-center">&nbsp;</th>
<th class="headalign-center">&nbsp;</th>
<th class="headalign-center"><strong>Beschreibung</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td class="align-center"><strong>munin/</strong></td>
<td class="align-center">&nbsp;</td>
<td class="align-center">&nbsp;</td>
<td class="align-center">&nbsp;</td>
<td class="align-center">Quelltextverzeichnis</td>
</tr>
<tr class="row-odd"><td class="align-center">&nbsp;</td>
<td class="align-center">__init__.py</td>
<td class="align-center">&nbsp;</td>
<td class="align-center">&nbsp;</td>
<td class="align-center">Versionierungs Info</td>
</tr>
<tr class="row-even"><td class="align-center">&nbsp;</td>
<td class="align-center">__main__.py</td>
<td class="align-center">&nbsp;</td>
<td class="align-center">&nbsp;</td>
<td class="align-center">Beispielprogramm</td>
</tr>
<tr class="row-odd"><td class="align-center">&nbsp;</td>
<td class="align-center">database.py</td>
<td class="align-center">&nbsp;</td>
<td class="align-center">&nbsp;</td>
<td class="align-center">Implementierung von <tt class="docutils literal"><span class="pre">Database</span></tt></td>
</tr>
<tr class="row-even"><td class="align-center">&nbsp;</td>
<td class="align-center">dbus_service.py</td>
<td class="align-center">&nbsp;</td>
<td class="align-center">&nbsp;</td>
<td class="align-center">Unfertiger DBus Service.</td>
</tr>
<tr class="row-odd"><td class="align-center">&nbsp;</td>
<td class="align-center"><em>dbus_client</em></td>
<td class="align-center">&nbsp;</td>
<td class="align-center">&nbsp;</td>
<td class="align-center">Unfertiger DBus Beispielclient.</td>
</tr>
<tr class="row-even"><td class="align-center">&nbsp;</td>
<td class="align-center"><strong>distance/</strong></td>
<td class="align-center">&nbsp;</td>
<td class="align-center">&nbsp;</td>
<td class="align-center">Unterverzeichnis für Distanzfunktionen</td>
</tr>
<tr class="row-odd"><td class="align-center">&nbsp;</td>
<td class="align-center">&nbsp;</td>
<td class="align-center">__init__.py</td>
<td class="align-center">&nbsp;</td>
<td class="align-center">Implementierung von <tt class="docutils literal"><span class="pre">DistanceFunction</span></tt></td>
</tr>
<tr class="row-even"><td class="align-center">&nbsp;</td>
<td class="align-center">&nbsp;</td>
<td class="align-center">bpm.py</td>
<td class="align-center">&nbsp;</td>
<td class="align-center">Implementierung von <tt class="docutils literal"><span class="pre">BPMDistance</span></tt></td>
</tr>
<tr class="row-odd"><td class="align-center">&nbsp;</td>
<td class="align-center">&nbsp;</td>
<td class="align-center">date.py</td>
<td class="align-center">&nbsp;</td>
<td class="align-center">Implementierung von <tt class="docutils literal"><span class="pre">DateDistance</span></tt></td>
</tr>
<tr class="row-even"><td class="align-center">&nbsp;</td>
<td class="align-center">&nbsp;</td>
<td class="align-center"><em>...</em></td>
<td class="align-center">&nbsp;</td>
<td class="align-center">Weitere Subklassen von <tt class="docutils literal"><span class="pre">DistanceFunction</span></tt></td>
</tr>
<tr class="row-odd"><td class="align-center">&nbsp;</td>
<td class="align-center">session.py</td>
<td class="align-center">&nbsp;</td>
<td class="align-center">&nbsp;</td>
<td class="align-center">Implementierung der <tt class="docutils literal"><span class="pre">Session</span></tt> (API)</td>
</tr>
<tr class="row-even"><td class="align-center">&nbsp;</td>
<td class="align-center">easy.py</td>
<td class="align-center">&nbsp;</td>
<td class="align-center">&nbsp;</td>
<td class="align-center">Implementierung der <tt class="docutils literal"><span class="pre">EasySession</span></tt></td>
</tr>
<tr class="row-odd"><td class="align-center">&nbsp;</td>
<td class="align-center">graph.py</td>
<td class="align-center">&nbsp;</td>
<td class="align-center">&nbsp;</td>
<td class="align-center">Implementierung der Graphenoperationen</td>
</tr>
<tr class="row-even"><td class="align-center">&nbsp;</td>
<td class="align-center">helper.py</td>
<td class="align-center">&nbsp;</td>
<td class="align-center">&nbsp;</td>
<td class="align-center">Gesammelte, oftgenutzte Funktionen</td>
</tr>
<tr class="row-odd"><td class="align-center">&nbsp;</td>
<td class="align-center">history.py</td>
<td class="align-center">&nbsp;</td>
<td class="align-center">&nbsp;</td>
<td class="align-center">Implementierung der <tt class="docutils literal"><span class="pre">History</span></tt> u. Regeln</td>
</tr>
<tr class="row-even"><td class="align-center">&nbsp;</td>
<td class="align-center">plot.py</td>
<td class="align-center">&nbsp;</td>
<td class="align-center">&nbsp;</td>
<td class="align-center">Visualisierungsfunktionen für Graphen</td>
</tr>
<tr class="row-odd"><td class="align-center">&nbsp;</td>
<td class="align-center"><strong>provider/</strong></td>
<td class="align-center">&nbsp;</td>
<td class="align-center">&nbsp;</td>
<td class="align-center">Unterverzeichnis für Provider</td>
</tr>
<tr class="row-even"><td class="align-center">&nbsp;</td>
<td class="align-center">&nbsp;</td>
<td class="align-center">__init__.py</td>
<td class="align-center">&nbsp;</td>
<td class="align-center">Implementierung von <tt class="docutils literal"><span class="pre">Provider</span></tt></td>
</tr>
<tr class="row-odd"><td class="align-center">&nbsp;</td>
<td class="align-center">&nbsp;</td>
<td class="align-center">bpm.py</td>
<td class="align-center">&nbsp;</td>
<td class="align-center">Implementierung von <tt class="docutils literal"><span class="pre">BPMProvider</span></tt></td>
</tr>
<tr class="row-even"><td class="align-center">&nbsp;</td>
<td class="align-center">&nbsp;</td>
<td class="align-center">composite.py</td>
<td class="align-center">&nbsp;</td>
<td class="align-center">Implementierung des <tt class="docutils literal"><span class="pre">CompositeProvider</span></tt></td>
</tr>
<tr class="row-odd"><td class="align-center">&nbsp;</td>
<td class="align-center">&nbsp;</td>
<td class="align-center"><em>...</em></td>
<td class="align-center">&nbsp;</td>
<td class="align-center">Weitere Subklassen von <tt class="docutils literal"><span class="pre">Provider</span></tt></td>
</tr>
<tr class="row-even"><td class="align-center">&nbsp;</td>
<td class="align-center">rake.py</td>
<td class="align-center">&nbsp;</td>
<td class="align-center">&nbsp;</td>
<td class="align-center">Implementierung des RAKE-Algorightmus</td>
</tr>
<tr class="row-odd"><td class="align-center">&nbsp;</td>
<td class="align-center"><strong>scripts/</strong></td>
<td class="align-center">&nbsp;</td>
<td class="align-center">&nbsp;</td>
<td class="align-center">Unterverzeichnis für ,,Test Scripts&quot;</td>
</tr>
<tr class="row-even"><td class="align-center">&nbsp;</td>
<td class="align-center">&nbsp;</td>
<td class="align-center">visualizer.py</td>
<td class="align-center">&nbsp;</td>
<td class="align-center">Zeichnet ein mood-file mittels <tt class="docutils literal"><span class="pre">cairo</span></tt></td>
</tr>
<tr class="row-odd"><td class="align-center">&nbsp;</td>
<td class="align-center">&nbsp;</td>
<td class="align-center">walk.py</td>
<td class="align-center">&nbsp;</td>
<td class="align-center">Berechnet vieles mood-files parallel</td>
</tr>
<tr class="row-even"><td class="align-center">&nbsp;</td>
<td class="align-center">song.py</td>
<td class="align-center">&nbsp;</td>
<td class="align-center">&nbsp;</td>
<td class="align-center">Implementierung von <tt class="docutils literal"><span class="pre">Song</span></tt></td>
</tr>
<tr class="row-odd"><td class="align-center">&nbsp;</td>
<td class="align-center"><strong>stopwords/</strong></td>
<td class="align-center">&nbsp;</td>
<td class="align-center">&nbsp;</td>
<td class="align-center">Stoppwortimplementierung:</td>
</tr>
<tr class="row-even"><td class="align-center">&nbsp;</td>
<td class="align-center">&nbsp;</td>
<td class="align-center">__init__.py</td>
<td class="align-center">&nbsp;</td>
<td class="align-center">Implementierung des StopwordsLoader</td>
</tr>
<tr class="row-odd"><td class="align-center">&nbsp;</td>
<td class="align-center">&nbsp;</td>
<td class="align-center"><strong>data/</strong></td>
<td class="align-center">&nbsp;</td>
<td class="align-center">Unterverzeichnis für die Stoppwortlisten</td>
</tr>
<tr class="row-even"><td class="align-center">&nbsp;</td>
<td class="align-center">&nbsp;</td>
<td class="align-center">&nbsp;</td>
<td class="align-center"><em>de</em></td>
<td class="align-center">Gemäß ISO 638-1 benannte Dateien;</td>
</tr>
<tr class="row-odd"><td class="align-center">&nbsp;</td>
<td class="align-center">&nbsp;</td>
<td class="align-center">&nbsp;</td>
<td class="align-center"><em>en</em></td>
<td class="align-center">Pro Zeile ist ein Stoppwort gelistet;</td>
</tr>
<tr class="row-even"><td class="align-center">&nbsp;</td>
<td class="align-center">&nbsp;</td>
<td class="align-center">&nbsp;</td>
<td class="align-center"><em>es</em></td>
<td class="align-center">Insgesamt 17 verschiedene Listen.</td>
</tr>
<tr class="row-odd"><td class="align-center">&nbsp;</td>
<td class="align-center">&nbsp;</td>
<td class="align-center">&nbsp;</td>
<td class="align-center"><em>...</em></td>
<td class="align-center">&nbsp;</td>
</tr>
<tr class="row-even"><td class="align-center">&nbsp;</td>
<td class="align-center">testing.py</td>
<td class="align-center">&nbsp;</td>
<td class="align-center">&nbsp;</td>
<td class="align-center">Fixtures und Helper für unittests</td>
</tr>
</tbody>
</table>
<p class="caption">Verzeichnisbaum mit den einzelnen Modulen von libmunin's
Implementierung</p>
</center></div></div>
<div class="section" id="trivia">
<h3>5.7 Trivia<a class="headerlink" href="#trivia" title="Permalink to this headline">¶</a></h3>
<div class="section" id="entwicklungsumgebung">
<h4>5.7.1 Entwicklungsumgebung<a class="headerlink" href="#entwicklungsumgebung" title="Permalink to this headline">¶</a></h4>
<p>Als Programmiersprache wurde <em>Python</em>, in Version <span class="math">\(3.2\)</span>, aus folgenden
Gründen ausgewählt:</p>
<ul class="simple">
<li>Exzellenter Support für <em>Rapid Prototyping</em> &ndash;- eine wichtige Eigenschaft bei
nur knapp 3 Monaten Implementierungszeit.</li>
<li>Große Zahl an nützlichen Bibliotheken, besonders für den wissenschaftlichen
Einsatz.</li>
<li>Bei Performanceproblemen ist eine Auslagerung von Code nach
<span class="math">\(\mathrm{C/C{\scriptstyle\overset{\!++}{\vphantom{\_}}}}\)</span> mittels
<em>Cython</em> sehr einfach möglich.</li>
<li>Der Autor hat gute Kenntnisse in Python.</li>
</ul>
<p>Alle Quellen die während dieses Projektes entstanden sind, finden sich auf der
sozialen Code&ndash;Hosting Plattform <em>GitHub</em> <a class="reference internal" href="rst/index.html#y41" id="id9">[Link-27]</a> &ndash;- zur Versionierung wird
entsprechend das <em>Distributed Version Control System</em> <tt class="docutils literal"><span class="pre">git</span></tt> genutzt.</p>
<p>Der Vorteil dieser Plattform besteht darin, dass sie von sehr vielen Entwicklern
besucht wird, die die Software ausprobieren und möglicherweise verbessern oder
zumindest die Seite für spätere Projekte merken.</p>
<p>Die dazugehörige Dokumentation wird bei jedem <em>Commit</em> <a class="footnote-reference" href="#f2" id="id10"><sup>2</sup></a> automatisch aus
den Quellen, mittels des freien Dokumentations&ndash;Generators Sphinx, auf der, für
Python&ndash;Projekte populären, Dokumentations&ndash;Hosting&ndash;Plattform <em>ReadTheDocs</em>
gebaut und dort verfügbar gemacht <a class="reference internal" href="rst/index.html#lx" id="id11">[Link-22]</a>.</p>
<p>Zudem werden pro <em>Commit</em> Unit&ndash;Tests auf der Continious&ndash;Integration Plattform
<em>TravisCI</em> <a class="reference internal" href="rst/index.html#jiu" id="id12">[Link-28]</a> für verschiedene Python&ndash;Versionen durchgeführt. Dies hat
den Vorteil, dass fehlerhafte Versionen aufgedeckt werden, selbst wenn man
vergessen hat die unittests lokal durchzuführen.</p>
<p>Schlägt der <em>Build</em> fehl so färben sich kleine Buttons in den oben genannten
Diensten rot und man wird per Mail benachrichtigt. (Siehe )</p>
<div class="figure align-center" id="fig-travis-badge">
<img alt="Screenshot der Statusbuttons auf der Github--Seite." src="../../_images/travis_badge.png" />
<p class="caption">Screenshot der Statusbuttons auf der Github&ndash;Seite.</p>
</div>
<p>Versionen die als stabil eingestuft werden, werden auf <em>PyPi (Python Package Index)</em>
veröffentlicht <a class="reference internal" href="rst/index.html#o6q" id="id13">[Link-29]</a>, wo sie mithilfe des folgenden Befehles samt
Python&ndash;Abhängigkeiten installiert werden können (Setzt Python <span class="math">\(\ge 3.2\)</span>
vorraus):</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>sudo pip install libmunin
</pre></div>
</div>
<p>Auf lokaler Seite wird jede Änderungen versioniert, um die Fehlersuche zu
vereinfachen &ndash;- im Notfall kann man stets auf funktionierende Versionen
zurückgehen.</p>
<p>Der Quelltext selber wird in <em>gVim</em> geschrieben &ndash;- dass sich der Python&ndash;Quelltext
dabei an die gängigen Konventionen hält wird durch die Zusatzprogramme <em>PEP8</em>
und <em>flake8</em> überprüft.</p>
<p>Auch dieses Dokument wurde mit dem 
        <style type="text/css">
            .tex sub, .latex sub, .latex sup {
                text-transform: uppercase;
            }

            .tex sub, .latex sub {
                vertical-align: -0.5ex;
                margin-left: -0.1667em;
                margin-right: -0.125em;
            }

            .tex, .latex, .tex sub, .latex sub {
                font-size: 1em;
            }

            .latex sup {
                font-size: 0.85em;
                vertical-align: 0.15em;
                margin-left: -0.36em;
                margin-right: -0.15em;
            }
        </style>
        <span class="latex">L<sup>a</sup>T<sub>e</sub>X</span>
    -Backend einer
modifizierten Sphinxversion erstellt. Der Vorteil ist dabei, dass die Arbeit in
<em>reStructuredText</em> geschrieben werden kann und einerseits als PDF und als HTML&ndash;
Variante <a class="reference internal" href="rst/index.html#md" id="id14">[Link-30]</a> erstellt wird &ndash;- letztere ist sogar für mobile Endgeräte
ausgelegt.</p>
</div>
<div class="section" id="unit-tests">
<h4>5.7.2 Unit&ndash;Tests<a class="headerlink" href="#unit-tests" title="Permalink to this headline">¶</a></h4>
<p>Die meisten Module sind mit <tt class="docutils literal"><span class="pre">unittests</span></tt> ausgestattet, die sich, für Python
typisch, am Ende von jeder <tt class="docutils literal"><span class="pre">.py</span></tt>-Datei befinden:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">func</span><span class="p">():</span> <span class="k">return</span> <span class="mi">42</span>

<span class="c"># Tests werden nur ausgeführt wenn das Skript direkt ausgeführt wird.</span>
<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">unittest</span>
    <span class="k">class</span> <span class="nc">TestFunc</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>  <span class="c"># Ein einzelner Unittest:</span>
        <span class="k">def</span> <span class="nf">test_func</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">func</span><span class="p">(),</span> <span class="mi">42</span><span class="p">)</span>
    <span class="n">unittest</span><span class="o">.</span><span class="n">main</span><span class="p">()</span>  <span class="c"># Führe tests aus.</span>
</pre></div>
</div>
<p>Auf einer detaillierten Erklärung der im einzelnen getesteten Funktionalitäten
wird verzichtet &ndash;- diese würden den Rahmen der Projektarbeit ohne erkenntlichen
Mehrwert sprengen.</p>
</div>
<div class="section" id="lines-of-code-loc">
<h4>5.7.3 Lines of Code (<em>LoC</em>)<a class="headerlink" href="#lines-of-code-loc" title="Permalink to this headline">¶</a></h4>
<p>Was die <em>Lines of Code</em> betrifft so verteilen sich insgesamt 4867 Zeilen
Quelltext auf 46 einzelne Dateien. Die im nächsten Kapitel vorgestellte
Demo&ndash;Anwendung ist dabei mit eingerechnet. Dazu gesellen sich 2169 Zeilen
Kommentare, die zum größten Teil zur Generation der Online&ndash;Dokumentation
genutzt werden.</p>
<p>Dazu kommen einige weitere Zeilen von <em>reStructuredText</em> (einer einfachen, aber
mächtigen Markup&ndash;Sprache) die das Gerüst der Online&ndash;Dokumentation bilden:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>wc -l <span class="k">$(</span>find . -iname <span class="s1">&#39;*.rst&#39;</span><span class="k">)</span>
2231 insgesamt
</pre></div>
</div>
<p>Die Online&ndash;Dokumentation wird aus den Kommentaren im Quelltext
extrahiert &ndash;- das entspricht dem vom <em>Donald Knuth</em> vorgeschlagenem
Ansatz des <em>Literate Programming</em>.</p>
</div>
<div class="section" id="sonstige-statistiken">
<h4>5.7.4 Sonstige Statistiken<a class="headerlink" href="#sonstige-statistiken" title="Permalink to this headline">¶</a></h4>
<p>Zudem lassen sich einige Statistiken präsentieren die automatisch aus den
<tt class="docutils literal"><span class="pre">git</span> <span class="pre">log</span></tt> entstanden sind:</p>
<p><strong>GitHub Visualisierungen:</strong> <em>GitHub</em> stellt einige optisch ansprechende und
interaktive Statistiken bereit die beispielsweise viel über den eigenen
Arbeitszyklus verraten: <a class="reference internal" href="rst/index.html#ibl" id="id15">[Link-31]</a></p>
<p><tt class="docutils literal"><span class="pre">gitstats</span></tt> <strong>Visualisierungen:</strong> Das kleine Programm <tt class="docutils literal"><span class="pre">gitstats</span></tt> baut aus dem
<tt class="docutils literal"><span class="pre">git</span> <span class="pre">log</span></tt> eine HTML-Seite mit einigen interessanten Statistiken &ndash;- wie
beispielsweise der absoluten Anzahl von geschriebenen (und wieder gelöschten)
Zeilen: <a class="reference internal" href="rst/index.html#md" id="id16">[Link-30]</a></p>
<p><strong>Commit&ndash;Graph Visualisierungsvideo</strong>: <tt class="docutils literal"><span class="pre">gource</span></tt> ist ein Programm,
das in einem optisch ansprechenden Video zeigt wie sich das <tt class="docutils literal"><span class="pre">git</span></tt>-Repository
mit der Zeit aufbaut. Unter <a class="reference internal" href="rst/index.html#mc" id="id17">[Link-32]</a> findet sich ein ein&ndash;minütiges Video dass
entsprechend die Entwicklung von <em>libmunin</em> zeigt.</p>
<p class="rubric">Footnotes</p>
<table class="docutils footnote" frame="void" id="f1" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td><tt class="docutils literal"><span class="pre">sudo</span> <span class="pre">pip</span> <span class="pre">install</span> <span class="pre">libmunin</span></tt> &ndash; bisher nur auf Entwicklersystem getestet!</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="f2" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id10">[2]</a></td><td>In einem <em>Commit</em> werden eine Reihe zusammengehöriger Änderungen
verpackt. Später kann man einen <em>Commit</em> immer wieder zurückspulen.</td></tr>
</tbody>
</table>
</div>
</div>
</div>
<span id="document-rst/VI/index"></span><div class="section" id="demonstrationsanwendung">
<h2>6 Demonstrationsanwendung<a class="headerlink" href="#demonstrationsanwendung" title="Permalink to this headline">¶</a></h2>
<div class="section" id="intro">
<h3>6.1 Intro<a class="headerlink" href="#intro" title="Permalink to this headline">¶</a></h3>
<p>Abseits der Bibliothek wurde eine, auf dem freien
Oberflächen&ndash;Framework <span class="math">\(\text{GTK+-}3.0\)</span> basierende, GUI-Anwendung
entwickelt.  Wie eingangs erwähnt, dient diese nicht nur zum <em>Showoff</em>, sondern
auch zur gezielten Fehlersuche.</p>
<p>Die Anwendung, die den ebenfalls nordischen Namen <em>Naglfar</em> erhielt, stellt
einen MPD-Client bereit. Im Hintergrund werkelt dabei <em>Moosecat</em>.
Vor der ersten Benutzung muss gemäß  eine Session aufgebaut
werden &ndash;- dies erledigt das Skript <tt class="docutils literal"><span class="pre">coldstart.py</span></tt> (siehe
<a class="reference internal" href="rst/index.html#coldstart-example"><em>coldstart.py</em></a> im <em>Angang C</em>). Dies kann durch das Ziehen der
Songtexte und der Audioanalyse beim ersten Lauf sehr lange dauern &ndash;- bis zu 2
Stunden. Danach sind allerdings die Liedtext zwischengelagert und der zweite
Lauf dauert dann nur noch wenige Minuten.</p>
<p>Nach dem <tt class="docutils literal"><span class="pre">coldstart.py</span></tt> die <em>Session</em> auf die Platte geschrieben hat, kann die
eigentliche Anwendung gestartet werden. Diese verbindet sich zuallererst mit
einem MPD-Server der auf <em>localhost</em> unter Port <em>6601</em> lauscht. Dort  besorgt
sich die Anwendung alle Metadaten um die <em>Playlist</em> und <em>Database</em>-Ansicht zu
befüllen.  Danach wird besagte <em>Session</em> geladen. Nach der Initialisierung der
<em>GUI</em> ist die Anwendung nun bereit benutzt zu werden.</p>
<p>Damit zwischen den von <em>libmunin</em> herausgegebenen Empfehlungen und den internen
Songs unterschieden werden kann, generiert <tt class="docutils literal"><span class="pre">coldstart.py</span></tt> eine Hashtabelle, die
zwischen den <em>ID</em> von <em>libmunin's</em> Songs und den Dateipfaden innerhalb der
Musikdatenbank eine Beziehung herstellt. Diese Hashtabelle wird in der Session
gespeichert. Die Musikdatenbank selbst besteht dabei aus genau <em>666</em> ausgewählten
Liedern aus der privaten Musiksammlung des Autors.</p>
</div>
<div class="section" id="anwendungsubersicht">
<h3>6.2 Anwendungsübersicht<a class="headerlink" href="#anwendungsubersicht" title="Permalink to this headline">¶</a></h3>
<p>In  wird eine Übersicht über die GUI der Anwendung
gegeben. Detailliertere Ansichten werden unter <a class="reference internal" href="rst/index.html#demo-pics"><em>Bilder der Demoanwendung</em></a> gezeigt.  Im
Folgenden wird nun eine textuelle Übersicht über die <em>Features</em> der Anwendung
gegeben.</p>
<div class="section" id="ansichten">
<h4>6.2.1 Ansichten<a class="headerlink" href="#ansichten" title="Permalink to this headline">¶</a></h4>
<p>Die Anwendung ist in unterschiedliche <em>Ansichten</em> (englisch <em>Views</em>) aufteilt
die jeweils in unterschiedlichen Tabs stecken. Im folgenden wird eine Übersicht
über alle <em>Views</em> gegeben:</p>
<ul>
<li><p class="first"><strong>Database:</strong> Siehe Abbildung .</p>
<p>Anzeige der gesamten Musikdatenbank durch die Spalten <tt class="docutils literal"><span class="pre">Artist</span></tt>, <tt class="docutils literal"><span class="pre">Album</span></tt>,
<tt class="docutils literal"><span class="pre">Titel</span></tt>, <tt class="docutils literal"><span class="pre">Datum</span></tt> und <tt class="docutils literal"><span class="pre">Genre</span></tt>. Jede Zeile entspricht dabei einem Song.
Ein Rechtsklickmenü auf einen beliebigen Song fördert ein Kontextmenü zu Tage
(siehe Abbildung ), dass mehrere Möglichkeiten
bietet um die Playlist mit Empfehlungen zu befüllen (entsprechend
<a class="reference internal" href="rst/index.html#list-of-recom-strategies">5.3</a>).  Im folgenden ist <span class="math">\(N\)</span> die Anzahl
der gewünschten Empfehlungen, die im Empfehlungszähler (siehe
Nr. 5 in ) eingestellt ist.</p>
<ul>
<li><p class="first"><strong>Ausgewählten Song als Seedsong nehmen:</strong> Erstellt <span class="math">\(N\)</span>
Empfehlungen basierend auf dem selektierten Song und reiht sie in die Playlist
ein.</p>
</li>
<li><p class="first"><strong>Playlist säubern und ausgewählten Song als Seedsong nehmen:</strong> Wie oben,
leert aber vor dem Einreihen die Playlist.</p>
</li>
<li><p class="first"><strong>Suche einen Seedsong mit einem bestimmten Attribut:</strong> Sucht einen
Seedsong nach bestimmten Kriterien, die der Nutzer im Eingabefeld oben
rechts angeben kann. Dort kann ein <em>Suchbegriff</em> in der folgenden Form
angegeben werden:</p>
<div class="highlight-python"><div class="highlight"><pre>&lt;attribut&gt;: &lt;wert&gt;[, &lt;attribut&gt;: &lt;value&gt;, ...]
</pre></div>
</div>
<p>Folgendes Beispiel findet alle Songs mit dem Künstler <em>,,Billy Talent&quot;</em> <strong>und</strong>
dem Genre <em>,,Rock&quot;</em>:</p>
<div class="highlight-python"><div class="highlight"><pre>genre: rock, artist: Billy Talent
</pre></div>
</div>
<p>Werden mehrere Suchergebnisse gefunden so werden alle als Seedsongs genutzt um
in die Playlist <span class="math">\(N\)</span> neue Songs einzureihen.</p>
<p>Diese Funktionalität ist momentan relativ eingeschränkt da nur exakte Treffer
funktioneren. Ist das <em>Genre</em> also als <em>,,rock / pop&quot;</em> getaggt, so wird die
Suche erfolglos verlaufen.</p>
</li>
<li><p class="first"><strong>Lasse libmunin einen Seedsong auswählen:</strong> <em>libmunin</em> wählt automatisch
einen Seedsong nach folgenden Kriterien (gemäß
<a class="reference internal" href="rst/index.html#list-of-recom-strategies">5.3</a>):</p>
<ol class="arabic simple">
<li>Nutze die Seedsongs, die in der am besten bewertesten Regel vorkommen.</li>
<li>Falls keine Regel vorhanden, nutze den meist abgespielten Song als
Seedsong.</li>
<li>Schlägt auch das fehl wird ein zufälliger Song ausgewählt.</li>
</ol>
<p>In allen Fällen werden dann <span class="math">\(N\)</span> Empfehlungen in die Playlist
eingereiht.</p>
</li>
<li><p class="first"><strong>Erstelle eine komplett zufällige Playlist:</strong> Reiht <span class="math">\(N\)</span> neue,
komplett zufällig aus der Datenbank gewählte, Songs in die Playlist ein.
Nützlich um die komplett zufällige Playlist mit einer von <em>libmunin</em> erstellten
Playlist zu vergleichen. Der Seed für die <tt class="docutils literal"><span class="pre">random()</span></tt>-Funktion ist dabei immer
gleich, daher erstellt dies nach einem Neustart stets dieselbe Liste.</p>
</li>
</ul>
<div class="figure align-center" id="fig-demo-context-menu">
<a class="reference internal image-reference" href="../../_images/demo_context_menu.png"><img alt="Das Kontextmenu in der Playlist und Database Ansicht" src="../../_images/demo_context_menu.png" style="width: 30%;" /></a>
<p class="caption">Die Einträge des Kontextmenüs in der Playlist und Database Ansicht</p>
</div>
</li>
</ul>
<p><strong>Playlist:</strong> Siehe Abbildung .</p>
<p>Wie die <em>Database&ndash;Ansicht</em>, zeigt aber lediglich die Songs an die empfohlen
wurden. Sonst ist diese Ansicht funktionsidentisch mit der <em>Database&ndash;Ansicht</em>.</p>
<p><strong>Graph:</strong> Siehe Abbildung .</p>
<p>Im <em>Graphen&ndash;Ansicht</em> kann ein Plot von <em>libmunin's</em> Graphen begutachtet
werden. Dies ist oft nützlich um nachzuvollziehen welche Empfehlungen aus welchen
Grund gegeben wurden, da man im Graphen die Nachbarschaft eines Seedsongs
betrachten kann.</p>
<p><strong>Rules:</strong> Siehe Abbildung .</p>
<p>In einer Liste werden alle bekannten Assoziationsregel
angezeigt. Dabei wird neben beiden Seiten der Regel auch der Supportcount
und das Rating der Regel angezeigt.</p>
<p><strong>Examine:</strong> Siehe Abbildung .</p>
<p>Hier werden alle Attribute des momentan spielenden Songs angezeigt.  Es wird die
von <em>libmunin</em> normalisierte Form angezeigt, als auch, falls verfügbar, der
Originalwert.  Zudem wird die <tt class="docutils literal"><span class="pre">moodbar</span></tt> (falls vorhanden) oben im Fenster
geplottet.</p>
<p><strong>History:</strong> Siehe Abbildung .</p>
<p>Neben einer chronologischen Auflistung aller Songs die in letzter Zeit
gehört wurden (Begrenzung auf 1000 Stück) werden hier auch die zuletzt
ausgestellten Empfehlungen (Begrenzung auf 10 Stück) angezeigt.
Letzteres ist für das Debugging der Filterfunktion nützlich.</p>
</div>
<div class="section" id="weitere-steuerlemente">
<h4>6.2.2 Weitere Steuerlemente<a class="headerlink" href="#weitere-steuerlemente" title="Permalink to this headline">¶</a></h4>
<p>Aus Gründen der Vollständigkeit werden hier, die unter 
gezeigten Elemente noch erklärt.</p>
<ol class="arabic" start="2">
<li><p class="first"><strong>Seedsong:</strong> Zeigt mit einem roten Kreis den zuletzt ausgewählten
Seedsong an.  Falls es mehrere Seedsongs gab, wird nur der erste
markiert.</p>
</li>
<li><p class="first"><strong>Current Song:</strong> Ein dreieckiges Icon das den aktuell spielenden (oder
pausierten) Song anzeigt.</p>
</li>
<li><p class="first"><strong>Playlist:</strong> Die Playlist&ndash;Ansicht, wie bereits oben gezeigt.</p>
</li>
<li><p class="first"><strong>Empfehlungszähler:</strong> Die Anzahl an Empfehlungen, die ein Klick im
Kontextmenü liefert.</p>
</li>
<li><p class="first"><strong>Filter:</strong> Togglebutton (<span class="math">\($,,\sout{a}”$\)</span> als Icon) der anzeigt ob
der Filtermodus aktiviert ist.  Ist er aktiv so darf sich in einer dynamisch
erstellten Playlist der Künstler nur alle 3 Stücke wiederholen, der selbe
Künstler <em>und</em> das selbe Album nur alle 5 Stücke.</p>
</li>
<li><p class="first"><strong>Mininmaler Höranteil:</strong> Ein Klick auf den Button fördert einen Slider zu
Tage auf dem man eine Prozentzahl einstellt. Diese legt fest welcher Anteil
eines Liedes (in Prozent) <em>mindestens</em> angehört werden muss, damit er zur
Historie hinzugefügt wird.</p>
<p>Um diese Funktionalität zu realisieren musste <em>Moosecat</em> um diese
Funktionalität erweitert werden.</p>
</li>
<li><p class="first"><strong>Attributsuche:</strong> Eingabe einer Folge von Attribut&ndash;Werte Paaren die ein
Seedsong bei der Attributsuche  haben sollte.</p>
</li>
<li><p class="first"><strong>Rating:</strong> Spezielles Widget auf den man das <em>Rating</em> des aktuell spielenden
Songs zu setzen. Beim erstellen der <em>Session</em> durch <tt class="docutils literal"><span class="pre">coldstart.py</span></tt> wird ein
<em>Rating</em> von <span class="math">\(0\)</span> angenommen &ndash;- also <em>ungesetzt</em>.</p>
<p>Zum Setzen klickt man einfach ins Feld, die Seite links vom Cursor wird dann
eingefärbt.  Es ist möglich etwas links vom ersten Stern zu klicken um das
Rating auf ,,0&quot; (und damit <em>ungesetzt</em>) zurückzusetzen.</p>
<p>Ein Ändern des Ratings hat ein Neuzeichnen des Graphen in der Graphen&ndash;Ansicht
zufolge. Dies liegt daran, dass das ändern des Ratings mittels der
<tt class="docutils literal"><span class="pre">modify</span></tt>&ndash;Operation erfolgt. Diese fügt den Song an (möglicherweise)
anderer Stelle im Graphen wieder ein.</p>
</li>
<li><p class="first"><strong>Playcount:</strong> Zeigt an wie oft ein Lied bereits gehört wurde. Ein Lied gilt
als nicht gehört wenn prozentuell nur ein kleiner Teil als der gesetzte
minimale Höranteil angehört wurde.</p>
<p>Zur optischen Vorhebung ist es mit einer Fortschrittsanzeige hinterlegt &ndash;-
sobald man 100x mal ein Lied hört, zeigt diese vollen Füllstand an.</p>
</li>
<li><p class="first"><strong>Volumebar</strong> Regler für die Lautstärke.</p>
</li>
<li><p class="first"><strong>Title Label:</strong> Zeit das aktuell spielende Lied mit Titel, Album und
Künstler an.</p>
</li>
<li><p class="first"><strong>Modebuttons:</strong> Umschalten zwischen <em>Random</em> (nächstes Lied ist zufällig),
<em>Single</em> (höre nach diesem Lied auf zu spielen), <em>Repeat</em> (spring zum Anfang
der Playlist nach dem letzten Lied) und <em>Consume</em> (Lösche das Lied aus der
Playlist nach dem Abspielen).</p>
</li>
<li><p class="first"><strong>Seekbar:</strong> Ermöglicht das wahlfreie Hin- und Herspringen innerhalb des
aktuellen Liedes.  Übersprunge Parts eines Liedes fließen nicht die
<em>Höranteil</em> ein, doppelt gehörte Parts schon &ndash;- daher sind Werte <span class="math">\(\ge
100\%\)</span> möglich.</p>
</li>
<li><p class="first"><strong>Playbuttons:</strong> Die ,,üblichen&quot; Kontrollen eines Musicplayers zum
<em>Pausieren/Abspielen</em> (an momentaner Stelle anhalten/weiterspielen),
<em>Stoppen</em> (Anhalt und zum Anfang der Playlist springen), <em>Nächstes</em> und
<em>Vorheriges</em> Lied .</p>
</li>
<li><p class="first"><strong>Suche:</strong> Erlaubt das Filtern der Playlist oder Datenbank.</p>
<p>Suchbegriffe können einfacher Natur wie <em>,,beat&quot;</em> (Findet alles das <em>,,beat&quot;</em>
im Artist, Album oder Titel&ndash;Tag beeinhaltet) bis hin zu sehr komplizierten
Suchbegriffen wie <em>,,(genre:rock + y:2001..2003) | artist:Beat&quot;</em> (Findet
alles das <em>,,rock&quot;</em> im Genre hat und in den Jahren <em>2001</em> bis einschließlich
<em>2003</em> released wurde, oder dessen Künstler ein Wort enthält, dass mit
,,Beat&quot; beginnt).</p>
<p><em>Anmerkung:</em> Die ,,Such&ndash;Engine&quot; dahinter ist in <em>Moosecat</em> implementiert.
Die Suche kann mit <tt class="kbd docutils literal"><span class="pre">Strg-f</span></tt> oder <tt class="kbd docutils literal"><span class="pre">/</span></tt> <em>(Slash)</em> aktiviert und mit
<tt class="kbd docutils literal"><span class="pre">Esc</span></tt> wieder versteckt werden.</p>
</li>
</ol>
<div class="figure align-center" id="fig-demo-overview">
<a class="reference internal image-reference" href="../../_images/demo_overview.svg"><img alt="Übersicht über die Demoanwendung" src="../../_images/demo_overview.svg" width="80%" /></a>
<p class="caption">Übersicht über die Demonanwendung.</p>
</div>
</div>
</div>
</div>
<span id="document-rst/VII/index"></span><div class="section" id="zusammenfassung">
<h2>7 Zusammenfassung<a class="headerlink" href="#zusammenfassung" title="Permalink to this headline">¶</a></h2>
<div class="section" id="aktueller-stand">
<h3>7.1 Aktueller Stand<a class="headerlink" href="#aktueller-stand" title="Permalink to this headline">¶</a></h3>
<p>Es wurde eine Softwarebibliothek in Python implementiert, die ein
Musikempfehlungssystem auf Graphen&ndash;Basis mit einer flexiblen Schnittstelle
bietet. Das System lernt dabei vom Nutzer mittels expliziten (Vergeben von
Ratings) und impliziten (Beobachtung des Endnutzers und Ableitung von
Assoziationsregeln) Methoden.</p>
<p>Es wurde eine große Anzahl von sogenannten <em>Providern</em> zum Normalisieren der
Eingabedaten, sowie eine entsprechend hohe Anzahl von <em>Distanzfunktionen</em>
implementiert welche diese Daten vergleichen können.
Im Vergleich zu bestehenden Systemen ist man nicht von Audiodaten abhängig.
Durch die freie Lizenz ist ein weitläufiger Einsatz möglich.</p>
</div>
<div class="section" id="zusammenhang-mit-data-mining">
<h3>7.2 Zusammenhang mit Data&ndash;Mining<a class="headerlink" href="#zusammenhang-mit-data-mining" title="Permalink to this headline">¶</a></h3>
<p><em>Data&ndash;Mining</em> meint landläufig das automatisierte <em>Abbauen</em> von unerwarteten
Wissen aus einem großen <em>Datenberg</em>. So gesehen ist <em>libmunin</em> die <em>Spitzhacke</em>
für <em>Musikdatenbanken</em>.</p>
<p>Insgesamt wurden hauptsächlich folgende Techniken aus diesem Gebiet genutzt:</p>
<ul class="simple">
<li><em>Warenkorbanalyse</em> um <em>Assoziationsregeln</em> abzuleiten.</li>
<li>Verschiedene <em>Distanzfunktionen</em> und <em>Fusionierungsverfahren</em>.</li>
<li><em>Spracherkennung</em> und <em>Keyword&ndash;Extrahierung</em>.</li>
<li>Verschiedenste <em>Normalisierung</em> von Eingabedaten.</li>
</ul>
</div>
<div class="section" id="nicht-oder-unvollstandig-erfullte-anforderungen">
<h3>7.3 Nicht oder unvollständig erfüllte Anforderungen<a class="headerlink" href="#nicht-oder-unvollstandig-erfullte-anforderungen" title="Permalink to this headline">¶</a></h3>
<div class="section" id="unabhangigkeit-von-der-programmiersprache">
<h4>7.3.1 Unabhängigkeit von der Programmiersprache<a class="headerlink" href="#unabhangigkeit-von-der-programmiersprache" title="Permalink to this headline">¶</a></h4>
<p>Momentan ist <em>libmunin</em> nur von <em>Python</em> aus zu benutzen. Dies ist zum Teil dem
Format geschuldet in dem die internen Daten abgespeichert werden: Dem
Python-spezifischen <tt class="docutils literal"><span class="pre">pickle</span></tt> Format, welches beliebige Python&ndash;Objekte
serialisieren kann, macht es natürlich schwierig Software zu schreiben die
eine serialisierte <em>Session</em> einlesen kann ohne dabei auf <em>libmunin</em> oder
<em>Python</em> zurückzugreifen.</p>
<p>Davon unabhängig ist <em>libmunin</em> momentan durch die Implementierung in Python auf
diese Sprache eingeschränkt &ndash;- da viele Musicplayer in anderen Sprachen
geschrieben sind, kann das durchaus zum Problem werden. Hier gibt es zwei
bekannte Lösungsansätze. Der erste ist das Schreiben von
<a class="reference internal" href="rst/index.html#term-languagebindings"><em class="xref std std-term">Languagebindings</em></a> für die Zielsprache &ndash;- das würde erheblichen Aufwand
mit sich bringen, wenn mehr als einige wenige Sprachen unterstützt werden
sollen. Die zweite Möglichkeit ist eine Aufteilung in <em>Server</em> (der dann in
Python geschrieben wäre) und <em>Client</em> (der in einer beliebigen
Programmiersprache geschrieben ist).  Der <em>Client</em> könnte dann über ein
definiertes Protokoll auf die Funktionen des Servers zurückgreifen &ndash;- das ist
beispielsweise die Herangehensweise von MPD.</p>
<p>Ein konkrete Umsetzung dieser Idee könnte relativ einfach mit <em>D-Bus</em> <a class="footnote-reference" href="#f1" id="id1"><sup>1</sup></a>
erreicht werden. Der Server würde dabei die API von <em>libmunin</em> als
<em>D-Bus Service</em> implementieren. Der Client könnte eine der in zahlreichen
Programmiersprachen verfügbaren <em>DBus&ndash;Libraries</em> nutzen, um im Server Methoden
aufzurufen. Darüber ließe sich auch ein anderes Randproblem lösen: Falls mehrere
Programme die gleiche Session nutzen wollen &ndash;- momentan ist das aus Gründen der
fehlenden Nebenläufigkeit noch nicht möglich.</p>
<p class="rubric">Footnotes</p>
<table class="docutils footnote" frame="void" id="f1" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>Ein unter Unix sehr weit verbreitetes IPC-Framework und Messagebroker,
bei dem Services in einem <em>Bus</em> bereitgestellt werden. Clients können
dann, ähnlich wie bei RPC, Methoden auf den Services aufrufen.</td></tr>
</tbody>
</table>
</div>
<div class="section" id="einfaches-information-retrieval">
<h4>7.3.2 Einfaches Information Retrieval<a class="headerlink" href="#einfaches-information-retrieval" title="Permalink to this headline">¶</a></h4>
<p>Die Ergebnisse die <em>libmunin</em> liefern kann, können nur so gut sein wie die
Eingabedaten. Sind diese falsch oder unzureichend (durch schlechtes <em>Tags</em>
etwa), wird auch eine gute Distanzfunktion nur mittelmäßige Ergebnisse erzielen.</p>
<p>Momentan bietet <em>libmunin</em> bereits dem Nutzer Möglichkeiten an um fehlende
Songtexte und Genre&ndash;Tags aus dem Internet zu besorgen. In der Einleitung dieser
Arbeit wurden aber schon freie Musikmetadatenbanken wie <em>MusicBrainz</em> erwähnt
die mittels eines Audiofingerprints die Metadaten eines Stückes nachschlagen
können.</p>
<p>Glücklicherweise steht mit <em>beets</em> <a class="reference internal" href="rst/index.html#xaj" id="id2">[Link-33]</a> bereits ein entsprechendes,
praktischerweise in Python geschriebenes Tool bereit &ndash;- gewissermassen das
<em>libhugin</em> <a class="footnote-reference" href="#f2" id="id3"><sup>2</sup></a> für Musik.  In Zukunft könnte <em>beets</em> zusammen mit <em>libglyr</em>
also den <em>Information Retrieval</em> Teil übernehmen, ohne dass <em>libmunin</em> das Rad
dafür neu erfinden muss.</p>
<p class="rubric">Footnotes</p>
<table class="docutils footnote" frame="void" id="f2" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[2]</a></td><td><em>libhugin</em> ist das Schwesterprojekt zu <em>libmunin</em>. Die Bibliothek dient
unter anderem zum Auffinden zahlreicher Arten von Film&ndash;Metadaten.
<a class="reference internal" href="rst/index.html#hgn" id="id4">[Link-34]</a></td></tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="implementierungsdefizite">
<h3>7.4 Implementierungsdefizite<a class="headerlink" href="#implementierungsdefizite" title="Permalink to this headline">¶</a></h3>
<div class="section" id="vermeidung-unnotiger-vergleiche">
<h4>7.4.1 Vermeidung unnötiger Vergleiche<a class="headerlink" href="#vermeidung-unnotiger-vergleiche" title="Permalink to this headline">¶</a></h4>
<p>Der Aufruf von einigen Distanzfunktionen macht nur dann Sinn, wenn bestimmte
Kriterien erfüllt sind. So macht es beispielsweise meist wenig Sinn die
<tt class="docutils literal"><span class="pre">moodbar</span></tt> zweier Songs zu vergleichen wenn sich die Stücklänge um mehr als das
doppelte unterscheidet &ndash;- die Daten wären einfach zu unterschiedlich.</p>
<p>Momentan ist es allerdings noch nicht möglich für die <tt class="docutils literal"><span class="pre">moodbar</span></tt>-Distanzfunktion
die Länge des Stückes abzufragen &ndash;- da sie nur die, für sie relevanten Daten
bekommt, nicht die ganze <tt class="docutils literal"><span class="pre">Song</span></tt>&ndash;Instanz.</p>
</div>
<div class="section" id="beschleunigung-des-kaltstarts">
<h4>7.4.2 Beschleunigung des Kaltstarts<a class="headerlink" href="#beschleunigung-des-kaltstarts" title="Permalink to this headline">¶</a></h4>
<p>Alle Operationen von <em>libmunin</em> verlaufen momentan sequentiell. Dabei ließen
sich zumindest einige Teile des <em>Kaltstartes</em> optimieren, indem eine gewisse
Anzahl von Songtexten (oder anderem <em>Information Retrieval</em>) parallel
heruntergeladen werden. Auch das Analysieren von Audiodaten könnte beschleunigt
werden indem ein (bei normalen Festplatten)  oder mehrere (bei SSDs) <em>Threads</em>
Audiodaten einliest und diese dann an <em>Workerthreads</em> weiterleitet, die die
eigentliche Analyse durchführen.</p>
</div>
<div class="section" id="verbessertes-speicherformat">
<h4>7.4.3 Verbessertes Speicherformat<a class="headerlink" href="#verbessertes-speicherformat" title="Permalink to this headline">¶</a></h4>
<p>Wie oben erwähnt erfolgt die Speicherung der <em>Session</em> mittels Python's
<tt class="docutils literal"><span class="pre">pickle</span></tt> Modul. Dieses serialisiert <em>rekursiv</em> die Objekt&ndash;Hierarchie,
ausgehend vom <em>Session</em> Objekt. Da in <em>libmunin</em> der Graph allerdings als
rekursive Datenstruktur implementiert ist ,,verläuft&quot; sich <tt class="docutils literal"><span class="pre">pickle</span></tt> darin -
zu hohe Rekursionstiefen entstehen bei ausreichend komplexen Graphen.</p>
<p>Python hat ein eingebautes <em>Rekursionslimit</em> welches ein wenig aussagekräftiges
<em>Segmentation Fault</em> verhindern soll &ndash;- Abstürze beim Speichern der <em>Session</em>
sind die Folge. Hier ist Abhilfe nötig.</p>
</div>
<div class="section" id="korrekte-berechnung-des-bpm-wertes">
<h4>7.4.4 Korrekte Berechnung des <em>BPM-Wertes</em><a class="headerlink" href="#korrekte-berechnung-des-bpm-wertes" title="Permalink to this headline">¶</a></h4>
<p>Die Berechnung des <em>Beats&ndash;Per&ndash;Minute</em>-Wertes ist momentan in ein separates Tool
ausgelagert. Dieses Tool hat das Problem, dass es bei fehlerhaften Dateien oder
Formaten die es nicht versteht fehlerhafte (beispielsweise Werte <em>über</em> 300 bpm)
Werte zurückgibt. Da dies nicht von <em>libmunin's</em> Seite aus gelöst werden kann
sollte nach Möglichkeit hier eine eigene Lösung implementiert werden.</p>
</div>
</div>
<div class="section" id="denkbare-weiterentwicklungen">
<h3>7.5 Denkbare Weiterentwicklungen<a class="headerlink" href="#denkbare-weiterentwicklungen" title="Permalink to this headline">¶</a></h3>
<p>Abgesehen von den obigen ,,Defiziten&quot; hier noch einige stichpunktartige
Richtungen in denen die Implementierung verbessert werden kann:</p>
<ul class="simple">
<li>Verläufe: Manchmal ist es wünschenswert dass die dynamisch erstellte Playlist
einem gewissen Verlauf folgt. Man denke an eine Party bei der erst schnelle,
fröhliche Musik gespielt wird, zum Ende hin dann langsame, ruhigere Musik.</li>
<li>Weitere Empfehlungs&ndash;Strategien, wie beispielsweise von rein Genre-basierenden
Empfehlungen. Die Auswahl eines repräsentativen Seedsongs ist hier momentan
das Problem.</li>
<li>Justierbarkeit der Gewichtungen während der Laufzeit &ndash;- Momentan erfordert die
Justierung der Gewichtung jeweils eine teure <tt class="docutils literal"><span class="pre">rebuild</span></tt>-Operation.
Technisch möglich ist das allerdings bereits, durch die Speicherung der
Unter&ndash;Distanzen.</li>
<li>,,Echte&quot; Audio/Mood&ndash;Analyse mittels <em>aubio</em> <a class="reference internal" href="rst/index.html#fn" id="id5">[Link-35]</a> oder <em>MARSYAS</em> <a class="reference internal" href="rst/index.html#hj7" id="id6">[Link-36]</a>.</li>
<li>Optionaler Aufsatz auf <em>libmunin</em> der <em>Social-based music recommendation</em>
ermöglicht &ndash;- beispielsweise um die Ähnlichkeit von zwei Künstlern durch
Amazon&ndash;Reviews zu bestimmen. Sind diese in der Review&ndash;Datenbank nicht
vertreten wird die Ähnlichkeit &ndash;- wie jetzt schon &ndash;- automatisch bestimmt.</li>
<li>Portierbarkeit auf andere Plattformen. Die Software wurde momentan nur auf dem
System des Autors getestet <em>(Arch Linux)</em>.</li>
</ul>
</div>
<div class="section" id="abschlieszendes-fazit">
<h3>7.6 Abschließendes Fazit<a class="headerlink" href="#abschlieszendes-fazit" title="Permalink to this headline">¶</a></h3>
<p><em>libmunin</em> ist ein solides Fundament für weitere Entwicklungen &ndash;- und so
flexibel, dass mit entsprechenden <em>Providern</em> und <em>Distanzfunktionen</em> sogar
Empfehlungs&ndash;Systeme für andere Dokumente wie Videos, Bücher oder Filmen möglich
wären.</p>
<p>Noch ist der Einsatz relativ kompliziert (momentan nur über MPD möglich) und
erfordert, auch für kundige Entwickler, einiges an Einarbeitungszeit &ndash;- zuviel
für etwas das einfach nur im Hintergrund arbeiten sollte. Auch die erstellten
Empfehlungen sind &ndash;- subjektiv gesehen &ndash;- noch teilweise verbesserungswürdig.
Besonders die momentane Audioanalyse ist sehr primitiver Natur und bietet
einiges an Potenzial an Verbesserungen. Es wird momentan mehr auf <em>Masse</em> statt
auf <em>Klasse</em> gesetzt und oft ist einiges an <em>,,Kaffeesatzleserei&quot;</em> enthalten.
Zudem entsprichen manche Funktionsweise dem Geschmack und Gewohnheiten des Autors
(wie dem Vergeben von Ratings) &ndash; diese müssen nicht allgemein gültig sein.</p>
<p>Da das Projekt auch nach Abschluss dieser Arbeit, im Rahmen von <em>Moosecat</em>
weiter entwickelt werden soll, hofft der Autor mit der Zeit mehr Richtung
<em>Klasse</em> zu gehen. Nach einem öffentlichen Release in einschlägigen Foren,
können dann auch erste Resonanzen gesammelt werden &ndash;- vor allem ist es
interessant zu sehen ob <em>libmunin</em> dann tatsächlich für andere Entwickler
einsetzbar ist. Zumindest Interesse scheint vorhanden zu sein: Selbst ohne
Veröffentlichung, haben etwa 50 Entwickler die Projektseite auf <em>GitHub</em>
,,gestarred&quot; (vergleichbar mit einem <em>Like</em> auf anderen Seiten).</p>
</div>
</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">orphan:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<p><strong>Abkürzungsverzeichnis</strong></p>
<div class="figure align-center">
<center><table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="headalign-center align-top">Abkürzung</th>
<th class="headalign-center align-top">Bedeutung</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td class="align-center align-top"><strong>API</strong></td>
<td class="align-center align-top"><em>Application Programming Interface</em></td>
</tr>
<tr class="row-odd"><td class="align-center align-top"><strong>GUI</strong></td>
<td class="align-center align-top"><em>Graphical User Interface</em></td>
</tr>
<tr class="row-even"><td class="align-center align-top"><strong>LoC</strong></td>
<td class="align-center align-top"><em>Lines of Code</em></td>
</tr>
</tbody>
</table>
</center></div><div class="toctree-wrapper compound">
<span id="document-rst/appendix"></span><div class="section" id="coldstart-py">
<span id="coldstart-example"></span><h2><tt class="docutils literal"><span class="pre">coldstart.py</span></tt><a class="headerlink" href="#coldstart-py" title="Permalink to this headline">¶</a></h2>
<p>Führt die in  gezeigten Schritte <em>Kaltstart</em> bis <em>Rebuild</em>
aus. Als Eingabe wird die Datenbank des MPD-Servers verwendet, fehlende
Liedtexte werden ergänzt und die Audiodaten für die <tt class="docutils literal"><span class="pre">moodbar</span></tt> und für die
Beats-per&ndash;Minute&ndash;Analyse wird lokalisiert.</p>
<p>Im Anschluss wird die Session aufgebaut und unter
<tt class="docutils literal"><span class="pre">$HOME/.cache/libmunin/EasySession.gz</span></tt> gespeichert.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c">#!/usr/bin/env python</span>
<span class="c"># encoding: utf-8</span>

<span class="c"># Python Stdlib:</span>
<span class="kn">import</span> <span class="nn">logging</span>

<span class="c"># Moosecat imports:</span>
<span class="kn">import</span> <span class="nn">moosecat.boot</span>
<span class="kn">from</span> <span class="nn">moosecat.boot</span> <span class="kn">import</span> <span class="n">g</span>

<span class="c"># External imports:</span>
<span class="kn">from</span> <span class="nn">munin.easy</span> <span class="kn">import</span> <span class="n">EasySession</span>
<span class="kn">from</span> <span class="nn">munin.provider</span> <span class="kn">import</span> <span class="n">PlyrLyricsProvider</span>

<span class="c"># Fetch missing lyrics, or load them from disk.</span>
<span class="c"># Also cache missed items for speed reasons.</span>
<span class="n">LYRICS_PROVIDER</span> <span class="o">=</span> <span class="n">PlyrLyricsProvider</span><span class="p">(</span><span class="n">cache_failures</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="c"># Construct a munin-song from a mpd-song</span>
<span class="k">def</span> <span class="nf">make_entry</span><span class="p">(</span><span class="n">song</span><span class="p">):</span>
    <span class="c"># Hardcoded, Im sorry:</span>
    <span class="n">full_uri</span> <span class="o">=</span> <span class="s">&#39;/mnt/testdata/&#39;</span> <span class="o">+</span> <span class="n">song</span><span class="o">.</span><span class="n">uri</span>

    <span class="c"># Also return the uri, as unique Identifier.</span>
    <span class="k">return</span> <span class="n">song</span><span class="o">.</span><span class="n">uri</span><span class="p">,</span> <span class="p">{</span>
        <span class="s">&#39;artist&#39;</span><span class="p">:</span> <span class="n">song</span><span class="o">.</span><span class="n">artist</span><span class="p">,</span>
        <span class="s">&#39;album&#39;</span><span class="p">:</span> <span class="n">song</span><span class="o">.</span><span class="n">album</span><span class="p">,</span>
        <span class="s">&#39;title&#39;</span><span class="p">:</span> <span class="n">song</span><span class="o">.</span><span class="n">title</span><span class="p">,</span>
        <span class="s">&#39;genre&#39;</span><span class="p">:</span> <span class="n">song</span><span class="o">.</span><span class="n">genre</span><span class="p">,</span>
        <span class="s">&#39;bpm&#39;</span><span class="p">:</span> <span class="n">full_uri</span><span class="p">,</span>
        <span class="s">&#39;moodbar&#39;</span><span class="p">:</span> <span class="n">full_uri</span><span class="p">,</span>
        <span class="s">&#39;rating&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
        <span class="s">&#39;date&#39;</span><span class="p">:</span> <span class="n">song</span><span class="o">.</span><span class="n">date</span><span class="p">,</span>
        <span class="s">&#39;lyrics&#39;</span><span class="p">:</span> <span class="n">LYRICS_PROVIDER</span><span class="o">.</span><span class="n">do_process</span><span class="p">((</span>
            <span class="n">song</span><span class="o">.</span><span class="n">album_artist</span> <span class="ow">or</span> <span class="n">song</span><span class="o">.</span><span class="n">artist</span><span class="p">,</span> <span class="n">song</span><span class="o">.</span><span class="n">title</span>
        <span class="p">))</span>
    <span class="p">}</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="c"># Bring up moosecat:</span>
    <span class="c"># First connect to the server under 6601,</span>
    <span class="c"># then boot the metadata system, afterwards the database.</span>
    <span class="n">moosecat</span><span class="o">.</span><span class="n">boot</span><span class="o">.</span><span class="n">boot_base</span><span class="p">(</span><span class="n">verbosity</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">)</span>
    <span class="n">g</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">port</span><span class="o">=</span><span class="mi">6601</span><span class="p">)</span>
    <span class="n">moosecat</span><span class="o">.</span><span class="n">boot</span><span class="o">.</span><span class="n">boot_metadata</span><span class="p">()</span>
    <span class="n">moosecat</span><span class="o">.</span><span class="n">boot</span><span class="o">.</span><span class="n">boot_store</span><span class="p">()</span>

    <span class="c"># Fetch the whole database into `entries`:</span>
    <span class="n">entries</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">with</span> <span class="n">g</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">store</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s">&#39;*&#39;</span><span class="p">,</span> <span class="n">queue_only</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span> <span class="k">as</span> <span class="n">playlist</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">song</span> <span class="ow">in</span> <span class="n">playlist</span><span class="p">:</span>
            <span class="n">entries</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">make_entry</span><span class="p">(</span><span class="n">song</span><span class="p">))</span>

    <span class="c"># Instance a new EasySession and fill in the values.</span>
    <span class="n">session</span> <span class="o">=</span> <span class="n">EasySession</span><span class="p">()</span>

    <span class="c"># Remember to call a rebuild afterwards:</span>
    <span class="k">with</span> <span class="n">session</span><span class="o">.</span><span class="n">transaction</span><span class="p">():</span>
        <span class="k">for</span> <span class="n">uri</span><span class="p">,</span> <span class="n">entry</span> <span class="ow">in</span> <span class="n">entries</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="s">&#39;Processing:&#39;</span><span class="p">,</span> <span class="n">entry</span><span class="p">[</span><span class="s">&#39;bpm&#39;</span><span class="p">])</span>

                <span class="c"># Remember the song under the uri</span>
                <span class="n">session</span><span class="o">.</span><span class="n">mapping</span><span class="p">[</span><span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">entry</span><span class="p">)]</span> <span class="o">=</span> <span class="n">uri</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="c"># In case something gets wrong: Prettyprint it.</span>
                <span class="kn">import</span> <span class="nn">traceback</span>
                <span class="n">traceback</span><span class="o">.</span><span class="n">print_exc</span><span class="p">()</span>

    <span class="c"># Save the Session to disk (~/.cache/libmunin/EasySession.gz)</span>
    <span class="n">session</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>

    <span class="c"># Plot, if desired.</span>
    <span class="k">if</span> <span class="s">&#39;--plot&#39;</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">:</span>
        <span class="n">session</span><span class="o">.</span><span class="n">database</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>

    <span class="c"># Close the connection to MPD, save cached database</span>
    <span class="n">moosecat</span><span class="o">.</span><span class="n">boot</span><span class="o">.</span><span class="n">shutdown_application</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="ausfuhrliches-beispiel">
<span id="complex-example"></span><h2>Ausführliches Beispiel<a class="headerlink" href="#ausfuhrliches-beispiel" title="Permalink to this headline">¶</a></h2>
<p>Der Vollständigkeit halber soll hier noch ein ausführliches Beispiel
gezeigt werden, das auch im Vergleich zum einfachen Beispiel folgende Features
zeigt:</p>
<blockquote>
<div><ul class="simple">
<li>Das Erstellen einer eigenen Session (mittels <tt class="docutils literal"><span class="pre">Session</span></tt>).</li>
<li>Das Speichern und Laden derselben (mittels <tt class="docutils literal"><span class="pre">Session.load()</span></tt> /
<tt class="docutils literal"><span class="pre">Session.save()</span></tt>).</li>
<li>Das Füttern der Historie (mittels <tt class="docutils literal"><span class="pre">Session.feed_history()</span></tt>).</li>
<li>Anzeige der abgeleiteten Assoziationsregeln (mittels <tt class="docutils literal"><span class="pre">Session.rule_index</span></tt>).</li>
<li>Mehrere Möglichkeiten zur Empfehlung (wie
<tt class="docutils literal"><span class="pre">Session.recommend_from_heuristic()</span></tt>).</li>
</ul>
</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre><span class="c">#!/usr/bin/env python</span>
<span class="c"># encoding: utf-8</span>
<span class="c"># complex.py</span>

<span class="kn">import</span> <span class="nn">sys</span>

<span class="kn">from</span> <span class="nn">munin.helper</span> <span class="kn">import</span> <span class="n">pairup</span>
<span class="kn">from</span> <span class="nn">munin.session</span> <span class="kn">import</span> <span class="n">Session</span>
<span class="kn">from</span> <span class="nn">munin.distance</span> <span class="kn">import</span> <span class="n">GenreTreeDistance</span><span class="p">,</span> <span class="n">WordlistDistance</span>
<span class="kn">from</span> <span class="nn">munin.provider</span> <span class="kn">import</span> \
        <span class="n">ArtistNormalizeProvider</span><span class="p">,</span> \
        <span class="n">GenreTreeProvider</span><span class="p">,</span> \
        <span class="n">WordlistProvider</span><span class="p">,</span>  \
        <span class="n">StemProvider</span>


<span class="n">MY_DATABASE</span> <span class="o">=</span> <span class="p">[(</span>
        <span class="s">&#39;Devildriver&#39;</span><span class="p">,</span>                <span class="c"># Artist</span>
        <span class="s">&#39;Before the Hangmans Noose&#39;</span><span class="p">,</span>  <span class="c"># Title</span>
        <span class="s">&#39;metal&#39;</span>                       <span class="c"># Genre</span>
    <span class="p">),</span> <span class="p">(</span>
        <span class="s">&#39;Das Niveau&#39;</span><span class="p">,</span>
        <span class="s">&#39;Beim Pissen gemeuchelt&#39;</span><span class="p">,</span>
        <span class="s">&#39;folk&#39;</span>
    <span class="p">),</span> <span class="p">(</span>
        <span class="s">&#39;We Butter the Bread with Butter&#39;</span><span class="p">,</span>
        <span class="s">&#39;Extrem&#39;</span><span class="p">,</span>
        <span class="s">&#39;metal&#39;</span>
    <span class="p">),</span> <span class="p">(</span>
        <span class="s">&#39;Lady Gaga&#39;</span><span class="p">,</span>
        <span class="s">&#39;Pokerface&#39;</span><span class="p">,</span>
        <span class="s">&#39;pop&#39;</span>
<span class="p">)]</span>


<span class="k">def</span> <span class="nf">create_session</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&#39;-- No saved session found, loading new.&#39;</span><span class="p">)</span>
    <span class="n">session</span> <span class="o">=</span> <span class="n">Session</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="s">&#39;demo&#39;</span><span class="p">,</span>
        <span class="n">mask</span><span class="o">=</span><span class="p">{</span>
            <span class="c"># Each entry goes like this:</span>
            <span class="s">&#39;Genre&#39;</span><span class="p">:</span> <span class="n">pairup</span><span class="p">(</span>
                <span class="c"># Pratice: Go lookup what this Providers does.</span>
                <span class="n">GenreTreeProvider</span><span class="p">(),</span>
                <span class="c"># Practice: Same for the DistanceFunction.</span>
                <span class="n">GenreTreeDistance</span><span class="p">(),</span>
                <span class="c"># This has the highest rating of the three attributes:</span>
                <span class="mi">8</span>
            <span class="p">),</span>
            <span class="s">&#39;Title&#39;</span><span class="p">:</span> <span class="n">pairup</span><span class="p">(</span>
                <span class="c"># We can also compose Provider, so that the left one</span>
                <span class="c"># gets the input value, and the right one the value</span>
                <span class="c"># the left one processed.</span>
                <span class="c"># In this case we first split the title in words,</span>
                <span class="c"># then we stem each word.</span>
                <span class="n">WordlistProvider</span><span class="p">()</span> <span class="o">|</span> <span class="n">StemProvider</span><span class="p">(),</span>
                <span class="n">WordlistDistance</span><span class="p">(),</span>
                <span class="mi">1</span>
            <span class="p">),</span>
            <span class="s">&#39;Artist&#39;</span><span class="p">:</span> <span class="n">pairup</span><span class="p">(</span>
                <span class="c"># If no Provider (None) is given the value is forwarded as-is.</span>
                <span class="c"># Here we just use the default provider, but enable</span>
                <span class="c"># compression. Values are saved once and are givean an ID.</span>
                <span class="c"># Duplicate items get the same ID always.</span>
                <span class="c"># You can trade off memory vs. speed with this.</span>
                <span class="n">ArtistNormalizeProvider</span><span class="p">(</span><span class="n">compress</span><span class="o">=</span><span class="bp">True</span><span class="p">),</span>
                <span class="c"># If no DistanceFunctions is given, all values are</span>
                <span class="c"># compared with __eq__ - which might give bad results.</span>
                <span class="bp">None</span><span class="p">,</span>
                <span class="mi">1</span>
            <span class="p">)</span>
        <span class="p">}</span>
    <span class="p">)</span>

    <span class="c"># As in our first example we fill the session, but we dont insert the full</span>
    <span class="c"># database, we leave out the last song:</span>
    <span class="k">with</span> <span class="n">session</span><span class="o">.</span><span class="n">transaction</span><span class="p">():</span>
        <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="p">(</span><span class="n">artist</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">genre</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">MY_DATABASE</span><span class="p">[:</span><span class="mi">3</span><span class="p">]):</span>
            <span class="c"># Notice how we use the uppercase keys like above:</span>
            <span class="n">session</span><span class="o">.</span><span class="n">mapping</span><span class="p">[</span><span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">({</span>
                <span class="s">&#39;Genre&#39;</span><span class="p">:</span> <span class="n">genre</span><span class="p">,</span>
                <span class="s">&#39;Title&#39;</span><span class="p">:</span> <span class="n">title</span><span class="p">,</span>
                <span class="s">&#39;Artist&#39;</span><span class="p">:</span> <span class="n">artist</span><span class="p">,</span>
            <span class="p">})]</span> <span class="o">=</span> <span class="n">idx</span>

    <span class="k">return</span> <span class="n">session</span>


<span class="k">def</span> <span class="nf">print_recommendations</span><span class="p">(</span><span class="n">session</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span>
    <span class="c"># A generator that yields at max 20 songs.</span>
    <span class="n">recom_generator</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">recommend_from_heuristic</span><span class="p">(</span><span class="n">number</span><span class="o">=</span><span class="n">n</span><span class="p">)</span>
    <span class="n">seed_song</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">recom_generator</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&#39;Recommendations to #{}:&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">seed_song</span><span class="o">.</span><span class="n">uid</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">munin_song</span> <span class="ow">in</span> <span class="n">recom_generator</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&#39;  normalized values:&#39;</span><span class="p">)</span>

        <span class="c"># Let&#39;s take</span>
        <span class="k">for</span> <span class="n">attribute</span><span class="p">,</span> <span class="n">normalized_value</span> <span class="ow">in</span> <span class="n">munin_song</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">print</span><span class="p">(</span><span class="s">&#39;    {:&lt;7s}: {:&lt;20s}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">attribute</span><span class="p">,</span> <span class="n">normalized_value</span><span class="p">))</span>

        <span class="n">original_song</span> <span class="o">=</span> <span class="n">MY_DATABASE</span><span class="p">[</span><span class="n">session</span><span class="o">.</span><span class="n">mapping</span><span class="p">[</span><span class="n">munin_song</span><span class="o">.</span><span class="n">uid</span><span class="p">]]</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&#39;  original values:&#39;</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&#39;    Artist :&#39;</span><span class="p">,</span> <span class="n">original_song</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&#39;    Album  :&#39;</span><span class="p">,</span> <span class="n">original_song</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&#39;    Genre  :&#39;</span><span class="p">,</span> <span class="n">original_song</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
        <span class="k">print</span><span class="p">()</span>


<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&#39;The database:&#39;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">song</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">MY_DATABASE</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&#39;  #{} {}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">idx</span><span class="p">,</span> <span class="n">song</span><span class="p">))</span>
    <span class="k">print</span><span class="p">()</span>

    <span class="c"># Perhaps we already had an prior session?</span>
    <span class="n">session</span> <span class="o">=</span> <span class="n">Session</span><span class="o">.</span><span class="n">from_name</span><span class="p">(</span><span class="s">&#39;demo&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">create_session</span><span class="p">(</span><span class="s">&#39;demo&#39;</span><span class="p">)</span>
    <span class="n">rules</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">session</span><span class="o">.</span><span class="n">rule_index</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">rules</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&#39;Association Rules:&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">support</span><span class="p">,</span> <span class="n">rating</span> <span class="ow">in</span> <span class="n">rules</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="s">&#39;  {:&gt;10s} &lt;-&gt; {:&lt;10s} [supp={:&gt;5d}, rating={:.5f}]&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="nb">str</span><span class="p">([</span><span class="n">song</span><span class="o">.</span><span class="n">uid</span> <span class="k">for</span> <span class="n">song</span> <span class="ow">in</span> <span class="n">left</span><span class="p">]),</span>
                <span class="nb">str</span><span class="p">([</span><span class="n">song</span><span class="o">.</span><span class="n">uid</span> <span class="k">for</span> <span class="n">song</span> <span class="ow">in</span> <span class="n">right</span><span class="p">]),</span>
                <span class="n">support</span><span class="p">,</span> <span class="n">rating</span>
            <span class="p">))</span>
        <span class="k">print</span><span class="p">()</span>

    <span class="n">print_recommendations</span><span class="p">(</span><span class="n">session</span><span class="p">)</span>

    <span class="c"># Let&#39;s add some history.</span>
    <span class="c"># Here: First the song 0 (as munin-id) then 2 .. and so on.</span>
    <span class="k">for</span> <span class="n">munin_uid</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]:</span>
        <span class="n">session</span><span class="o">.</span><span class="n">feed_history</span><span class="p">(</span><span class="n">munin_uid</span><span class="p">)</span>

    <span class="k">print</span><span class="p">(</span><span class="s">&#39;Playcounts:&#39;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">song</span><span class="p">,</span> <span class="n">count</span> <span class="ow">in</span> <span class="n">session</span><span class="o">.</span><span class="n">playcounts</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&#39;  #{} was played {}x times&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">song</span><span class="o">.</span><span class="n">uid</span><span class="p">,</span> <span class="n">count</span><span class="p">))</span>

    <span class="c"># Let&#39;s insert a new song that will be in the graph on the next run:</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">session</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">MY_DATABASE</span><span class="p">):</span>
        <span class="k">with</span> <span class="n">session</span><span class="o">.</span><span class="n">fix_graph</span><span class="p">():</span>
            <span class="n">session</span><span class="o">.</span><span class="n">mapping</span><span class="p">[</span><span class="n">session</span><span class="o">.</span><span class="n">insert</span><span class="p">({</span>
                <span class="s">&#39;Genre&#39;</span><span class="p">:</span> <span class="n">MY_DATABASE</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">],</span>
                <span class="s">&#39;Title&#39;</span><span class="p">:</span> <span class="n">MY_DATABASE</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span>
                <span class="s">&#39;Artist&#39;</span><span class="p">:</span> <span class="n">MY_DATABASE</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
            <span class="p">})]</span> <span class="o">=</span> <span class="mi">3</span>

    <span class="k">if</span> <span class="s">&#39;--plot&#39;</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">:</span>
        <span class="n">session</span><span class="o">.</span><span class="n">database</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>

    <span class="c"># Save it under ~/.cache/libmunin/demo</span>
    <span class="n">session</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</pre></div>
</div>
<p><strong>Ausgabe nach dem ersten Lauf:</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">The</span> <span class="n">database</span><span class="p">:</span>
  <span class="c">#0 (&#39;Devildriver&#39;, &#39;Before the Hangmans Noose&#39;, &#39;metal&#39;)</span>
  <span class="c">#1 (&#39;Das Niveau&#39;, &#39;Beim Pissen gemeuchelt&#39;, &#39;folk&#39;)</span>
  <span class="c">#2 (&#39;We Butter the Bread with Butter&#39;, &#39;Extrem&#39;, &#39;metal&#39;)</span>
  <span class="c">#3 (&#39;Lady Gaga&#39;, &#39;Pokerface&#39;, &#39;pop&#39;)</span>
<span class="o">--</span> <span class="n">No</span> <span class="n">saved</span> <span class="n">session</span> <span class="n">found</span><span class="p">,</span> <span class="n">loading</span> <span class="n">new</span><span class="o">.</span>
<span class="n">Recommendations</span> <span class="n">to</span> <span class="c">#0:</span>
  <span class="n">normalized</span> <span class="n">values</span><span class="p">:</span>
    <span class="n">Artist</span> <span class="p">:</span> <span class="p">(</span><span class="mi">3</span><span class="p">,)</span>
    <span class="n">Genre</span>  <span class="p">:</span> <span class="p">((</span><span class="mi">583</span><span class="p">,),)</span>
    <span class="n">Title</span>  <span class="p">:</span> <span class="p">[</span><span class="s">&#39;Extrem&#39;</span><span class="p">]</span>
  <span class="n">original</span> <span class="n">values</span><span class="p">:</span>
    <span class="n">Artist</span> <span class="p">:</span> <span class="s">&quot;We Butter the Bread with Butter&quot;</span>
    <span class="n">Album</span>  <span class="p">:</span> <span class="s">&quot;Extrem&quot;</span>
    <span class="n">Genre</span>  <span class="p">:</span> <span class="s">&quot;metal&quot;</span>

<span class="n">Playcounts</span><span class="p">:</span>
  <span class="c">#0 was played 3x times</span>
  <span class="c">#2 was played 2x times</span>
</pre></div>
</div>
<p><strong>Ausgabe nach dem 5ten Lauf:</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">The</span> <span class="n">database</span><span class="p">:</span>
  <span class="c">#0 (&#39;Devildriver&#39;, &#39;Before the Hangmans Noose&#39;, &#39;metal&#39;)</span>
  <span class="c">#1 (&#39;Das Niveau&#39;, &#39;Beim Pissen gemeuchelt&#39;, &#39;folk&#39;)</span>
  <span class="c">#2 (&#39;We Butter the Bread with Butter&#39;, &#39;Extrem&#39;, &#39;metal&#39;)</span>
  <span class="c">#3 (&#39;Lady Gaga&#39;, &#39;Pokerface&#39;, &#39;pop&#39;)</span>
<span class="n">Recommendations</span> <span class="n">to</span> <span class="c">#2:</span>
  <span class="n">normalized</span> <span class="n">values</span><span class="p">:</span>
    <span class="n">Artist</span> <span class="p">:</span> <span class="p">(</span><span class="mi">1</span><span class="p">,)</span>
    <span class="n">Genre</span>  <span class="p">:</span> <span class="p">((</span><span class="mi">583</span><span class="p">,),)</span>
    <span class="n">Title</span>  <span class="p">:</span> <span class="p">[</span><span class="s">&#39;the&#39;</span><span class="p">,</span> <span class="s">&#39;Befor&#39;</span><span class="p">,</span> <span class="s">&#39;Noos&#39;</span><span class="p">,</span> <span class="s">&#39;Hangman&#39;</span><span class="p">]</span>
  <span class="n">original</span> <span class="n">values</span><span class="p">:</span>
    <span class="n">Artist</span> <span class="p">:</span> <span class="s">&quot;Devildriver&quot;</span>
    <span class="n">Album</span>  <span class="p">:</span> <span class="s">&quot;Before the Hangmans Noose&quot;</span>
    <span class="n">Genre</span>  <span class="p">:</span> <span class="s">&quot;metal&quot;</span>

<span class="n">Playcounts</span><span class="p">:</span>
  <span class="c">#0 was played 15x times</span>
  <span class="c">#2 was played 10x times</span>
</pre></div>
</div>
<p><strong>Ausgabe nach dem 10ten Lauf:</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">The</span> <span class="n">database</span><span class="p">:</span>
  <span class="c">#0 (&#39;Devildriver&#39;, &#39;Before the Hangmans Noose&#39;, &#39;metal&#39;)</span>
  <span class="c">#1 (&#39;Das Niveau&#39;, &#39;Beim Pissen gemeuchelt&#39;, &#39;folk&#39;)</span>
  <span class="c">#2 (&#39;We Butter the Bread with Butter&#39;, &#39;Extrem&#39;, &#39;metal&#39;)</span>
  <span class="c">#3 (&#39;Lady Gaga&#39;, &#39;Pokerface&#39;, &#39;pop&#39;)</span>
<span class="n">Association</span> <span class="n">Rules</span><span class="p">:</span>
         <span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">&lt;-&gt;</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>        <span class="p">[</span><span class="n">supp</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">rating</span><span class="o">=</span><span class="mf">0.83951</span><span class="p">]</span>
<span class="n">Recommendations</span> <span class="n">to</span> <span class="c">#2:</span>
  <span class="n">normalized</span> <span class="n">values</span><span class="p">:</span>
    <span class="n">Artist</span> <span class="p">:</span> <span class="p">(</span><span class="mi">1</span><span class="p">,)</span>
    <span class="n">Genre</span>  <span class="p">:</span> <span class="p">((</span><span class="mi">583</span><span class="p">,),)</span>
    <span class="n">Title</span>  <span class="p">:</span> <span class="p">[</span><span class="s">&#39;the&#39;</span><span class="p">,</span> <span class="s">&#39;Befor&#39;</span><span class="p">,</span> <span class="s">&#39;Noos&#39;</span><span class="p">,</span> <span class="s">&#39;Hangman&#39;</span><span class="p">]</span>
  <span class="n">original</span> <span class="n">values</span><span class="p">:</span>
    <span class="n">Artist</span> <span class="p">:</span> <span class="s">&quot;Devildriver&quot;</span>
    <span class="n">Album</span>  <span class="p">:</span> <span class="s">&quot;Before the Hangmans Noose&quot;</span>
    <span class="n">Genre</span>  <span class="p">:</span> <span class="s">&quot;metal&quot;</span>

<span class="n">Playcounts</span><span class="p">:</span>
  <span class="c">#0 was played 30x times</span>
  <span class="c">#2 was played 20x times</span>
</pre></div>
</div>
</div>
<div class="section" id="bilder-der-demoanwendung">
<span id="demo-pics"></span><h2>Bilder der Demoanwendung<a class="headerlink" href="#bilder-der-demoanwendung" title="Permalink to this headline">¶</a></h2>
<div class="figure align-center">
<a class="reference internal image-reference" href="../../_images/demo_database.png"><img alt="Die Datenbank Ansicht" src="../../_images/demo_database.png" style="width: 100%;" /></a>
<p class="caption">Die Datenbank&ndash;Ansicht &ndash;- Anzeige aller verfügbaren Songs mit folgenden
Tags: Artist, Album, Title, Datum, Genre sowie dem Playcount.</p>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="../../_images/demo_playlist.png"><img alt="Die aktuelle Playlist" src="../../_images/demo_playlist.png" style="width: 100%;" /></a>
<p class="caption">Die aktuelle Playlist, bestehend aus den zuvor erstellten Empfehlungen.
Der Seedsong ist durch einen roten Kreis gekennzeichnet.</p>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="../../_images/demo_rules.png"><img alt="Die Regelansicht" src="../../_images/demo_rules.png" style="width: 100%;" /></a>
<p class="caption">Eine Auflistung der momentan bekannten Regeln. Angezeigt werden: Beide
Mengen der Regel, der Supportcount und das Rating.</p>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="../../_images/demo_graph.png"><img alt="Die Graphenansicht" src="../../_images/demo_graph.png" style="width: 100%;" /></a>
<p class="caption">Der Graph der hinter den Empfehlungen steckt wird hier in 3500x3500px
geplottet. Eine Interaktion ist nicht möglich. Über dem Knoten steht die
ID des Songs, darunter der Liedtitel. Sonst wie .</p>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="../../_images/demo_history.png"><img alt="Die Ansicht der History" src="../../_images/demo_history.png" style="width: 100%;" /></a>
<p class="caption">History&ndash;Ansicht: die zuletzt gehörten (links) und kürzlich empfohlenen
(rechts) Songs werden aufgelistet.</p>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="../../_images/demo_examine.png"><img alt="Die Ansicht der Examine--Page" src="../../_images/demo_examine.png" style="width: 100%;" /></a>
<p class="caption">Die ,,Examine”&ndash;Ansicht &ndash;- Die Attribute des aktuellen Songs werden angezeigt.
Zudem wird die ,,moodbar” &ndash;- falls vorhanden &ndash;- mittels cairo <a class="reference internal" href="rst/index.html#cro" id="id1">[Link-37]</a>
gerendert.</p>
</div>
<span class="target" id="end-of-doc"></span></div>
<span id="document-rst/zzz_bibliography"></span><div class="section" id="bibliographie">
<h2>Bibliographie<a class="headerlink" href="#bibliographie" title="Permalink to this headline">¶</a></h2>
</div>
<p id="bibtex-bibliography-rst/zzz_bibliography-0"><table class="docutils citation" frame="void" id="brill2000improved" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[1]</td><td>Eric Brill and Robert&nbsp;C Moore. An improved error model for noisy channel spelling correction. In <em>Proceedings of the 38th Annual Meeting on Association for Computational Linguistics</em>, 286–293. Association for Computational Linguistics, 2000.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="davidson2010youtube" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[2]</td><td>James Davidson, Benjamin Liebald, Junning Liu, Palash Nandy, Taylor Van&nbsp;Vleet, Ullas Gargi, Sujoy Gupta, Yu&nbsp;He, Mike Lambert, Blake Livingston, and others. The youtube video recommendation system. In <em>Proceedings of the fourth ACM conference on Recommender systems</em>, 293–296. ACM, 2010.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="hayes2001smart" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[3]</td><td>Conor Hayes and Pádraig Cunningham. Smart radio-building music radio on the fly. In <em>Applications and Innovations in Intelligent Systems VIII</em>, pages 129–138. Springer, 2001.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="henning2008mendeley" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[4]</td><td>Victor Henning and Jan Reichelt. Mendeley-a last. fm for research? In <em>eScience, 2008. eScience'08. IEEE Fourth International Conference on</em>, 327–328. IEEE, 2008.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="jacobi2006personalized" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[5]</td><td>J.A. Jacobi, E.A. Benson, and G.D. Linden. Personalized recommendations of items represented within a database. September&nbsp;26 2006. US Patent 7,113,917.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="datamining-concepts-and-techniques" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[6]</td><td>Jian&nbsp;Pei Jiawei&nbsp;Han, Micheline&nbsp;Kamber. Datamining - concepts and techniques, (3rd edition). In <em>Datamining - Concepts and Techniques</em>, 268–271. 2012.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="knees2007music" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[7]</td><td>Peter Knees, Tim Pohle, Markus Schedl, and Gerhard Widmer. A music search engine built upon audio-based and web-based similarity measures. In <em>Proceedings of the 30th annual international ACM SIGIR conference on Research and development in information retrieval</em>, 447–454. ACM, 2007.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="lee2006music" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[8]</td><td>Jae&nbsp;Sik Lee and Jin&nbsp;Chun Lee. Music for my mood: a music recommendation system based on context reasoning. In <em>Smart sensing and context</em>, pages 190–203. Springer, 2006.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="stoer2002introduction" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[9]</td><td>Josef Stoer and Roland Bulirsch. <em>Introduction to numerical analysis</em>. volume 12. Springer, 2002.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="vembu2005self" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[10]</td><td>Shankar Vembu and Stephan Baumann. A self-organizing map based knowledge discovery for music recommendation systems. In <em>Computer music modeling and retrieval</em>, pages 119–129. Springer, 2005.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="wiki2014hugin" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[11]</td><td>Wikipedia. Huginn and muninn — wikipedia, the free encyclopedia. 2014. [Online; accessed 1-February-2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="wood2005techniques" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[12]</td><td>Gavin Wood and Simon O'Keefe. On techniques for content-based visual annotation to aid intra-track music navigation. In <em>ISMIR</em>, 58–65. 2005.</td></tr>
</tbody>
</table>
</p>
<div class="section" id="weblink-verzeichnis">
<h2>Weblink Verzeichnis<a class="headerlink" href="#weblink-verzeichnis" title="Permalink to this headline">¶</a></h2>
</div>
<p id="bibtex-bibliography-rst/zzz_bibliography-1"><table class="docutils citation" frame="void" id="ikc" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-1]</td><td><span><a class="reference external" href="http://www.mufin.com/usecase/music-recommendation/">http://www.mufin.com/usecase/music-recommendation/</a></span>. [Stand: 11.2.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="a3" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-2]</td><td><span><a class="reference external" href="http://musicbrainz.org/">http://musicbrainz.org/</a></span>. [Stand: 11.2.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="mpd" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-3]</td><td><span><a class="reference external" href="http://www.musicpd.org/">http://www.musicpd.org/</a></span>. [Stand: 6.3.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="nt" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-4]</td><td><span><a class="reference external" href="http://www.last.fm">http://www.last.fm</a></span>. [Stand: 11.2.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="edu" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-5]</td><td><span><a class="reference external" href="http://blogs.cornell.edu/info2040/2012/09/20/last-fm-music-reccomendation-incorporating-social-network-ties-and-collaborative-filtering/">http://blogs.cornell.edu/info2040/2012/09/20/last-fm-music-reccomendation-incorporating-social-network-ties-and-collaborative-filtering/</a></span>. [Stand: 5.3.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="wnn" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-6]</td><td><span><a class="reference external" href="http://www.youtube.de">http://www.youtube.de</a></span>. [Stand: 11.2.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="mys" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-7]</td><td><span><a class="reference external" href="https://myspace.com/">https://myspace.com/</a></span>. [Stand: 2.3.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="xxx" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-8]</td><td><span><a class="reference external" href="http://amazon.de">http://amazon.de</a></span>. [Stand: 11.2.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="zmf" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-9]</td><td><span><a class="reference external" href="http://musicovery.com/">http://musicovery.com/</a></span>. [Stand: 11.2.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="ahx" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-10]</td><td><span><a class="reference external" href="http://hop.at/mirage/">http://hop.at/mirage/</a></span>. [Stand: 11.2.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="mno" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-11]</td><td><span><a class="reference external" href="http://www.mono-project.com/Main_Page">http://www.mono-project.com/Main_Page</a></span>. [Stand: 2.3.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="uzb" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-12]</td><td><span><a class="reference external" href="http://www.mufin.com/products/audiogen/">http://www.mufin.com/products/audiogen/</a></span>. [Stand: 11.2.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="gpl" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-13]</td><td><span><a class="reference external" href="http://www.gnu.org/licenses/gpl-3.0.html">http://www.gnu.org/licenses/gpl-3.0.html</a></span>. [Stand: 5.3.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="jv6" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-14]</td><td><span><a class="reference external" href="https://www.archlinux.org/">https://www.archlinux.org/</a></span>. [Stand: 11.2.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="jh7" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-15]</td><td><span><a class="reference external" href="https://github.com/studentkittens/moosecat">https://github.com/studentkittens/moosecat</a></span>. [Stand: 11.2.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="xu" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-16]</td><td><span><a class="reference external" href="https://github.com/sahib/glyr">https://github.com/sahib/glyr</a></span>. [Stand: 11.2.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="w5" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-17]</td><td><span><a class="reference external" href="http://www.mopidy.com/">http://www.mopidy.com/</a></span>. [Stand: 11.2.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="xvg" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-18]</td><td><span><a class="reference external" href="https://github.com/mopidy/mopidy/issues/620">https://github.com/mopidy/mopidy/issues/620</a></span>. [Stand: 11.2.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="t" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-19]</td><td><span><a class="reference external" href="http://www.jamendo.com/">http://www.jamendo.com/</a></span>. [Stand: 11.2.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="igr" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-20]</td><td><span><a class="reference external" href="http://igraph.sourceforge.net/">http://igraph.sourceforge.net/</a></span>. [Stand: 19.2.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="xdg" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-21]</td><td><span><a class="reference external" href="http://standards.freedesktop.org/basedir-spec/basedir-spec-latest.html">http://standards.freedesktop.org/basedir-spec/basedir-spec-latest.html</a></span>. [Stand: 3.3.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="lx" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-22]</td><td><span><a class="reference external" href="https://libmunin.rtfd.org">https://libmunin.rtfd.org</a></span>. [Stand: 11.2.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="thv" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-23]</td><td><span><a class="reference external" href="http://libmunin.readthedocs.org/en/latest/logbuch.html">http://libmunin.readthedocs.org/en/latest/logbuch.html</a></span>. [Stand: 11.2.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="yts" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-24]</td><td><span><a class="reference external" href="http://www.youtube.com/watch?v=b5QuOoYuM3c">http://www.youtube.com/watch?v=b5QuOoYuM3c</a></span>. [Stand: 4.3.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="yz" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-25]</td><td><span><a class="reference external" href="http://www.pogo.org.uk/~mark/bpm-tools/">http://www.pogo.org.uk/&nbsp;mark/bpm-tools/</a></span>. [Stand: 19.2.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="prt" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-26]</td><td><span><a class="reference external" href="http://tartarus.org/~martin/PorterStemmer/">http://tartarus.org/&nbsp;martin/PorterStemmer/</a></span>. [Stand: 6.3.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="y41" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-27]</td><td><span><a class="reference external" href="https://github.com/sahib/libmunin">https://github.com/sahib/libmunin</a></span>. [Stand: 11.2.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="jiu" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-28]</td><td><span><a class="reference external" href="https://travis-ci.org/sahib/libmunin">https://travis-ci.org/sahib/libmunin</a></span>. [Stand: 11.2.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="o6q" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-29]</td><td><span><a class="reference external" href="https://pypi.python.org/pypi/libmunin/">https://pypi.python.org/pypi/libmunin/</a></span>. [Stand: 11.2.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="md" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-30]</td><td><span><a class="reference external" href="http://sahib.github.io/libmunin-thesis/gitstats/index.html">http://sahib.github.io/libmunin-thesis/gitstats/index.html</a></span>. [Stand: 11.2.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="ibl" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-31]</td><td><span><a class="reference external" href="https://github.com/sahib/libmunin/graphs">https://github.com/sahib/libmunin/graphs</a></span>. [Stand: 11.2.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="mc" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-32]</td><td><span><a class="reference external" href="https://vimeo.com/86633649">https://vimeo.com/86633649</a></span>. [Stand: 13.2.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="xaj" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-33]</td><td><span><a class="reference external" href="http://beets.radbox.org/">http://beets.radbox.org/</a></span>. [Stand: 11.2.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="hgn" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-34]</td><td><span><a class="reference external" href="https://github.com/qitta/libhugin">https://github.com/qitta/libhugin</a></span>. [Stand: 4.3.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="fn" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-35]</td><td><span><a class="reference external" href="https://github.com/piem/aubio">https://github.com/piem/aubio</a></span>. [Stand: 11.2.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="hj7" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-36]</td><td><span><a class="reference external" href="https://github.com/marsyas/marsyas">https://github.com/marsyas/marsyas</a></span>. [Stand: 11.2.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="cro" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link-37]</td><td><span><a class="reference external" href="http://cairographics.org/">http://cairographics.org/</a></span>. [Stand: 4.3.2014].</td></tr>
</tbody>
</table>
</p>
</div>
<div class="section" id="lizenz">
<h2>Lizenz<a class="headerlink" href="#lizenz" title="Permalink to this headline">¶</a></h2>
<p>Diese Arbeit ist unter den Bedingungen der <em>Creative Commons Attribution-3.0</em>
lizensiert:</p>
<blockquote>
<div><a class="reference external" href="http://creativecommons.org/licenses/by/3.0/de/">http://creativecommons.org/licenses/by/3.0/de/</a></div></blockquote>
<a class="reference internal image-reference" href="../../_images/cclogo.svg"><div align="center" class="align-center"><img alt="Creative Commons License" src="../../_images/cclogo.svg" width="50%" /></div>
</a>
</div>
</div>


          <footer>
  

  <hr/>

  <p>
      &copy; Copyright by Christopher Pahl, 2013-2014..
  </p>

  <a href="https://www.github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="http://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  

</body>
</html>