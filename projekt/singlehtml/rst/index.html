

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Projektarbeit</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="None" href="../index.html"/>

<!-- Include all CSS and JS files, let's you use your own theme. -->

<link rel="stylesheet" type="text/css" href="../_static/custom.css" />
<script type="text/javascript">
	function endsWith(str, suffix) {
	    return str.indexOf(suffix, str.length - suffix.length) !== -1;
	}

    $(document).ready(function() {
    	var im, imsrc;
    	$('img').each(function() {
    		im = $(this);
    		imsrc = im.attr('src');
    		imalt = im.attr('alt');
    		if (endsWith(imsrc, 'svg')) {
    			im.wrap($('<a>').attr({'href': imsrc, 'title': imalt}).addClass('svglink'));
    		}
    	});

    	$('a.svglink').colorbox({
    		'width': '95%',
    		'height': '95%',
    		'photo': true});
    });
</script>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="index.html#document-rst/index" class="fa fa-home"> Projektarbeit</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul>
<li class="toctree-l1"><a class="reference internal" href="rst/index.html#document-rst/abstract">Abstract</a></li>
<li class="toctree-l1"><a class="reference internal" href="rst/index.html#document-rst/acknowledgements">Danksagung</a></li>
<li class="toctree-l1"><a class="reference internal" href="rst/index.html#document-rst/dedication">Widmung</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="rst/index.html#document-rst/I/index">1 Einleitung</a><ul>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/I/index#motivation">1.1 Motivation</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/I/index#projektziel">1.2 Projektziel</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/I/index#projektlizenz">1.3 Projektlizenz</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/I/index#namensgebung">1.4 Namensgebung</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="rst/index.html#document-rst/II/index">2 Begriffsdefinitionen</a><ul>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/II/index#fachbegriffe">2.1 Fachbegriffe</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/II/index#kontextspezifische-fachbegriffe">2.2 Kontextspezifische Fachbegriffe</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="rst/index.html#document-rst/III/index">3 Stand der Metadatenpflege</a><ul>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/III/index#metadatenarten-und-quellen">3.1 Metadatenarten und Quellen</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/III/index#software-und-metadatenformate">3.2 Software und Metadatenformate</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/III/index#probleme-bei-der-metadatenpflege">3.3 Probleme bei der Metadatenpflege</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/III/index#probleme-bei-der-metadatensuche">3.4 Probleme bei der Metadatensuche</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/III/index#anforderungen-an-das-projekt">3.5 Anforderungen an das Projekt</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="rst/index.html#document-rst/IV/index">4 Softwarespezifikation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/IV/index#anforderungen-an-die-bibliothek">4.1 Anforderungen an die Bibliothek</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="rst/index.html#document-rst/V/index">5 Entwurf</a><ul>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/V/index#grunduberlegungen">5.1 Grundüberlegungen</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/V/index#libhugin-architektur-uberblick">5.2 Libhugin Architektur&ndash;Überblick</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/V/index#bibliothek-dateistruktur">5.3 Bibliothek Dateistruktur</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="rst/index.html#document-rst/VI/index">6 Implementierung</a><ul>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/VI/index#libhugin-harvest-api">6.1 Libhugin&ndash;harvest API</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/VI/index#libhugin-harvest-plugins">6.2 Libhugin&ndash;harvest Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/VI/index#libhugin-analyze-api">6.3 Libhugin&ndash;analyze API</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/VI/index#libhugin-analyze-plugins">6.4 Libhugin&ndash;analyze Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/VI/index#verschiedenes">6.5 Verschiedenes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="rst/index.html#document-rst/VII/index">7 Demoanwendungen</a><ul>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/VII/index#libhugin-harvest-cli-tool-geri">7.1 Libhugin&ndash;harvest CLI&ndash;Tool Geri</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/VII/index#libhugin-analyze-cli-tool-freki">7.2 Libhugin&ndash;analyze CLI&ndash;Tool Freki</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/VII/index#xbmc-plugin-integration">7.3 XBMC Plugin Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/VII/index#weitere-einsatzmoglichkeiten">7.4 Weitere Einsatzmöglichkeiten</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="rst/index.html#document-rst/VIII/index">8 Zusammenfassung</a><ul>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/VIII/index#aktueller-stand">8.1 Aktueller Stand</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/VIII/index#erfullung-der-gesetzten-anforderungen">8.2 Erfüllung der gesetzten Anforderungen</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/VIII/index#defizite-und-verbesserungen">8.3 Defizite und Verbesserungen</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/VIII/index#denkbare-weiterentwicklungen">8.4 Denkbare Weiterentwicklungen</a></li>
<li class="toctree-l2"><a class="reference internal" href="rst/index.html#document-rst/VIII/index#abschlieszendes-fazit">8.5 Abschließendes Fazit</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="rst/index.html#document-rst/appendix">Helferfunktion für NFO&ndash;Dateien</a></li>
<li class="toctree-l1"><a class="reference internal" href="rst/index.html#document-rst/appendix#xbmc-scraper-plugin">XBMC&ndash;Scraper&ndash;Plugin</a></li>
<li class="toctree-l1"><a class="reference internal" href="rst/index.html#document-rst/appendix#libhugin-xbmc-proxy">Libhugin XBMC Proxy</a></li>
<li class="toctree-l1"><a class="reference internal" href="rst/index.html#document-rst/appendix#projektstatistik-cloc">Projektstatistik (<em>cloc</em>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="rst/index.html#document-rst/zzz_bibliography">Bibliographie</a></li>
<li class="toctree-l1"><a class="reference internal" href="rst/index.html#document-rst/zzz_bibliography#weblink-verzeichnis">Weblink Verzeichnis</a></li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html#document-rst/index">Projektarbeit</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html#document-rst/index">Docs</a> &raquo;</li>
      
    <li>Projektarbeit</li>
      <li class="wy-breadcrumbs-aside">
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="libmunin-br-projektarbeit">
<span id="doc-title"></span><h1>libmunin: <br /> Projektarbeit<a class="headerlink" href="#libmunin-br-projektarbeit" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
<span id="document-rst/abstract"></span><div class="section" id="abstract">
<h2>Abstract<a class="headerlink" href="#abstract" title="Permalink to this headline">¶</a></h2>
</div>
<p>This paper demonstrates a way to build a modular movie metadata retrieval and
analysis library. The main purpose of this library is to retrieve and postprocess
movie metadata by user needs, making the user less dependent to a specific
metadata source or metadata tool. In order to demonstrate and test the library,
two command line tools are implemented. By using those command line tools a user
may test plugins, but also use the library for scripting tasks. There is also a
RESTful webservice, for usage in conjunction with XBMC, implemented.</p>
<span id="document-rst/acknowledgements"></span><div class="section" id="danksagung">
<h2>Danksagung<a class="headerlink" href="#danksagung" title="Permalink to this headline">¶</a></h2>
</div>
<p>Mein Dank gilt folgenden Personen: Herrn Prof. Dr. Günther Köhler
(Projektbetreuung), Herrn Prof. Dr. Jörg Scheidt (Bereitstellung eines Raumes
für den Projektzeitraum), Teegeschwendner, Cricetulus, Micrathene Whitneyi,
Columbidae und natürlich auch &ndash;- Alces alces.</p>
<span id="document-rst/dedication"></span><div class="section" id="widmung">
<h2>Widmung<a class="headerlink" href="#widmung" title="Permalink to this headline">¶</a></h2>
</div>
<p><em>Für meine Katzen.</em></p>
</div>
<div class="toctree-wrapper compound">
<span id="document-rst/abbrevs"></span><p><strong>Abkürzungsverzeichnis:</strong></p>
<div class="figure align-center">
<center><table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="headalign-center align-top">Abkürzung</th>
<th class="headalign-center align-top">Bedeutung</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td class="align-center align-top">API</td>
<td class="align-center align-top"><em>Application Programming Interface</em></td>
</tr>
<tr class="row-odd"><td class="align-center align-top">CLI</td>
<td class="align-center align-top"><em>Command Line Interface</em></td>
</tr>
<tr class="row-even"><td class="align-center align-top">HDTV</td>
<td class="align-center align-top"><em>High Definition Television</em></td>
</tr>
<tr class="row-odd"><td class="align-center align-top">LoC</td>
<td class="align-center align-top"><em>Lines of Code</em></td>
</tr>
<tr class="row-even"><td class="align-center align-top">XML</td>
<td class="align-center align-top"><em>Extensible Markup Language</em></td>
</tr>
<tr class="row-odd"><td class="align-center align-top">URL</td>
<td class="align-center align-top"><em>Uniform Resource Locator</em></td>
</tr>
<tr class="row-even"><td class="align-center align-top">ID</td>
<td class="align-center align-top"><em>Identifier</em></td>
</tr>
</tbody>
</table>
</center></div><span id="document-rst/I/index"></span><div class="section" id="einleitung">
<h2>1 Einleitung<a class="headerlink" href="#einleitung" title="Permalink to this headline">¶</a></h2>
<div class="section" id="motivation">
<h3>1.1 Motivation<a class="headerlink" href="#motivation" title="Permalink to this headline">¶</a></h3>
<p>Die Digitalisierung der modernen Konsumgesellschaft schreitet immer weiter
voran. Vor ein paar Jahren war es noch üblich, die eigene Filmsammlung im
Regal aufzubewahren. Heute wird sie häufig nur noch digital auf dem
<a class="reference internal" href="rst/index.html#term-home-theatre-pc"><em class="xref std std-term">Home&ndash;Theatre&ndash;PC</em></a>, <a class="reference internal" href="rst/index.html#term-smart-tv"><em class="xref std std-term">Smart&ndash;TV</em></a>, PC oder anderen Endgeräten digital
aufgezeichnet und verwaltet. Das Aufkommen der digitalen HDTV&ndash;Sender und das
große Angebot an Pay&ndash;TV&ndash;Sendern hat den Trend der letzten Jahre nochmal
verstärkt. Hat man einen Spielfilm verpasst, so kann dieser bequem über
einen der vielen Online&ndash;Videorecorder&ndash;Dienste nachträglich bezogen werden. Es
geht sogar soweit, dass USB&ndash;Sticks (siehe <a class="reference internal" href="rst/index.html#usbstickmovie" id="id1">[Link&ndash;1]</a>) mit
Hollywood&ndash;Spielfilmen beworben und verkauft werden.</p>
<p>Zeichnet man viele Filme auf oder digitalisiert seine Filmsammlung, so muss man
sich mit der Pflege der inhaltsbezogenen <a class="reference internal" href="rst/index.html#term-metadaten"><em class="xref std std-term">Metadaten</em></a> auseinandersetzen.
Das sind Metadaten, wie sie auf jeder DVD&ndash;Hülle enthalten sind. Vor ein paar
Jahren waren diese noch auf den DVD&ndash;Hüllen im Regal zu finden, heutzutage
müssen sie nach dem Digitalisieren erst noch vom Benutzer nachträglich
eingepflegt werden.  Typische Metadaten bei Filmen sind Titel, Jahr,
Inhaltsbeschreibung, Cover und Genre.  Diese Metadaten sind bei Filmen im
Unterschied zu Musik essentiell, da hierüber die Entscheidung getroffen wird,
ob ein Film geschaut wird oder nicht.</p>
<p>Die Metadaten werden in der Regel über Onlinequellen, wie beispielsweise die
Internet&ndash;Movie&ndash;Database (IMDb, siehe <a class="reference internal" href="rst/index.html#imdb" id="id2">[Link&ndash;2]</a>) bezogen. Die Anzahl der
möglichen Onlinedienste, die Metadaten bereitstellen, ist sehr groß.  Viele
Abspielanwendungen wie das Windows&ndash;Media&ndash;Center oder das XBMC&ndash;Media&ndash;Center
(XBMC, siehe <a class="reference internal" href="rst/index.html#xbmc" id="id3">[Link&ndash;3]</a>) können ihre Metadaten automatisch aus dem Internet
beziehen. Je nach Anwendung kann es hier im Hintergrund eine oder mehrere
Bezugsquellen für Metadaten geben.</p>
<p>Ein Problem bei der Pflege der Metadaten im Filmbereich ist, dass es hier
keinen Standard gibt, der sich durchgesetzt hat. Es gibt einerseits die
Möglichkeit, bestimmte Metadaten in bestimmte Container&ndash;Formate (siehe
Streaminfos in Tabelle <a class="reference internal" href="rst/index.html#containerformate" id="id4">[Link&ndash;4]</a>) zu integrieren, andererseits
werden diese in separaten Dateien oder Datenbanken der jeweiligen
Abspiel-/Verwaltungssoftware gepflegt. Ein weiteres Problem ist die große
Anzahl verschiedener Onlinequellen, von denen die Metadaten bezogen werden. Hier
werden von Anwendung zu Anwendung unterschiedliche Quellen verwendet, die je
nach Filmsammlung gut oder weniger gut geeignet sind. Die Onlinequellen
unterscheiden sich stark in Qualität, Umfang und Art der angebotenen
Metadaten. Zusätzlich kommt noch das Problem hinzu, dass die Metadaten je nach
Quelle nur in einer bestimmten Sprache vorhanden sind.</p>
<p>Daraus resultierend sind über die Jahre sogenannte Movie&ndash;Metadaten&ndash;Manager
entstanden, die den Benutzer bei der Pflege der Filmsammlung unterstützen
sollen. Auch hier gibt es nicht das Tool der Wahl. Es gibt verschiedene
Tools, die nur bestimmte Metadaten&ndash;Exportformate unterstützen, nur bestimmte
Onlinequellen ansprechen können oder auch nur unter bestimmten Betriebssystemen
verfügbar sind. Die unter Linux vorhandenen und getesteten
Movie&ndash;Metadaten&ndash;Manager funktionieren bis auf wenige Ausnahmen unbefriedigend
oder gar nicht. Die Hauptmotivation dieser Arbeit ist, diese Situation zu
verbessern.</p>
</div>
<div class="section" id="projektziel">
<h3>1.2 Projektziel<a class="headerlink" href="#projektziel" title="Permalink to this headline">¶</a></h3>
<p>Das Ziel dieser Arbeit ist es, eine andere Herangehensweise im Vergleich zu den
aktuell verfügbaren Tools zu zeigen und ein modulares pluginbasiertes System zu
entwerfen, das die verschiedenen Metadaten&ndash;Exportformate und
Metadaten&ndash;Bezugsquellen zusammenführt und über eine <em>einheitliche
Schnittstelle</em> anbietet. Neben der Funktionalität der Metadatenbeschaffung soll
es die Möglichkeit der Metadatenaufbereitung geben.  Hierzu gehören
beispielsweise das Säubern der Metadaten von unerwünschten Sonderzeichen, aber
auch die automatische Extraktion von Schlüsselwörtern aus der
Inhaltsbeschreibung mittels Data&ndash;Mining&ndash;Algorithmen.</p>
<p>Die aktuellen Tools zur Metadatenverwaltung verfolgen einen eher <em>monolithischen</em>
Ansatz. Im Gegensatz dazu soll das zu entwickelnde System nach dem
Baukastenprinzip erweiterbar sein und durch neue Plugins an
verschiedene Anforderungen des Benutzers anpassbar sein.</p>
<p>Im Unterschied zu den bereits vorhandenen Tools, die hauptsächlich durch
manuelle Interaktion des Benutzers gesteuert werden, soll das System auf eine
automatisierte Verarbeitung ausgelegt sein. Hier liegt das Hauptaugenmerk auf
der Pflege großer Filmsammlungen mit mehreren hundert Filmen.</p>
<p>Der modulare Aufbau und eine freie Lizenz sollen eine Weiterentwicklung durch
die Community ermöglichen und zusätzlichen Spielraum für neue Ideen schaffen.</p>
</div>
<div class="section" id="projektlizenz">
<h3>1.3 Projektlizenz<a class="headerlink" href="#projektlizenz" title="Permalink to this headline">¶</a></h3>
<p>Da eine community&ndash;basierte Weiterentwicklung angestrebt wird und somit auch
Verbesserungen in das Projekt zurückfließen sollen, wird das System unter
der GPLv3&ndash;Lizenz (siehe <a class="reference internal" href="rst/index.html#gpl" id="id5">[Link&ndash;5]</a>) entwickelt. Alle erstellten Grafiken sind
unter Creative&ndash;Commons&ndash;Licence (siehe <a class="reference internal" href="rst/index.html#cc" id="id6">[Link&ndash;6]</a>) gestellt.</p>
</div>
<div class="section" id="namensgebung">
<h3>1.4 Namensgebung<a class="headerlink" href="#namensgebung" title="Permalink to this headline">¶</a></h3>
<p>Um dem Projekt ein ,,Gesicht&quot; zu geben und den Wiedererkennungwert zu steigern,
wird das Projekt auf den Namen <em>libhugin</em> ,,getauft&quot; und ein Logo entwickelt
(siehe Abbildung ), welches einen Raben in Pixelgrafik und
ein Stück Filmrolle zeigt. Der <em>lib</em>&ndash;Präfix wurde angehängt da es sich bei dem
System um eine Bibliothek (engl. Library) handelt.</p>
<p>Der Name Hugin kommt aus der nordischen Mythologie:</p>
<blockquote class="epigraph">
<div><p><em>Hugin gehört zum altnordischen Verb huga „denken“, das hierzu zu stellende</em>
<em>Substantiv hugi „Gedanke, Sinn“ ist seinerseits die Grundlage für den Namen</em>
<em>Hugin, der mit dem altnordischen Schlussartikel –in gebildet wurde. Hugin</em>
<em>bedeutet folglich „der Gedanke“.</em></p>
<p class="attribution">&mdash;<a class="reference external" href="http://de.wikipedia.org/wiki/Hugin_und_Munin">http://de.wikipedia.org/wiki/Hugin_und_Munin</a> <a class="reference internal" href="rst/index.html#huginmunin" id="id7">[Link&ndash;7]</a></p>
</div></blockquote>
<div class="figure align-center" id="fig-huginlogo">
<a class="reference internal image-reference" href="../../_images/hugin.png"><img alt="Libhugin Logo, das einen Pixelraben und ein Stück Filmrolle zeigt" src="../../_images/hugin.png" style="width: 30%;" /></a>
<p class="caption">Libhugin Logo, das einen Pixelraben und ein Stück Filmrolle zeigt.</p>
</div>
<p>Die beiden CLI&ndash;Tools, Geri und Freki, wurden nach den beiden Wölfen die Odin
begleiten benannt (siehe <a class="reference internal" href="rst/index.html#gerifreki" id="id8">[Link&ndash;8]</a>).</p>
</div>
</div>
<span id="document-rst/II/index"></span><div class="section" id="begriffsdefinitionen">
<h2>2 Begriffsdefinitionen<a class="headerlink" href="#begriffsdefinitionen" title="Permalink to this headline">¶</a></h2>
<p>Im Folgenden werden Fachbegriffe und Begriffe, die im Kontext von <em>libhugin</em>
anders als im normalen Sprachgebrauch besetzt sind, definiert:</p>
<div class="section" id="fachbegriffe">
<h3>2.1 Fachbegriffe<a class="headerlink" href="#fachbegriffe" title="Permalink to this headline">¶</a></h3>
<dl class="glossary docutils">
<dt id="term-metadaten">Metadaten</dt>
<dd>Metadaten sind beschreibende Daten, die Informationen über andere Objekte
enthalten.</dd>
<dt id="term-home-theatre-pc">Home&ndash;Theatre&ndash;PC</dt>
<dd>Ein auf PC&ndash;Komponenten basierendes Gerät zur Wiedergabe multimedialer
Inhalte. Dieser wird oft mit sogenannter Media&ndash;Center&ndash;Software wie dem
XBMC betrieben.</dd>
<dt id="term-smart-tv">Smart&ndash;TV</dt>
<dd>Bezeichnung für einen Fernseher, der eine Computerfunktion integriert hat
und internetfähig ist.</dd>
<dt id="term-xml">XML</dt>
<dd>Extensible Markup Language, eine Auszeichnungssprache zur baumartig
strukturierten Darstellung von Daten in Form von Textdateien.</dd>
<dt id="term-json">JSON</dt>
<dd>JavaScript&ndash;Object&ndash;Notation, eine Auszeichnungssprache ähnlich wie <em>XML</em>
mit dem Ziel, von Mensch und Maschine einfacher lesbar zu sein als <em>XML</em>.</dd>
<dt id="term-hashtabelle">Hashtabelle</dt>
<dd>Eine spezielle Datenstruktur, bei welcher Daten jeweils einem eindeutigen
Index zugeordnet sind. Der Zugriff auf die Daten erfolgt mit konstantem
Aufwand.</dd>
<dt id="term-scraper">Scraper</dt>
<dd>Scraper werden Anwendungen genannt, die in der Lage sind Informationen aus
Webseiten zu extrahieren. Ein Scraper gibt sich einer Webseite gegenüber
als ein normaler Webbrowser aus. So wird eine maschinelle Verarbeitung der
Informationen auf dieser Webseite möglich.</dd>
<dt id="term-restful">RESTful</dt>
<dd>Eine Form einer Web&ndash;API, bei der mithilfe von Standard HTTP&ndash;Verben
und speziellen, menschenlesbaren URLs bestimmte Aktionen getriggert werden
können. So kann man sich beispielsweise mit einer GET&ndash;Operation
Informationen von einem Service beschaffen.</dd>
</dl>
</div>
<div class="section" id="kontextspezifische-fachbegriffe">
<h3>2.2 Kontextspezifische Fachbegriffe<a class="headerlink" href="#kontextspezifische-fachbegriffe" title="Permalink to this headline">¶</a></h3>
<dl class="glossary docutils">
<dt id="term-plugin">Plugin</dt>
<dd>Im Kontext von <em>libhugin</em> sind Plugins kleine Module, welche zur Laufzeit
austauschbar sind. Diese können von Dritten geschrieben werden, um das
System an die eigenen Bedürfnisse anzupassen.</dd>
<dt id="term-provider">Provider</dt>
<dd>Im Kontext von <em>libhugin</em> ist ein Provider eine Art ,,Vermittler&quot; zwischen
der entwickelten Bibliothek und einem Online&ndash;Webservice der Metadaten
anbietet. Der Provider ist Bestandteil der Bibliothek und wird als Plugin
in dieser implementiert.</dd>
<dt id="term-postprocessor">Postprocessor</dt>
<dd>Im Kontext von <em>libhugin</em> ist ein Postprocessor ein Plugin, welches für
die direkte Nachbearbeitung der heruntergeladenen Metadaten verwendet wird.</dd>
<dt id="term-converter">Converter</dt>
<dd>Im Kontext von <em>libhugin</em> ist ein Converter ein Plugin, das für das
Konvertieren eines Ergebnisses in ein bestimmtes Metadatenformat wie
beispielsweise das XBMC nfo&ndash;Format zuständig ist.</dd>
<dt id="term-modifier">Modifier</dt>
<dd>Im Kontext von <em>libhugin</em> ist ein Modifier ein Plugin, welches für die
nachträgliche Bearbeitung von Filmmetadaten verwendet wird. Das kann
beispielsweise das Ändern der Sprache der Inhaltsbeschreibung sein.</dd>
<dt id="term-analyzer">Analyzer</dt>
<dd>Im Kontext von <em>libhugin</em> ist ein Analyzer ein Plugin, welches für die
nachträgliche Analyse von Filmmetadaten verwendet wird. Dies kann
beispielsweise die Erkennung der Sprache der Inhaltsbeschreibung sein.</dd>
<dt id="term-comparator">Comparator</dt>
<dd>Im Kontext von <em>libhugin</em> ist ein Comparator ein Plugin, welches für
Vergleiche zuständig ist. Mit Hilfe dieser Pluginart soll im späteren
Verlauf untersucht werden, wie gut sich Filme anhand von Metadaten
vergleichen lassen und ob sich beispielsweise Film&ndash;Empfehlungen aufgrund
der gewonnenen Daten aussprechen lassen. Diese Pluginart ist experimentell
und nur konzeptionell in <em>libhugin</em> integriert.</dd>
</dl>
</div>
</div>
<span id="document-rst/III/index"></span><div class="section" id="stand-der-metadatenpflege">
<h2>3 Stand der Metadatenpflege<a class="headerlink" href="#stand-der-metadatenpflege" title="Permalink to this headline">¶</a></h2>
<p>Die vorgestellten Plattformen, Player und Tools zeigen nur einen Ausschnitt.
Alle Plattformen, Player und Tools aufzulisten ist aufgrund der Vielfalt
beziehungsweise Komplexität nicht möglich.</p>
<div class="section" id="metadatenarten-und-quellen">
<h3>3.1 Metadatenarten und Quellen<a class="headerlink" href="#metadatenarten-und-quellen" title="Permalink to this headline">¶</a></h3>
<div class="section" id="metadatenarten">
<h4>3.1.1 Metadatenarten<a class="headerlink" href="#metadatenarten" title="Permalink to this headline">¶</a></h4>
<p>Grundsätzlich lassen sich Film&ndash;Metadaten in zwei Kategorien
einordnen. Metadaten, die das Videoformat (Auflösung, Bitrate, ...) beschreiben,
und Metadaten, die den Inhalt beschreiben. Metadaten zur Beschreibung des
Videoformats können je nach Container&ndash;Format direkt in die Datei eingebettet
werden (siehe <a class="reference internal" href="rst/index.html#metadatenarten" id="id1">[Link&ndash;9]</a>).</p>
<p>Inhaltsbezogene Metadaten sind Daten, die bei der Digitalisierung nachträglich
gepflegt werden müssen. Typischerweise sind das Attribute wie Titel,
Erscheinungsjahr, Genre, Inhaltsbeschreibung, Cover und noch einige weitere.</p>
</div>
<div class="section" id="metadatenquellen">
<h4>3.1.2 Metadatenquellen<a class="headerlink" href="#metadatenquellen" title="Permalink to this headline">¶</a></h4>
<p>Zum Bezug der Metadaten werden verschiedene Onlinequellen genutzt. Im Prinzip
eignet sich jede Seite, die Filminformationen pflegt, als Metadatenquelle. Zu
den gängigen Metadatenquellen &ndash;- neben zahlreichen anderen Quellen &ndash;- zählen:</p>
<blockquote>
<div><ul class="simple">
<li><em>Internet Movie Database (IMDb)</em>, englischsprachig</li>
<li><em>The Movie Database (TMDb)</em>, multilingual, community&ndash;gepflegt</li>
<li><em>Online Filmdatenbank (OFDb)</em>, deutschsprachig, community&ndash;gepflegt</li>
</ul>
</div></blockquote>
<p><strong>IMDb</strong> ist mehr oder weniger der ,,Platzhirsch&quot; unter den Metadatenquellen.
Für viele ist Sie die Standardbezugsplattform. Über die bei der IMDb für
jeden Film gepflegte <em>IMDb&ndash;ID</em> kann ein Film genau identifiziert werden. Da
diese ID eindeutig ist, wird sie oft auch von anderen Onlinequellen mit erfasst
und gepflegt, um auch über diese eine Suche zu ermöglichen. Leider bietet IMDb
keine deutschsprachigen Daten an. Auch die grafischen Daten wie Cover und
Hintergrundbilder sind hier, im Vergleich zu anderen Quellen, von schlechterer
Qualität.</p>
<p><strong>TMDb</strong> ist eine hauptsächlich Community gepflegte Onlinequelle. Die hier
gepflegten Filme enthalten neben den Standardmetadaten auch hochauflösende
Cover und Hintergrundbilder (sogenannte Backdrops und Fanart). Die Datenbank
wird oft von Open&ndash;Source&ndash;Projekten wie auch dem XBMC verwendet.</p>
<p><strong>OFDb</strong> ist eine im deutschen Raum bekannte Filmdatenbank, welche
deutschsprachige Metadaten pflegt.</p>
<p>Die Metadaten, die von den jeweiligen Plattformen bezogen werden unterscheiden
sich stark in Qualität, Art und Umfang.  Insbesondere die
Inhaltsbeschreibung ist hier sehr vielfältig &ndash;- von kurz und knapp bis sehr
ausführlich. Schaut man sich beispielsweise für den Film <em>,,Per Anhalter durch die
Galaxis (2005)&quot;</em> die deutsche Inhaltsbeschreibung auf den vier Film&ndash;Plattformen
<em>cinefacts.de</em> (siehe <a class="reference internal" href="rst/index.html#cinefacts-paddg" id="id2">[Link&ndash;10]</a>), <em>filmstarts.de</em> (siehe
<a class="reference internal" href="rst/index.html#filmstarts-paddg" id="id3">[Link&ndash;11]</a>), <em>OFDb.de</em> (siehe <a class="reference internal" href="rst/index.html#ofdb-paddg" id="id4">[Link&ndash;12]</a>) und <em>TMDb</em>
(siehe <a class="reference internal" href="rst/index.html#tmdb-paddg" id="id5">[Link&ndash;13]</a>) an, so wird man feststellen, dass jede dieser
Plattformen eine andere deutsche Inhaltsbeschreibung gepflegt hat. Je nach
persönlichen Präferenzen möchte man nur eine bestimmte Art von
Inhaltsbeschreibung einpflegen.</p>
</div>
</div>
<div class="section" id="software-und-metadatenformate">
<h3>3.2 Software und Metadatenformate<a class="headerlink" href="#software-und-metadatenformate" title="Permalink to this headline">¶</a></h3>
<div class="section" id="abspielsoftware">
<h4>3.2.1 Abspielsoftware<a class="headerlink" href="#abspielsoftware" title="Permalink to this headline">¶</a></h4>
<p>Die Darstellung einer mit Metadaten gepflegten Filmsammlung erfolgt in den
meisten Fällen über sogenannte Media&ndash;Center&ndash;Software, die für den
Home&ndash;Theater&ndash;PC Betrieb im Wohnzimmer angepasst ist.</p>
<p>Beispiele hierfür wären das Windows&ndash;Media&ndash;Center oder auch das freie
XBMC (siehe Abbildung ), welches in letzter Zeit noch
einmal durch den <em>Raspberry Pi</em> (siehe <a class="reference internal" href="rst/index.html#raspberry" id="id6">[Link&ndash;14]</a>) Bekanntschaft erlangt
hat. Neben den PC&ndash;basierten Lösungen gibt es hier auch zahlreiche
Standalone&ndash;Lösungen wie beispielsweise Popcorn&ndash;Hour (siehe
<a class="reference internal" href="rst/index.html#popcornhour" id="id7">[Link&ndash;15]</a>).</p>
<div class="figure align-center" id="fig-xbmcscreenshot">
<a class="reference internal image-reference" href="../../_images/xbmc-screenshot.png"><img alt="Screenshot einer im XBMC gepflegten Filmesammlung." src="../../_images/xbmc-screenshot.png" style="width: 90%;" /></a>
<p class="caption">Screenshot einer im XBMC gepflegten Filmesammlung.</p>
</div>
<p>Die Media&ndash;Center&ndash;Software kann ihre Metadaten in der Regel je nach Applikation
von einer oder mehreren Onlinequellen beziehen. Sie bietet dem Benutzer jedoch
in der Regel nicht die Möglichkeit, Korrekturen durchzuführen und ist somit nur
bedingt zum Pflegen von großen Filmsammlungen geeignet.</p>
</div>
<div class="section" id="movie-metadaten-manager">
<h4>3.2.2 Movie&ndash;Metadaten&ndash;Manager<a class="headerlink" href="#movie-metadaten-manager" title="Permalink to this headline">¶</a></h4>
<p>Neben den Media&ndash;Center&ndash;Lösungen gibt es spezielle Tools für die Pflege und
Korrektur von Film&ndash;Metadaten, sogenannte <em>Movie&ndash;Metadaten&ndash;Manager</em>. Ein
Movie&ndash;Management&ndash;Tool, welches es unter unixoden Betriebssystemen
gibt, ist beispielsweise MediaElch (siehe Abbildung , siehe
<a class="reference internal" href="rst/index.html#mediaelch" id="id8">[Link&ndash;16]</a>). Hier gibt es unter Linux noch weitere Tools (siehe
<a class="reference internal" href="rst/index.html#moviemanager" id="id9">[Link&ndash;17]</a>).</p>
<p>Diese Programme beziehen ihre Metadaten auf die gleiche Art und Weise wie auch
die Media&ndash;Center&ndash;Lösungen. Die Management&ndash;Tools bieten dem Benutzer
zusätzlich die Möglichkeit, fehlerhafte Metadaten manuell zu korrigieren oder
Metadaten zu ergänzen.</p>
<p>Da die Programme nur für die Pflege von Metadaten gedacht sind, gibt es hier
immer Import- und Exportschnittstellen, welche wiederum auf bestimmte Formate
(siehe Metadatenformate, <a class="reference internal" href="rst/index.html#ref-metadatenformate">3.2.3</a>) begrenzt sind.</p>
<p>Bestimmte Onlinequellen wie die IMDb bieten ihre Metadaten nur in englischer
Sprache an. Möchte man eine deutsche Inhaltsbeschreibung haben, so muss man auf
eine Onlinequelle zugreifen, die diese in deutscher Sprache pflegt. Je nach
Anwendung wird dies aber nicht immer unterstützt.</p>
<div class="figure align-center" id="fig-mediaelch">
<a class="reference internal image-reference" href="../../_images/mediaelch.png"><img alt="Screenshot vom Movie--Metadaten--Manager MediaElch" src="../../_images/mediaelch.png" style="width: 90%;" /></a>
<p class="caption">Screenshot vom Movie&ndash;Metadaten&ndash;Manager MediaElch.</p>
</div>
</div>
<div class="section" id="metadatenformate">
<span id="ref-metadatenformate"></span><h4>3.2.3 Metadatenformate<a class="headerlink" href="#metadatenformate" title="Permalink to this headline">¶</a></h4>
<p>Im Gegensatz zum Musikbereich hat sich bei der Pflege von Metadaten im
Filmbereich kein Standard durchgesetzt. Hier wird je nach Abspiel- oder
Verwaltungssoftware jeweils ein anderes Format verwendet.</p>
<p>Das XBMC speichert seine Metadaten beispielsweise intern in einer
Datenbank und schreibt diese beim Exportieren in <a class="reference internal" href="rst/index.html#term-xml"><em class="xref std std-term">XML</em></a>&ndash;Dateien, das
sogenannte <em>nfo</em>&ndash;Format, heraus (siehe <a class="reference internal" href="rst/index.html#xbmcnfo" id="id10">[Link&ndash;18]</a>). Nutzt man eine andere
Abspielsoftware wie das Windows&ndash;Media&ndash;Center, so werden die Metadaten im
<em>dvdxml</em>&ndash;Format, auch ein <em>XML</em> basiertes Format, abgespeichert (siehe
<a class="reference internal" href="rst/index.html#dvdxml" id="id11">[Link&ndash;19]</a>). Hier gibt es noch zahlreiche andere Formate, auch bei den
Movie&ndash;Metadaten&ndash;Managern, auf die nicht weiter eingegangen wird.</p>
<p>Dieser Umstand erschwert das Pflegen der Film&ndash;Metadaten zusätzlich. Für die
beiden genannten Formate bieten Movie&ndash;Metadaten&ndash;Manager häufig Import- und
Exportmöglichkeiten an. Jedoch können andere Player oder auch
Standalone&ndash;Lösungen hier wiederum ganz andere Formate verwenden, die von der
Metadaten&ndash;Pflegesoftware nicht unterstützt werden.</p>
</div>
</div>
<div class="section" id="probleme-bei-der-metadatenpflege">
<h3>3.3 Probleme bei der Metadatenpflege<a class="headerlink" href="#probleme-bei-der-metadatenpflege" title="Permalink to this headline">¶</a></h3>
<div class="section" id="unbekannte-und-auslandische-filme">
<h4>3.3.1 Unbekannte und ausländische Filme<a class="headerlink" href="#unbekannte-und-auslandische-filme" title="Permalink to this headline">¶</a></h4>
<p>In den meisten Fällen werden bei den oben beispielhaft genannten Anwendungen die
richtigen Metadaten für die <em>bekannten</em> Hollywood Filme gefunden. Hat man aber
eine Filmsammlung, die viele <em>Independent Filme</em> <a class="footnote-reference" href="#f1" id="id12"><sup>1</sup></a> oder nicht&ndash;amerikanische
Verfilmungen enthält, so kommt es immer wieder zu Problemen. Die grundlegenden
Probleme hier sind, dass ein Film entweder gar nicht gefunden wird, nur ein Teil
der Metadaten gefunden wird oder diese eben nur in einer bestimmten Sprache
bezogen werden können.</p>
<p>Werden Metadaten für einen bestimmten Film über die standardmäßig eingestellte
Onlinequelle nicht gefunden, so gibt es häufig die Möglichkeit eine andere
Onlinequelle zu verwenden. Hierbei entstehen jedoch neue Probleme, die nun
folgend betrachtet werden.</p>
</div>
<div class="section" id="redundante-metadaten">
<h4>3.3.2 Redundante Metadaten<a class="headerlink" href="#redundante-metadaten" title="Permalink to this headline">¶</a></h4>
<p><strong>Grundlegende Problematik:</strong>
Redundanzen treten in der Regel auf, wenn bei einer Filmsammlung die Daten aus
unterschiedlichen Quellen stammen. Damit ist gemeint, dass beispielsweise das
Genre auf unterschiedlichen Plattformen unter einem anderen Namen gepflegt ist.
Beim Herunterladen von Metadaten aus mehreren Quellen, wird beispielsweise das
Genre ,,SciFi&quot; von einer Onlinequelle und das Genre ,,Science&ndash;Fiction&quot; von
einer andere Quelle bezogen. Durch diesen Umstand ist das eigentlich eindeutige
Genre Science Fiction in diesem Fall zweimal in der lokalen Datenbank
vorhanden. Neben dem Genre sind auch weitere Attribute von der
Redundanz&ndash;Problematik betroffen, jedoch ist das Genre, neben der
Inhaltsbeschreibung, nach Meinung des Autors, eins der wichtigsten Attribute, da
es maßgeblich in die Entscheidung der Filmauswahl einfließt.</p>
<p>Folgende Punkte führen konkret im unten genannten Beispiel (siehe Praxisbeispiel
für Dateninhomogenität, <a class="reference internal" href="rst/index.html#ref-beispiel">3.3.4</a>) zu Redundanzen:</p>
<p><strong>Schreibweise des Genres:</strong>
Die Schreibweise der gepflegten Genres unterscheidet sich (siehe Abbildung
). Hier ist bei TMDb das Genre ,,Science Fiction&quot; und bei
OFDb ,,Science&ndash;Fiction&quot; gepflegt.</p>
<p><strong>Internationalisierung:</strong>
Je nach Onlinequelle ist das Genre in einer unterschiedlichen Sprache gepflegt.
IMDb listet hier das Genre ,,Comedy&quot; (siehe Abbildung ),
TMDb die deutsche Bezeichnung ,,Komödie&quot;.</p>
</div>
<div class="section" id="divergente-metadaten">
<h4>3.3.3 Divergente Metadaten<a class="headerlink" href="#divergente-metadaten" title="Permalink to this headline">¶</a></h4>
<p><strong>Divergente Genres:</strong>
Die OFDb&ndash;Quelle liefert für den Film <em>Feuchtgebiete (2013)</em> das Genre <em>Erotik</em>,
dieses Genre existiert bei IMDb (siehe <a class="reference internal" href="rst/index.html#imdbgenre" id="id13">[Link&ndash;20]</a>) und bei TMDb
(siehe <a class="reference internal" href="rst/index.html#tmdbgenre" id="id14">[Link&ndash;21]</a>) gar nicht.</p>
</div>
<div class="section" id="praxisbeispiel-fur-dateninhomogenitat">
<span id="ref-beispiel"></span><h4>3.3.4 Praxisbeispiel für Dateninhomogenität<a class="headerlink" href="#praxisbeispiel-fur-dateninhomogenitat" title="Permalink to this headline">¶</a></h4>
<p>Um das Problem zu veranschaulichen betrachten wir parallel zur oben genannten
Problematik Auszüge von Metadaten der drei Onlinequellen <em>IMDb</em>, <em>TMDb</em> und
<em>OFDb</em>.</p>
<p>Ausgehend von der Annahme, dass die Inhaltsbeschreibung (engl. Plot) und das
Genre zu den <em>wichtigsten</em> Kriterien bei der Filmauswahl gehören und diese somit
gepflegt sein müssen, werden diese nachfolgend explizit betrachtet.</p>
<p>In unserem Beispiel befinden sich folgende vier Filme in der Filmsammlung, die
mit Metadaten versorgt werden sollen:</p>
<blockquote>
<div><ol class="arabic simple">
<li><em>,,After.Life (2010)&quot;</em>, US&ndash;amerikanischer Spielfilm</li>
<li><em>,,Feuchtgebiete (2013)&quot;</em>, deutsche Romanverfilmung</li>
<li><em>,,Nymphomaniac (2013)&quot;</em>, europäischer Spielfilm</li>
<li><em>,,RoboCop (2014)&quot;</em>, US-amerikanischer Spielfilm</li>
</ol>
</div></blockquote>
<p>Die Inhaltsbeschreibung ist in der Regel problemlos austauschbar, jedoch
unterscheidet sie sich auch je nach Quelle in Formatierung, Ausführlichkeit
und Sprachstil.  Nicht alle Inhaltsbeschreibungen haben beispielsweise hinter
dem Rollennamen immer den Namen des Schauspielers in Klammern. Sollen die
Metadaten in deutscher Sprache gepflegt werden, so fällt IMDb raus, da diese
Onlinequelle nur Metadaten in englischer Sprache anbietet. Die Onlinequelle wird
aber bezüglich des Genrevergleichs mit in die Tabellen aufgenommen.</p>
<p><strong>After.Life (2010):</strong> Die Daten bei TMDb werden in verschiedenen Sprachen
gepflegt und sind in der Regel <em>qualitativ hochwertig</em>. Der erste Film wurde
bei TMDb gut eingepflegt, die Inhaltsbeschreibung ist deutschsprachig, das Genre
<em>feingranular</em> gepflegt. Des Weiteren bietet TMDb hochauflösende grafische
Metadaten (Cover, Hintergrundbilder). Bei OFDb ist das Genre ,,Mystery&quot; nicht
gepflegt und zudem gibt es nur ein niedrig auflösendes Cover und keine
Hintergrundbilder (siehe Abbildung ).</p>
<div class="figure align-center" id="table-afterlife">
<center><table border="1" class="docutils">
<colgroup>
<col width="11%" />
<col width="26%" />
<col width="37%" />
<col width="27%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="headalign-center"><em>Quelle</em></th>
<th class="headalign-center"><em>IMDb</em></th>
<th class="headalign-center"><em>TMDb</em></th>
<th class="headalign-center"><em>OFDb</em></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td class="align-center"><em>Plot</em></td>
<td class="align-center">englischsprachig</td>
<td class="align-center">deutschsprachig</td>
<td class="align-center">deutschsprachig</td>
</tr>
<tr class="row-odd"><td class="align-center"><em>Genre</em></td>
<td class="align-center">Drama, Horror, Mystery</td>
<td class="align-center">Drama, Horror, Mystery, Thriller</td>
<td class="align-center">Drama, Horror, Thriller</td>
</tr>
</tbody>
</table>
<p class="caption">Übersicht Metadatenquellen für den Film After.Life (2010)</p>
</center></div><p id="table-afterlife"><em>Zusammenfassung zum Genre:</em> austauschbar, unterschiedlich feingranular gepflegt</p>
<p><strong>Feuchtgebiete (2013):</strong> Der zweite Film ist bei TMDb und OFDb gut gepflegt.
Jedoch fällt auf, dass das gepflegte Genre bei diesen beiden Onlinequellen keine
Schnittmenge aufweist. Beim Betrachten des Wikipedia&ndash;Artikels (siehe
<a class="reference internal" href="rst/index.html#feuchtgebiete" id="id15">[Link&ndash;22]</a>) zum Film wird klar, dass das bei OFDb gepflegte Genre
auch seine Daseinsberechtigung hat.</p>
<div class="figure align-center" id="table-feuchtgebiete">
<center><table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="29%" />
<col width="27%" />
<col width="27%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="headalign-center"><em>Quelle</em></th>
<th class="headalign-center"><em>IMDb</em></th>
<th class="headalign-center"><em>TMDb</em></th>
<th class="headalign-center"><em>OFDb</em></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td class="align-center"><em>Plot</em></td>
<td class="align-center">englischsprachig</td>
<td class="align-center">deutschsprachig</td>
<td class="align-center">deutschsprachig</td>
</tr>
<tr class="row-odd"><td class="align-center"><em>Genre</em></td>
<td class="align-center">Drama, Comedy</td>
<td class="align-center">Drama, Komödie</td>
<td class="align-center">Erotik</td>
</tr>
</tbody>
</table>
<p class="caption">Übersicht Metadatenquellen für den Film Feuchtgebiete (2013)</p>
</center></div><p id="table-feuchtgebiete"><em>Zusammenfassung zum Genre:</em> divergent, Problem der Internationalisierung</p>
<p><strong>Nymphomaniac (2013):</strong> Hier ist bei TMDb die Inhaltsbeschreibung in Deutsch
nicht vorhanden. Der Film ist im Vergleich zu Hollywood&ndash;Blockbuster in
Deutsch relativ schlecht gepflegt. Bei OFDb ist wie auch beim ersten Film, eine
deutschsprachige Inhaltsangabe vorhanden. Zur großen Überraschung ist hier das
Genre im Vergleich zu den beiden anderen Onlinequellen feingranularer gepflegt
&ndash;- was laut Wikipedia (siehe <a class="reference internal" href="rst/index.html#nymphomaniac" id="id16">[Link&ndash;23]</a>) den Filminhalt besser
widerspiegelt (siehe Abbildung ).</p>
<div class="figure align-center" id="table-nymphomaniac">
<center><table border="1" class="docutils">
<colgroup>
<col width="15%" />
<col width="27%" />
<col width="27%" />
<col width="30%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="headalign-center"><em>Quelle</em></th>
<th class="headalign-center"><em>IMDb</em></th>
<th class="headalign-center"><em>TMDb</em></th>
<th class="headalign-center"><em>OFDb</em></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td class="align-center"><em>Plot</em></td>
<td class="align-center">englischsprachig</td>
<td class="align-center">englischsprachig</td>
<td class="align-center">deutschsprachig</td>
</tr>
<tr class="row-odd"><td class="align-center"><em>Genre</em></td>
<td class="align-center">Drama</td>
<td class="align-center">Drama</td>
<td class="align-center">Drama, Erotik, Sex</td>
</tr>
</tbody>
</table>
<p class="caption">Übersicht Metadatenquellen für den Film Nymphomaniac (2013)</p>
</center></div><p id="table-nymphomaniac"><em>Zusammenfassung zum Genre:</em> divergent, unterschiedlich feingranular gepflegt</p>
<p><strong>RoboCop (2014):</strong> Der vierte Film, eine Hollywood Remake&ndash;Produktion ist hier
bei allen drei Anbietern sehr gut gepflegt (siehe Abbildung ).</p>
<div class="figure align-center" id="table-robocop">
<center><table border="1" class="docutils">
<colgroup>
<col width="9%" />
<col width="22%" />
<col width="29%" />
<col width="39%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="headalign-center"><em>Quelle</em></th>
<th class="headalign-center"><em>IMDb</em></th>
<th class="headalign-center"><em>TMDb</em></th>
<th class="headalign-center"><em>OFDb</em></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td class="align-center"><em>Plot</em></td>
<td class="align-center">englischsprachig</td>
<td class="align-center">deutschsprachig</td>
<td class="align-center">deutschsprachig</td>
</tr>
<tr class="row-odd"><td class="align-center"><em>Genre</em></td>
<td class="align-center">Action, Crime, Sci&ndash;Fi</td>
<td class="align-center">Action, Science Fiction, Krimi</td>
<td class="align-center">Action, Krimi, Science&ndash;Fiction, Thriller</td>
</tr>
</tbody>
</table>
<p class="caption">Übersicht Metadatenquellen für den Film RoboCop (2014)</p>
</center></div><p id="table-robocop"><em>Zusammenfassung zum Genre:</em> unterschiedliche Schreibweise, divergent, Problem der
Internationalisierung, unterschiedlich feingranular gepflegt</p>
<p>Beim Bezug von Metadaten der vier Filme wird deutlich, welche Probleme bei der
Beschaffung dieser entstehen können. Diese Probleme werden beim <em>,,aktuellen
Stand der Technik&quot;</em> durch den Benutzer mühsam manuell behoben. Bei kleinen
Filmsammlungen ist der Aufwand der manuellen Nachpflege noch vertretbar, nicht
jedoch bei <em>größeren</em> Sammlungen von mehreren hundert Filmen.</p>
</div>
<div class="section" id="auswirkungen">
<h4>3.3.5 Auswirkungen<a class="headerlink" href="#auswirkungen" title="Permalink to this headline">¶</a></h4>
<p>Abspielsoftware wie das XBMC erlaubt es dem Benutzer, die Filme nach Genre zu
gruppieren und zu filtern. Durch dieses <em>Feature</em> kann der Benutzer einen Film
nach seinen Vorlieben aussuchen. Durch die Redundanzen ist eine eindeutige
Gruppierung nicht mehr möglich. Die Folge ist ein ungeordneter Zustand.</p>
</div>
</div>
<div class="section" id="probleme-bei-der-metadatensuche">
<span id="ref-probleme-metadatensuche"></span><h3>3.4 Probleme bei der Metadatensuche<a class="headerlink" href="#probleme-bei-der-metadatensuche" title="Permalink to this headline">¶</a></h3>
<div class="section" id="grundlegende-probleme">
<h4>3.4.1 Grundlegende Probleme<a class="headerlink" href="#grundlegende-probleme" title="Permalink to this headline">¶</a></h4>
<p>Viele Metadaten&ndash;Tools erwarten exakte Suchbegriffe. Falsch geschriebene Filme
wie ,,The Marix&quot; oder ,,Sin Sity&quot; werden oft nicht gefunden (siehe Abbildung
).</p>
<p>Die Suche nach der <em>IMDb&ndash;ID</em> ist bei den getesteten Tools häufig nicht möglich,
obwohl diese von manchen Onlineanbietern unterstützt wird (siehe Abbildung
).</p>
</div>
<div class="section" id="probleme-bei-movie-metadaten-managern">
<h4>3.4.2 Probleme bei Movie&ndash;Metadaten&ndash;Managern<a class="headerlink" href="#probleme-bei-movie-metadaten-managern" title="Permalink to this headline">¶</a></h4>
<p>Es wurden neben der Abspielsoftware XBMC und dem
Movie&ndash;Metadaten&ndash;Manager MediaElch, die bereits genannten
Movie&ndash;Metadaten&ndash;Manager (siehe <a class="reference internal" href="rst/index.html#moviemanager" id="id17">[Link&ndash;17]</a>) <em>GCstar</em>, <em>vMovieDB</em>,
<em>Griffith</em> und <em>Tellico</em> betrachtet. Die Resultate hier waren eher ernüchternd
(siehe Abbildung ). Bei den beiden Media&ndash;Managern GCstar
und vMovieDB hat die Metadatensuche nicht funktioniert, hier wurde nichts
gefunden. Das Verhalten wurde auf zwei Systemen nachgeprüft. Beim XBMC wurden
die Plugins für die Onlinequellen TMDb und Videobuster getestet. Für die
Unschärfesuche wurde nach <em>,,Sin Sity&quot;</em> und nach <em>,,The Marix&quot;</em> gesucht.</p>
<div class="figure align-center" id="table-movietools">
<center><table border="1" class="docutils">
<colgroup>
<col width="22%" />
<col width="26%" />
<col width="30%" />
<col width="23%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="headalign-center"><em>Software</em></th>
<th class="headalign-center"><em>XBMC</em></th>
<th class="headalign-center"><em>MediaElch</em></th>
<th class="headalign-center"><em>Tellico</em></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td class="align-center"><em>IMDb&ndash;ID Suche</em></td>
<td class="align-center"><span class="math">\(\times\)</span></td>
<td class="align-center">nur über IMDb u. TMDb</td>
<td class="align-center"><span class="math">\(\times\)</span></td>
</tr>
<tr class="row-odd"><td class="align-center"><em>Unschärfesuche</em></td>
<td class="align-center"><span class="math">\(\times\)</span></td>
<td class="align-center"><span class="math">\(\times\)</span></td>
<td class="align-center">nur IMDb, teilweise</td>
</tr>
<tr class="row-even"><td class="align-center"><em>Onlinequellen</em></td>
<td class="align-center">verschiedene (plugin)</td>
<td class="align-center">verschiedene (6)</td>
<td class="align-center">wenige (3)</td>
</tr>
<tr class="row-odd"><td class="align-center"><em>Metadatenformate</em></td>
<td class="align-center"><span class="math">\(\times\)</span></td>
<td class="align-center">nur XBMC</td>
<td class="align-center"><span class="math">\(\times\)</span></td>
</tr>
<tr class="row-even"><td class="align-center"><em>Datenkorrektur</em></td>
<td class="align-center"><span class="math">\(\times\)</span></td>
<td class="align-center">ja, manuell</td>
<td class="align-center">ja, manuell</td>
</tr>
<tr class="row-odd"><td class="align-center"><em>Bemerkungen</em></td>
<td class="align-center">pluginbasierte Scraper</td>
<td class="align-center">Onlinequellen kombinierbar</td>
<td class="align-center"><span class="math">\(\times\)</span></td>
</tr>
<tr class="row-even"><td class="align-center"><em>Typ</em></td>
<td class="align-center">Medien&ndash;Player</td>
<td class="align-center">Metadaten&ndash;Manager</td>
<td class="align-center">Metadaten&ndash;Manager</td>
</tr>
</tbody>
</table>
<p class="caption">Übersicht Movie&ndash;Metadaten&ndash;Manager und ihre Funktionalität</p>
</center></div><p id="table-movietools">Die nicht funktionierenden Movie&ndash;Manager <em>GCstar</em> und <em>vMovieDB</em> wurde nicht
mit aufgenommen.  Das Tool Griffith wurde auch aus der Tabelle genommen, da hier
von den 40 Onlinequellen nur einzelne Quellen funktioniert haben &ndash;- IMDb hat
auch nicht funktioniert.</p>
</div>
</div>
<div class="section" id="anforderungen-an-das-projekt">
<h3>3.5 Anforderungen an das Projekt<a class="headerlink" href="#anforderungen-an-das-projekt" title="Permalink to this headline">¶</a></h3>
<p>Viele der genannten Schwierigkeiten lassen sich aufgrund ihrer Natur und der
aktuellen Kombination aus Abspielsoftware und Movie&ndash;Metadaten&ndash;Manager nicht
oder nur mit manuellen Eingriff durch den Benutzer beheben. Bei großen
Filmsammlungen mehrerer hundert Filme ist dies jedoch mit keinem
vernünftigen Aufwand umsetzbar.</p>
<p>Es soll <em>kein neuer</em> Movie&ndash;Metadaten&ndash;Manager entwickelt werden. Die Idee ist
es, dem Entwickler beziehungsweise Endbenutzer einen <em>modularen
Werkzeugbaukasten</em> in Form einer pluginbasierten Bibliothek über eine
einheitliche Schnittstelle bereitzustellen, welcher an die persönlichen
Bedürfnisse anpassbar ist.</p>
<p>Des Weiteren soll die zusätzliche Funktionalität der Datenanalyse,
beispielsweise basierend auf Data&ndash;Mining&ndash;Algorithmik, möglich sein. Das
Hauptaugenmerk des Systems liegt, im Gegensatz zu den bisherigen
Movie&ndash;Metadaten&ndash;Managern, auf der <em>automatisierten</em> Verarbeitung großer
Datenmengen.</p>
<p class="rubric">Footnotes</p>
<table class="docutils footnote" frame="void" id="f1" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id12">[1]</a></td><td>Bezeichnung für Filme, die von Produktionsfirmen finanziert werden,
welche nicht zu den großen US Studios gehören.</td></tr>
</tbody>
</table>
</div>
</div>
<span id="document-rst/IV/index"></span><div class="section" id="softwarespezifikation">
<h2>4 Softwarespezifikation<a class="headerlink" href="#softwarespezifikation" title="Permalink to this headline">¶</a></h2>
<div class="section" id="anforderungen-an-die-bibliothek">
<span id="ref-requirements"></span><h3>4.1 Anforderungen an die Bibliothek<a class="headerlink" href="#anforderungen-an-die-bibliothek" title="Permalink to this headline">¶</a></h3>
<p>Die Anforderungen werden aus den Schwierigkeiten der momentan vorhandenen
Lösungen abgeleitet. Gute Ideen werden hier übernommen. Der konzeptionelle Entwurf
der Software ist Bestandteil der Projektarbeit, die Internas und Algorithmik
werden in der Bachelorarbeit behandelt.</p>
<div class="section" id="anforderungen-an-die-datenbeschaffung">
<h4>4.1.1 Anforderungen an die Datenbeschaffung<a class="headerlink" href="#anforderungen-an-die-datenbeschaffung" title="Permalink to this headline">¶</a></h4>
<p>Die Erweiterbarkeit soll durch Schreiben von Plugins erreicht werden. Folgende
Pluginarten sollen bei der Datenbeschaffung umgesetzt werden:</p>
<p><strong>Provider&ndash;Plugins:</strong>
Die Onlinequellen, die verwendet werden, sollen austauschbar sein. Der Benutzer
hat die Möglichkeit, durch Schreiben eines Plugins seine bevorzugte Onlinequelle
als sogenanntes Provider&ndash;Plugin zu implementieren. Dieses Grundprinzip wird
bereits bei der freien Musik&ndash;Metadatensuchmaschine <em>libglyr</em> (siehe
<a class="reference internal" href="rst/index.html#glyr" id="id1">[Link&ndash;24]</a>) sowie im Ansatz beim XBMC (siehe <a class="reference internal" href="rst/index.html#xbmcscraper" id="id2">[Link&ndash;25]</a>) verwendet.</p>
<p>Um nicht direkt einen ,,Standardprovider&quot; festlegen zu müssen, werden bei den
Providern Prioritäten von 0&ndash;100 vergeben. Provider mit höheren Prioritäten
werden beim Verarbeiten der Suchergebnisse bevorzugt.</p>
<p><strong>Postprocessor&ndash;Plugins:</strong>
Die Möglichkeit der Datenaufbereitung beim Herunterladen von Metadaten
soll erweiterbar sein. Der Benutzer hat die Möglichkeit das
Postprocessor&ndash;System durch Schreiben eines Plugins zu erweitern.</p>
<p><strong>Converter&ndash;Plugins:</strong>
Die Exportformate, die für die Speicherung der Metadaten verwendet werden,
lassen sich vom Benutzer durch Schreiben eines Plugins erweitern.</p>
<p><strong>Suche von Metadaten:</strong>
Die Suche von Metadaten soll sich für das Projekt auf Film&ndash;Metadaten und
Personen&ndash;Metadaten beschränken. Für TV&ndash;Serien&ndash;Metadaten soll jedoch auch eine
Schnittstelle geboten werden.</p>
<p>Die Film&ndash;Metadatensuche soll feingranular konfigurierbar sein, das heißt die
zu verwendenden Onlinequellen, die Anzahl der Ergebnisse und die <em>Art</em> der
Metadaten soll bei einer Suchanfrage einstellbar sein. Die Unterscheidung der
<em>Art</em> soll sich auf textuelle und grafische Metadaten beschränken.</p>
<p>Eine onlinequellen&ndash;übergreifende Suche über die IMDb&ndash;ID, welche exakte
Ergebnisse liefert, ist wünschenswert.</p>
<p>Beim Suchverhalten über mehrere Onlinequellen soll es zwei verschiedene
,,Suchstrategien&quot; geben. Durch diese Suchstrategien soll dem Benutzer die
Kontrolle darüber gegeben werden, ob er möglichst genaue Ergebnisse von
unterschiedlichen Providern erhalten möchte, oder ob er verschiedene Ergebnisse
eines bevorzugten Providers wünscht.</p>
<p>Bevor die Suchergebnisse an den Benutzer zurückgegeben
werden, werden diese nach Provider&ndash;Priorität gruppiert. Die gruppierten
Ergebnisse je Provider werden nach Übereinstimmung mit der Suche sortiert.</p>
<p>Nun sollen die zwei Strategien zum Einsatz kommen, nach welcher die Ergebnisse
zurückgegeben werden. Bei der <em>flat</em>&ndash;Strategie werden aus jeder Gruppe
jeweils zuerst die höchstpriorisierten Ergebnisse ausgewählt bis das gewünschte
Ergebnislimit erreicht ist. Bei der <em>deep</em>&ndash;Strategie wird zuerst der
Provider mit der höchsten Priorität ausgeschöpft, im Anschluss der
nächstniedrigere Provider.</p>
<p>Mit folgendem Beispiel sollen die zwei Strategien des Suchverhaltens anschaulich
erläutert werden.</p>
<div class="figure align-center" id="table-searchstrategy">
<center><table border="1" class="docutils">
<colgroup>
<col width="32%" />
<col width="24%" />
<col width="20%" />
<col width="24%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="headalign-center"><em>Onlinequelle</em></th>
<th class="headalign-center"><em>A</em></th>
<th class="headalign-center"><em>B</em></th>
<th class="headalign-center"><em>C</em></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td class="align-center"><em>größte Übereinstimmung</em></td>
<td class="align-center">Sin (2003)</td>
<td class="align-center">Sin (2003)</td>
<td class="align-center">Sin (2003)</td>
</tr>
<tr class="row-odd"><td class="align-center"><span class="math">\(\uparrow\)</span></td>
<td class="align-center">Sin Nombre (2009)</td>
<td class="align-center">Sin City (2005)</td>
<td class="align-center">Sin City (2005)</td>
</tr>
<tr class="row-even"><td class="align-center"><span class="math">\(\downarrow\)</span></td>
<td class="align-center">Original Sin (2001)</td>
<td class="align-center">&nbsp;</td>
<td class="align-center">Sin Nombre (2009)</td>
</tr>
<tr class="row-odd"><td class="align-center"><em>kleinste Übereinstimmung</em></td>
<td class="align-center">&nbsp;</td>
<td class="align-center">&nbsp;</td>
<td class="align-center">Original Sin (2001)</td>
</tr>
</tbody>
</table>
<p class="caption">Abbildung zeigt Metadatenanbieter (A, B, C) und die jeweils
gelieferten Ergebnisse pro Anbieter.</p>
</center></div><p id="table-searchstrategy">Die Tabelle  zeigt die Suchanfrage nach dem Film
,,Sin&quot; mit der Begrenzung auf vier Ergebnisse. Jedem Provider (A, B und C) ist
intern eine <em>Priorität</em> zugeordnet. Die Provider sind nach <em>Priorität</em> sortiert.
A hat die höchste Priorität. Die Ergebnisse pro Provider sind nach der
Übereinstimmung mit dem Suchstring ,,Sin&quot; sortiert.</p>
<p>Folgende Ergebnisse werden bei jeweiliger Strategie und der Begrenzung auf vier
Ergebnisse an den Aufrufer gegeben:</p>
<blockquote>
<div><ul class="simple">
<li><em>flat</em>: Sin (2003) A, Sin (2003) B, Sin (2003) C, Sin Nombre (2009) A</li>
<li><em>deep</em>: Sin (2003) A, Sin Nombre (2009) A, Original Sin (2001) A, Sin (2003) B</li>
</ul>
</div></blockquote>
<p><strong>Unschärfesuche:</strong>
Der Benutzer soll auch Ergebnisse erhalten, wenn im Suchstring Tippfehler
enthalten sind. Der Suchstring ,,The Marix&quot; soll
<em>metadatenanbieterübergreifend</em> den Film <em>,,The Matrix (1999)&quot;</em> liefern. Eine
provider&ndash;übergreifende Suche wäre hier wünschenswert.</p>
<p><strong>IMDb&ndash;ID Suche:</strong>
Die Suche nach Filmen über die <em>IMDb&ndash;ID</em> soll möglich sein. Eine
provider&ndash;übergreifende Suche wäre hier wünschenswert.</p>
<p><strong>Genrenormalisierung:</strong>
Um Redundanzen zu vermeiden, soll eine Genrenormalisierung
implementiert werden. Hierdurch soll es möglich, sein Genre&ndash;Informationen von
mehreren Providern zusammenzuführen oder zwischen den Providern austauschbar zu
machen.</p>
</div>
<div class="section" id="anforderungen-an-die-datenanalyse">
<h4>4.1.2 Anforderungen an die Datenanalyse<a class="headerlink" href="#anforderungen-an-die-datenanalyse" title="Permalink to this headline">¶</a></h4>
<p>Die Analyse von Metadaten soll auf bereits existierende Metadaten anwendbar
sein, mit dem Ziel die Qualität dieser zu verbessern. Hier soll es neben der
reinen Analyse die Möglichkeit der Modifikation von Metadaten geben. Ein
weiterer experimenteller Teil soll die Vergleichbarkeit von Metadaten für
statistische Zwecke ermöglichen.</p>
<p>Aufgrund der genannten Anforderungen sollen folgende unterschiedliche
<em>Pluginarten</em>  umgesetzt werden:</p>
<p><strong>Modifier&ndash;Plugins:</strong>
Über diese Art von Plugins lassen sich die Metadaten direkt modifizieren. Ein
Beispiel hierfür wäre das Entfernen von unerwünschten Sonderzeichen aus der
Inhaltsbeschreibung.</p>
<p><strong>Analyzer&ndash;Plugins:</strong>
Diese Art von Plugins erlaubt es dem Benutzer die vorliegenden Metadaten zu
analysieren, um neue Erkenntnisse zu gewinnen oder Defizite zu identifizieren.
Ein Beispiel hierfür wäre die Erkennung der verwendeten Sprache der
Inhaltsbeschreibung.</p>
<p><strong>Comparator&ndash;Plugins:</strong>
Diese Art von Plugins ist experimentell. Sie ist für statistische Auswertungen
bezüglich der Vergleichbarkeit von Filmen anhand der Metadaten gedacht. Mit den
entwickelten Plugins soll untersucht werden, ob und wie gut sich Filme
anhand von Metadaten vergleichen lassen, um so in Zukunft neben der bereits
erwähnten Funktionalität zusätzlich noch Empfehlungen für andere Filme
aussprechen zu können.</p>
</div>
<div class="section" id="allgemeine-anforderungen-an-die-bibliothek">
<h4>4.1.3 Allgemeine Anforderungen an die Bibliothek<a class="headerlink" href="#allgemeine-anforderungen-an-die-bibliothek" title="Permalink to this headline">¶</a></h4>
<p><strong>Asynchrone Bibliothek:</strong>
Die Bibliothek soll eine asynchrone Ausführung von Suchanfragen implementieren.
Das Herunterladen von Metadaten verschiedener Metadatenanbieter soll parallel
geschehen, um die Wartezeit der Suchanfrage zu reduzieren.</p>
<p><strong>Lokaler Zwischenspeicher (Cache):</strong>
Es soll ein lokaler Cache implementiert werden, um valide Ergebnisse der
Suchanfragen zu puffern um so die Geschwindigkeit zu erhöhen und das
Netzwerk beziehungsweise die Onlinequellen zu entlasten. Manche Onlinequellen
forcieren eine Volumenbegrenzung, welche man durch den Zwischenspeicher
abmildern kann.</p>
<p><strong>Implementierung eines kommandobasierten Frontends:</strong>
Dieses soll sowohl zum Testen der Bibliothek entwickelt als auch für
Demonstrationszwecke fungieren und für <em>Scripting&ndash;Tasks</em> geeignet sein.</p>
<p><strong>Grundlegende Konfiguration des Download&ndash;Managers:</strong>
Für das Herunterladen der Metadaten sollen die folgenden Parameter
konfigurierbar sein:</p>
<ul class="simple">
<li>User&ndash;Agent</li>
<li>Cache&ndash;Pfad</li>
<li>Timeout in Sekunden</li>
<li>Anzahl paralleler Download&ndash;Threads (paralleles Herunterladen)</li>
<li>Anzahl der verwendeten Job&ndash;Threads (parallele Suchanfragen)</li>
</ul>
<p><strong>Konfigurationsmöglichkeiten für eine Suchanfrage:</strong>
Folgende Parameter sollen bei einer Suchanfrage konfigurierbar sein:</p>
<ul class="simple">
<li>Providerart (Film, Person)</li>
<li>Filmtitel, Jahr, <em>IMDb&ndash;ID</em> oder Personenname (je nach Providerart)</li>
<li>Sprache in der Metadaten gesucht werden sollen (abhängig von Onlinequelle)</li>
<li>Cache verwenden (ja/nein)</li>
<li>Anzahl der maximalen Downloadversuche</li>
<li>Anzahl der maximalen gewünschten Suchergebnisse</li>
<li>Suchstrategie (<em>deep/flat</em>)</li>
<li>Zu verwendende Metadatenanbieter</li>
<li>Unschärfesuche (ja/nein)</li>
<li>Provider übergreifende IMDb&ndash;ID&ndash;Suche (ja/nein)</li>
<li>Metadatenart (textuelle Daten, grafische Daten)</li>
</ul>
</div>
<div class="section" id="optionale-anforderungen">
<h4>4.1.4 Optionale Anforderungen<a class="headerlink" href="#optionale-anforderungen" title="Permalink to this headline">¶</a></h4>
<p>Die Bibliothek soll in ein bestehendes Open&ndash;Source&ndash;Projekt integriert werden.
Hier wäre beispielsweise die Integration als Plugin in das XBMC denkbar.</p>
</div>
<div class="section" id="nicht-anforderungen">
<h4>4.1.5 Nicht&ndash;Anforderungen<a class="headerlink" href="#nicht-anforderungen" title="Permalink to this headline">¶</a></h4>
<p><strong>Nicht Film&ndash;Metadaten:</strong>
Die Suche und Analyse von Musikmetadaten oder anderen Metadatentypen ist nicht
Bestandteil des Projekts.</p>
<p><strong>Movie&ndash;Metadaten&ndash;Manager:</strong>
Die Implementierung eines <em>neuen</em> Movie&ndash;Metadaten&ndash;Managers ist nicht
Bestandteil des Projekts.</p>
</div>
</div>
</div>
<span id="document-rst/V/index"></span><div class="section" id="entwurf">
<h2>5 Entwurf<a class="headerlink" href="#entwurf" title="Permalink to this headline">¶</a></h2>
<p>Im Folgenden wird der systematische Entwurf der Software aufgezeigt. Die
verwendeten Algorithmen, Probleme, sowie Möglichkeiten der technischen
Umsetzung werden in der Bachelorarbeit genauer beleuchtet und diskutiert.</p>
<div class="section" id="grunduberlegungen">
<h3>5.1 Grundüberlegungen<a class="headerlink" href="#grunduberlegungen" title="Permalink to this headline">¶</a></h3>
<p>Metadaten werden über verschiedene Onlinequellen bezogen. Hier wird
grundsätzlich zwischen Onlinequellen mit API und ohne API unterschieden.
Onlinequellen mit API bieten dem Entwickler direkt eine Schnittstelle, über
welche die interne Datenbank des Metadatenanbieters abgefragt werden kann. Die
Onlinequellen mit API unterteilen sich in die zwei Technologien RESTful (vgl.
<a class="reference internal" href="rst/index.html#fielding2000architectural" id="id1">[1]</a>) und SOAP (vgl. <a class="reference internal" href="rst/index.html#snell2002webservice" id="id2">[3]</a>).</p>
<p>Folgende Shellsitzung demonstriert einen Zugriff mit dem Webtransfer&ndash;Tool
<em>cURL</em> (siehe <a class="reference internal" href="rst/index.html#curl" id="id3">[Link&ndash;26]</a>) auf die API der OMDb&ndash;Onlinequelle (siehe
<a class="reference internal" href="rst/index.html#omdb" id="id4">[Link&ndash;27]</a>), es wird nach dem Film ,,The Matrix&quot; gesucht (Ausgabe gekürzt):</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>curl http://www.omdbapi.com/?t<span class="o">=</span>The+Matrix
<span class="o">{</span><span class="s2">&quot;Title&quot;</span>:<span class="s2">&quot;The Matrix&quot;</span>,
<span class="s2">&quot;Year&quot;</span>:<span class="s2">&quot;1999&quot;</span>,
<span class="s2">&quot;Runtime&quot;</span>:<span class="s2">&quot;136 min&quot;</span>,
<span class="s2">&quot;Genre&quot;</span>:<span class="s2">&quot;Action, Sci--Fi&quot;</span>,
<span class="s2">&quot;Director&quot;</span>:<span class="s2">&quot;Andy Wachowski, Lana Wachowski&quot;</span>,
<span class="s2">&quot;Actors&quot;</span>:<span class="s2">&quot;Keanu Reeves, Laurence Fishburne, Carrie--Anne Moss, Hugo Weaving&quot;</span>,
<span class="s2">&quot;Plot&quot;</span>:<span class="s2">&quot;A computer hacker learns from mysterious [...]&quot;</span>,
<span class="s2">&quot;Country&quot;</span>:<span class="s2">&quot;USA, Australia&quot;</span>,
<span class="s2">&quot;Poster&quot;</span>:<span class="s2">&quot;http://ia.media-imdb.com/images/M/SX300.jpg&quot;</span>,
<span class="s2">&quot;imdbRating&quot;</span>:<span class="s2">&quot;8.7&quot;</span>,
<span class="s2">&quot;imdbID&quot;</span>:<span class="s2">&quot;tt0133093&quot;</span>,
<span class="o">[</span>...<span class="o">]</span>
<span class="s2">&quot;Type&quot;</span>:<span class="s2">&quot;movie&quot;</span>,
<span class="s2">&quot;Response&quot;</span>:<span class="s2">&quot;True&quot;</span>
<span class="o">}</span>
</pre></div>
</div>
<p>Die <em>Such&ndash;URL</em> bekommt den Titel als Query&ndash;Parameter (<tt class="docutils literal"><span class="pre">t=The+Matrix</span></tt>)
übergeben, zurück kommt ein in <em>JSON</em> formatiertes Response. Dieses kann nun vom
Aufrufer der API beliebig verarbeitet werden.</p>
<p>Bietet eine Webseite wie beispielsweise <em>filmstarts.de</em> (siehe
<a class="reference internal" href="rst/index.html#filmstarts" id="id5">[Link&ndash;28]</a>) keine API an, so muss der ,,normale Weg&quot; wie über den
Webbrowser erfolgen. Hierzu muss man herausfinden, aus welchen Parametern sich
die <em>Such&ndash;URL</em> zusammensetzt, die im Hintergrund an den Webserver geschickt
wird, sobald die Suchanfrage losgeschickt wird. Bei <em>filmstarts.de</em> setzt sich
die <em>Such</em>&ndash;URL wie folgt zusammen:</p>
<blockquote>
<div><tt class="docutils literal"><span class="pre">http://www.filmstarts.de/suche/?q=Filmtitel</span></tt></div></blockquote>
<p>Wird nun mit <em>cURL</em> die URL mit dem oben genannten Film als Query&ndash;Parameter
aufgerufen, so kommt als Antwort ein HTML&ndash;Dokument zurück, welches auch der
Webbrowser erhalten würde. Folgende Shellsitzung demonstriert den Aufruf
(Ausgabe gekürzt):</p>
<div class="highlight-html"><div class="highlight"><pre>$ curl  http://www.filmstarts.de/suche/?q=The+Matrix
<span class="nt">&lt;html&gt;</span>
    <span class="nt">&lt;head&gt;&lt;title&gt;</span>The Matrix – Suchen auf FILMSTARTS.de<span class="nt">&lt;/title&gt;&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span><span class="c">&lt;!-- Weiterer Content --&gt;</span><span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
</div>
<p>Man bekommt als Aufrufer der URL die Webseite zurückgeliefert und muss nun die
Daten aus dem Dokument extrahieren. Dies ist in der Regel mühsamer als der
Zugriff über eine API, welche die Daten sauber im <em>JSON</em>&ndash; oder <em>XML</em>&ndash;Format
zurückliefert.</p>
<div class="section" id="ubertragung-vom-grundprinzip-auf-das-pluginsystem">
<h4>5.1.1 Übertragung vom Grundprinzip auf das Pluginsystem<a class="headerlink" href="#ubertragung-vom-grundprinzip-auf-das-pluginsystem" title="Permalink to this headline">¶</a></h4>
<p>Ein Ziel bei der Entwicklung der Plugin&ndash;Spezifikation ist, den Aufwand für das
Implementieren eines Plugins so gering wie möglich zu halten, um
Programmierfehler beziehungsweise Fehlverhalten durch Plugins zu minimieren,
aber auch um Entwickler zu motivieren, Plugins zu schreiben.</p>
<p>Das oben genannte Prinzip beim Beschaffen von Metadaten ist immer gleich und
lässt sich somit gut auf das Pluginsystem übertragen. Die Provider&ndash;Plugins
müssen im Prinzip nur folgende zwei Punkte können (siehe Abbildung
):</p>
<blockquote>
<div><ul class="simple">
<li>Aus den Suchparametern die <em>Such&ndash;URL</em> zusammenbauen.</li>
<li>Extrahieren der Daten aus dem zurückgelieferten <em>HTTP&ndash;Response</em>.</li>
</ul>
</div></blockquote>
<p>Um den Download selbst muss sich das Provider&ndash;Plugin bei diesem Ansatz nicht
kümmern. Das entlastet den Pluginentwickler und gibt <em>libhugin</em> die
Kontrolle über das Downloadmanagement.</p>
<div class="figure align-center" id="fig-provider-concept">
<a class="reference internal image-reference" href="../../_images/provider-concept-svg.pdf"><img alt="Grundprinzip Kommunikationsablauf mit Provider--Plugin" src="../../_images/provider-concept-svg.pdf" style="width: 90%;" /></a>
<p class="caption">Grundprinzip Kommunikationsablauf mit Provider&ndash;Plugin.</p>
</div>
<p>Damit der Provider weiß, welche <em>Roh&ndash;Daten</em> er zurückliefern soll, muss
hierfür noch eine Struktur mit Attributen festgelegt werden, an welche sich alle
Provider&ndash;Plugins halten müssen.</p>
<p>Für den Prototypen richten sich die möglichen Attribute nach der
TMDb&ndash;Onlinequelle (siehe <em>libhugin</em>&ndash;API <a class="reference internal" href="rst/index.html#movieprovider" id="id6">[Link&ndash;29]</a>).</p>
</div>
</div>
<div class="section" id="libhugin-architektur-uberblick">
<h3>5.2 Libhugin Architektur&ndash;Überblick<a class="headerlink" href="#libhugin-architektur-uberblick" title="Permalink to this headline">¶</a></h3>
<p>Die Bibliothek soll über die Metadatenbeschaffung hinaus Werkzeuge zur
Metadatenanalyse bereitstellen. Um eine saubere Trennung zwischen
den beiden zu schaffen, wird die Bibliothek in die zwei Teile
<em>libhugin&ndash;harvest</em> und <em>libhugin&ndash;analyze</em> aufgeteilt (siehe Abbildung
).</p>
<p><strong>libhugin&ndash;harvest:</strong>
Dieser Teil soll für die Metadatenbeschaffung zuständig sein und Schnittstellen
für die folgenden Pluginarten bereitstellen:</p>
<blockquote>
<div><ul class="simple">
<li>Provider</li>
<li>Postprocessor</li>
<li>Converter</li>
</ul>
</div></blockquote>
<div class="figure align-center" id="fig-harvest-arch">
<a class="reference internal image-reference" href="../../_images/arch-overview-svg.pdf"><img alt="Architekturübersicht von libhugin" src="../../_images/arch-overview-svg.pdf" style="width: 80%;" /></a>
<p class="caption">Die Grafik zeigt eine Architekturübersicht der <em>libhugin</em>&ndash;Bibliothek welche
sich in die zwei Teile <em>libhugin&ndash;harvest</em> und <em>libhugin&ndash;analyze</em> aufteilt.</p>
</div>
<p><strong>libhugin&ndash;analyze:</strong>
Dieser Teil soll für die nachträgliche Metadatenanalyse zuständig sein und
Schnittstellen für folgende Pluginarten bereitstellen:</p>
<blockquote>
<div><ul class="simple">
<li>Modifier</li>
<li>Analyzer</li>
<li>Comparator</li>
</ul>
</div></blockquote>
<p>Der Analyze&ndash;Teil der Bibliothek soll über eine interne Datenbank verfügen, in welche
externe Metadaten zur Analyse importiert werden. So können alle Plugins auf
einem definierten Zustand arbeiten.</p>
<div class="section" id="klassenubersicht-von-libhugin-harvest">
<h4>5.2.1 Klassenübersicht von <em>libhugin&ndash;harvest</em><a class="headerlink" href="#klassenubersicht-von-libhugin-harvest" title="Permalink to this headline">¶</a></h4>
<p>Die Architektur von <em>libhugin</em> ist objektorientiert. Aus der Architekturübersicht
und den Anforderungen an das System wurden die folgenden Klassen und Schnittstellen
abgeleitet. Abbildung  zeigt eine
Klassenübersicht von <em>libhugin&ndash;harvest</em>, samt Interaktion mit den Schnittstellen.</p>
<p>Im Folgenden werden die grundlegenden Objekte und Schnittstellen
erläutert.</p>
<div class="figure align-center" id="fig-klassenuebersicht-harvest">
<a class="reference internal image-reference" href="../../_images/klassenuebersicht-harvest-svg.pdf"><img alt="Libhugin--harvest Klassenübersicht mit Klasseninteraktion" src="../../_images/klassenuebersicht-harvest-svg.pdf" style="width: 100%;" /></a>
<p class="caption"><em>Libhugin&ndash;harvest</em> Klassenübersicht mit Klasseninteraktion.</p>
</div>
<p><strong>Session:</strong>
Diese Klasse bildet den Grundstein für <em>libhugin&ndash;harvest</em>. Über eine Sitzung
konfiguriert der Benutzer das System und hat Zugriff auf die verschiedenen
Plugins.
Von der Session werden folgende Methoden bereitgestellt:</p>
<p><tt class="docutils literal"><span class="pre">create_query(**kwargs):</span></tt> Schnittstelle zur Konfiguration der Suchanfrage. Die
Methode gibt ein Query&ndash;Objekt zurück, das einem Python&ndash;Dictionary (Hashtabelle)
entspricht.  Diese Methode dient als Hilfestellung für den Benutzer der API.
Theoretisch kann der Benutzer die Query auch manuell zusammenbauen. <tt class="docutils literal"><span class="pre">Kwargs</span></tt>
ist eine optionale Liste aus Key&ndash;Value&ndash;Paaren. Für weitere Informationen und
Konfigurationsparameter siehe <em>libhugin</em>&ndash;API <a class="reference internal" href="rst/index.html#queryapi" id="id7">[Link&ndash;30]</a>.</p>
<p><tt class="docutils literal"><span class="pre">submit(query):</span></tt> Schnittstelle um eine Suchanfrage zu starten. Die Methode
gibt eine Liste mit gefundenen Metadaten als <em>Ergebnisobjekte</em> zurück.</p>
<p>Die Methode initialisiert eine Downloadqueue und einen Zwischenspeicher (Cache),
falls dieser vom Benutzer über die Query nicht deaktiviert wurde. Anschließend
generiert sie für jeden Provider eine sogenannte <em>Job</em>&ndash;Struktur. Diese
<em>Job</em>&ndash;Struktur kapselt jeweils einen Provider, die Suchanfrage und die
Zwischenergebnisse, die während der Suchanfrage generiert werden.</p>
<p>Zur Veranschaulichung wird eine leere <em>Job</em>&ndash;Struktur in Python&ndash;Notation
gezeigt:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">job_structure</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">&#39;url&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>          <span class="c"># URL die als nächstes von Downloadqueue geladen werden soll</span>
    <span class="s">&#39;provider&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>     <span class="c"># Referenz auf Provider--Plugin</span>
    <span class="s">&#39;future&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>       <span class="c"># Referenz auf Future Objekt bei async. Ausführung</span>
    <span class="s">&#39;response&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>     <span class="c"># Ergebnis des Downloads, Http Response</span>
    <span class="s">&#39;return_code&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>  <span class="c"># Return Code der Http Anfrage</span>
    <span class="s">&#39;retries_left&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span> <span class="c"># Anzahl der noch übrigen Versuche</span>
    <span class="s">&#39;done&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>         <span class="c"># Flag das gesetzt wird wenn Job fertig ist</span>
    <span class="s">&#39;result&#39;</span><span class="p">:</span> <span class="bp">None</span>        <span class="c"># Ergebnis der Suchanfrage</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Nachdem ein Job fertiggestellt wurde, wird er in ein <em>Ergebnisobjekt</em> gekapselt.
Am Ende der <tt class="docutils literal"><span class="pre">submit()</span></tt>&ndash;Methode wird eine Liste mit <em>Ergebnisobjekten</em>
an den Aufrufer zurückgegeben. Das <em>Ergebnisobjekt</em> kapselt die folgenden
Informationen:</p>
<blockquote>
<div><ul class="simple">
<li>Provider, welcher das Ergebnis geliefert hat.</li>
<li>Suchparemeter, welche für die Suchanfrage verwendet wurden.</li>
<li>Metadatenart, Movie oder Person.</li>
<li>Anzahl der Downloadversuche.</li>
<li>Das eigentliche Ergebnis als Hashtabelle.</li>
</ul>
</div></blockquote>
<p>Der prinzipielle Ablauf der <tt class="docutils literal"><span class="pre">submit()</span></tt>&ndash;Methode wird in Abbildung
 dargestellt.</p>
<div class="figure align-center" id="fig-submit">
<a class="reference internal image-reference" href="../../_images/submit.pdf"><img alt="Prinzipieller Ablauf der Submit--Methode" src="../../_images/submit.pdf" style="width: 50%;" /></a>
<p class="caption">Prinzipieller Ablauf der Submit&ndash;Methode.</p>
</div>
<p><tt class="docutils literal"><span class="pre">submit_async()</span></tt>: Methode für eine asynchrone Nutzung der API. Diese führt
<tt class="docutils literal"><span class="pre">submit()</span></tt> asynchron aus und gibt ein Python&ndash;<em>Future&ndash;Objekt</em> zurück,
welches die Anfrage kapselt. Durch Aufrufen der <tt class="docutils literal"><span class="pre">done()</span></tt>&ndash;Methode auf dem
<em>Future&ndash;Objekt</em>, kann festgestellt werden ob die Suchanfrage bereits fertig ist.
Ein Aufruf der <tt class="docutils literal"><span class="pre">result()</span></tt>&ndash;Methode auf dem <em>Future&ndash;Objekt</em> liefert das
eigentliche <em>Ergebnisobjekt</em> zurück. Für mehr Informationen siehe Python API
<a class="reference internal" href="rst/index.html#futures" id="id8">[Link&ndash;31]</a>.</p>
<p><tt class="docutils literal"><span class="pre">provider_plugins(pluginname=None)</span></tt>: Diese Methode gibt eine Liste mit den
Provider&ndash;Plugins zurück oder bei Angabe eines Plugins, dieses direkt. Mit
<tt class="docutils literal"><span class="pre">pluginname=None</span></tt> wird der Standardwert gesetzt, falls kein Wert übergeben
wird.</p>
<p><tt class="docutils literal"><span class="pre">postprocessor_plugins(pluginname=None)</span></tt>: Analog zu <tt class="docutils literal"><span class="pre">provider_plugins()</span></tt>.</p>
<p><tt class="docutils literal"><span class="pre">converter_plugins(pluginname=None)</span></tt>: Analog zu <tt class="docutils literal"><span class="pre">provider_plugins()</span></tt>.</p>
<p><tt class="docutils literal"><span class="pre">cancel()</span></tt>: Diese Methode dient zum Abbrechen einer asynchronen Suchanfrage.
Hier sollte anschließend noch die <tt class="docutils literal"><span class="pre">clean_up()</span></tt>&ndash;Methode aufgerufen werden um
alle Ressourcen wieder freizugeben.</p>
<p><tt class="docutils literal"><span class="pre">clean_up()</span></tt>: Methode zum Aufräumen nach dem Abbrechen einer asynchronen
Suchanfrage. Die Methode blockt solange noch nicht alle Ressourcen freigegeben
wurden.</p>
<p><strong>Queue:</strong>
Die Queue kapselt die Parameter der Suchanfrage. Sie wird direkt mit
den Parametern der Suchanfrage instanziiert, hierbei werden bestimmte Werte, die
übergeben werden, validiert und es werden <em>Standardwerte</em> gesetzt.</p>
<p><strong>Cache:</strong>
Der Cache wird intern verwendet, um erfolgreiche Suchanfragen persistent
zwischenzuspeichern. So können die Daten bei wiederholter Anfrage aus dem Cache
geladen werden. Dadurch gewinnt man Geschwindigkeit und der Metadatenanbieter
wird entlastet. Zum persistenten Speichern wird ein Python&ndash;Shelve (siehe
<a class="reference internal" href="rst/index.html#shelve" id="id9">[Link&ndash;32]</a>) verwendet.</p>
<p><tt class="docutils literal"><span class="pre">open(path,</span> <span class="pre">cache_name)</span></tt>: Öffnet den übergebenen Cache.</p>
<p><tt class="docutils literal"><span class="pre">read(key)</span></tt>: Liest Element an Position <em>key</em> aus dem Cache.</p>
<p><tt class="docutils literal"><span class="pre">write(key,</span> <span class="pre">value)</span></tt>: Schreibt das Element <tt class="docutils literal"><span class="pre">value</span></tt> an Position <tt class="docutils literal"><span class="pre">key</span></tt> in den
Cache.</p>
<p><tt class="docutils literal"><span class="pre">close()</span></tt>: Schließt den Cache.</p>
<p><strong>Downloadqueue:</strong>
Die Downloadqueue ist für den eigentlichen Download der Daten zuständig. Sie
arbeitet mit den oben genannten <em>Job</em>&ndash;Strukturen. Die Provider&ndash;Plugins müssen
so keine eigene Downloadqueue implementieren.</p>
<p><tt class="docutils literal"><span class="pre">push(job)</span></tt>: Fügt einen <tt class="docutils literal"><span class="pre">Job</span></tt> der Downloadqueue hinzu.</p>
<p><tt class="docutils literal"><span class="pre">pop()</span></tt>: Holt den nächsten fertigen <tt class="docutils literal"><span class="pre">Job</span></tt> aus der Downloadqueue.</p>
<p><tt class="docutils literal"><span class="pre">running_jobs()</span></tt>: Gibt die Anzahl der <tt class="docutils literal"><span class="pre">Jobs</span></tt> die in Verarbeitung sind zurück.</p>
<p><strong>GenreNormalize:</strong>
GenreNormalize kann von den Provider&ndash;Plugins verwendet werden, um das Genre zu
normalisieren. Hierzu müssen die Provider eine Genre&ndash;Mapping&ndash;Datei erstellen.
Für mehr Informationen siehe auch API <a class="reference internal" href="rst/index.html#movieprovider" id="id10">[Link&ndash;29]</a>.</p>
<p><tt class="docutils literal"><span class="pre">normalize_genre(genre)</span></tt>: Normalisiert ein Genre anhand einer festgelegten
Abbildungstabelle.</p>
<p><tt class="docutils literal"><span class="pre">normalize_genre_list(genrelist)</span></tt>: Normalisiert eine Liste aus Genres jeweils
mittels der <tt class="docutils literal"><span class="pre">normalize_genre()</span></tt> Funktion.</p>
<p>Die Problematik der Genrenormalisierung ist Bestandteil der Bachelorarbeit.</p>
<p><strong>PluginHandler:</strong>
Das Pluginsystem wurde mit Hilfe der <em>Yapsy</em>&ndash;Bibliothek (siehe
<a class="reference internal" href="rst/index.html#yapsy" id="id11">[Link&ndash;33]</a>) umgesetzt. Es bietet folgende Schnittstellen nach außen:</p>
<p><tt class="docutils literal"><span class="pre">activate_plugin_by_category(category)</span></tt>: Aktiviert Plugins einer bestimmten
Kategorie.</p>
<p><tt class="docutils literal"><span class="pre">deactivate_plugin_by_category(category)</span></tt>: Deaktiviert Plugins einer bestimmten
Kategorie.</p>
<p><tt class="docutils literal"><span class="pre">get_plugins_from_category(category)</span></tt>: Liefert Plugins einer bestimmten
Kategorie zurück.</p>
<p><tt class="docutils literal"><span class="pre">is_activated(category)</span></tt>: Gibt einen Wahrheitswert zurück, wenn eine Kategorie
bereits aktiviert ist.</p>
</div>
<div class="section" id="plugininterface-libhugin-harvest">
<h4>5.2.2 Plugininterface libhugin&ndash;harvest<a class="headerlink" href="#plugininterface-libhugin-harvest" title="Permalink to this headline">¶</a></h4>
<p><em>Libhugin&ndash;harvest</em> bietet für jeden Plugintyp eine bestimmte Schnittstelle an,
die vom jeweiligen Plugintyp implementiert werden muss (siehe Abbildung ).</p>
<div class="figure align-center" id="fig-harvest">
<a class="reference internal image-reference" href="../../_images/harvest-plugin-interface.pdf"><img alt="Libhugin--harvest Plugin Schnittstellenbeschreibung" src="../../_images/harvest-plugin-interface.pdf" style="width: 100%;" /></a>
<p class="caption">Libhugin&ndash;harvest Plugin Schnittstellenbeschreibung.</p>
</div>
<p>Diese <em>libhugin&ndash;harvest</em> Plugins haben die Möglichkeiten von verschiedenen
Oberklassen abzuleiten (siehe Abbildung ).
Mehrfachvererbung ist unter Python möglich.</p>
<div class="figure align-center" id="table-harvest-plugins">
<center><table border="1" class="docutils">
<colgroup>
<col width="22%" />
<col width="17%" />
<col width="17%" />
<col width="45%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="headalign-center"><em>Schnittstellenname</em></th>
<th class="headalign-center"><em>text</em></th>
<th class="headalign-center"><em>grafisch</em></th>
<th class="headalign-center"><em>Beschreibung</em></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td class="align-center"><em>IMovieProvider</em></td>
<td class="align-center"><span class="math">\(\checkmark\)</span></td>
<td class="align-center">&nbsp;</td>
<td class="align-center">Provider&ndash;Plugins, liefert Filmmetadaten</td>
</tr>
<tr class="row-odd"><td class="align-center"><em>IMoviePictureProvider</em></td>
<td class="align-center">&nbsp;</td>
<td class="align-center"><span class="math">\(\checkmark\)</span></td>
<td class="align-center">Provider&ndash;Plugins, liefert Filmmetadaten</td>
</tr>
<tr class="row-even"><td class="align-center"><em>IPersonProvider</em></td>
<td class="align-center"><span class="math">\(\checkmark\)</span></td>
<td class="align-center">&nbsp;</td>
<td class="align-center">Provider&ndash;Plugins, liefert Personenmetadaten</td>
</tr>
<tr class="row-odd"><td class="align-center"><em>IPersonPictureProvider</em></td>
<td class="align-center">&nbsp;</td>
<td class="align-center"><span class="math">\(\checkmark\)</span></td>
<td class="align-center">Provider&ndash;Plugins, liefert Personenmetadaten</td>
</tr>
<tr class="row-even"><td class="align-center"><em>IPostProcessor</em></td>
<td class="align-center">&nbsp;</td>
<td class="align-center">&nbsp;</td>
<td class="align-center">Postprocessor&ndash;Plugins für Metadatennachbearbeitung</td>
</tr>
<tr class="row-odd"><td class="align-center"><em>IConverter</em></td>
<td class="align-center">&nbsp;</td>
<td class="align-center">&nbsp;</td>
<td class="align-center">Converter&ndash;Plugins für verschiedene Metadatenformate</td>
</tr>
</tbody>
</table>
<p class="caption">Libhugin Plugininterfaces für die verschiedenen libhugin&ndash;harvest Plugins.</p>
</center></div><p id="table-harvest-plugins">Plugins, die für die Metadatenbeschaffung zuständig sind, müssen von den
Providerklassen ableiten (siehe Abbildung ). Des
Weiteren müssen diese Plugins die folgenden Methoden implementieren:</p>
<p><tt class="docutils literal"><span class="pre">build_url(search_params)</span></tt>: Diese Methode bekommt die <em>Such&ndash;Parameter</em>
übergeben und baut aus diesen die <em>Such&ndash;URL</em> zusammen.
Für weitere Informationen siehe auch API <a class="reference internal" href="rst/index.html#buildurl" id="id12">[Link&ndash;34]</a>.</p>
<p><tt class="docutils literal"><span class="pre">parse_response(response,</span> <span class="pre">search_params)</span></tt>: Diese Methode bekommt die
HTTP&ndash;Response zu der vorher von <tt class="docutils literal"><span class="pre">build_url(search_params)</span></tt> erstellten
<em>Anfrage&ndash;URL</em>. Die Methode ist für das Extrahieren der Attribute aus dem Response
zuständig. Sie gibt entweder eine neue URL zurück, die angefordert werden soll,
oder befüllt eine Hashtabelle mit gefundenen Attributen und gibt diese zurück.
Für weitere Informationen siehe auch <em>libhugin</em>&ndash;API <a class="reference internal" href="rst/index.html#parseresponse" id="id13">[Link&ndash;35]</a>.</p>
<p><tt class="docutils literal"><span class="pre">supported_attrs()</span></tt>: Diese Methode gibt eine Liste mit Attributen zurück die
vom Provider befüllt werden.</p>
<p>Plugins, die für die Metadatennachbearbeitung zuständig sind, müssen von
<em>IPostProcessor</em> ableiten (siehe Abbildung ).
Des Weiteren müssen diese Plugins die folgenden Methoden implementieren:</p>
<p><tt class="docutils literal"><span class="pre">process(results,</span> <span class="pre">**kwargs)</span></tt>: Diese Methode bekommt ein Liste mit
<em>Ergebnisobjekten</em> übergeben und manipuliert dieses nach bestimmten Kriterien
oder gibt eine neue Liste mit <em>Ergebnisobjekten</em> zurück.</p>
<p><tt class="docutils literal"><span class="pre">parameters()</span></tt>: Die Methode listet die Keyword&ndash;Argumente für ein
<em>Postprocessor</em>&ndash;Plugin.</p>
<p>Plugins, die für das Konvertieren der Ergebnisse in bestimmte Metadatenformate
zuständig sind, müssen von <em>IConverter</em> ableiten (siehe Abbildung
).  Des Weiteren müssen diese Plugins die folgenden
Methoden implementieren:</p>
<p><tt class="docutils literal"><span class="pre">convert(results,</span> <span class="pre">**kwargs)</span></tt>: Diese Methode bekommt ein <em>Ergebnisobjekt</em>
übergeben und gibt die String&ndash;Repräsentation von diesem in einem spezifischen
Metadatenformat wieder.</p>
<p><tt class="docutils literal"><span class="pre">parameters()</span></tt>: Die Methode listet die Keyword&ndash;Argumente für ein
Converter&ndash;Plugin.</p>
</div>
<div class="section" id="klassenubersicht-libhugin-analyze">
<h4>5.2.3 Klassenübersicht <em>libhugin&ndash;analyze</em><a class="headerlink" href="#klassenubersicht-libhugin-analyze" title="Permalink to this headline">¶</a></h4>
<p>Dieser Teil der <em>libhugin</em>&ndash;Bibliothek ist für die nachträgliche Metadatenaufbereitung
zuständig (siehe Abbildung ).</p>
<div class="figure align-center" id="fig-klassenuebersicht-analyze">
<a class="reference internal image-reference" href="../../_images/klassenuebersicht-analyze-svg.pdf"><img alt="Libhugin--analyze Klassenübersicht und Interaktion" src="../../_images/klassenuebersicht-analyze-svg.pdf" style="width: 100%;" /></a>
<p class="caption"><em>Libhugin&ndash;analyze</em> Klassenübersicht mit Klasseninteraktion.</p>
</div>
<p><strong>Session:</strong>
Diese Klasse bildet den Grundstein für <em>libhugin&ndash;analyze</em>. Sie stellt analog
zur <em>libhugin&ndash;harvest</em> Session die API bereit.</p>
<p><tt class="docutils literal"><span class="pre">add(metadata_file,</span> <span class="pre">helper)</span></tt>: Diese Methode dient zum Importieren externer
Metadaten. Sie erwartet eine Datei mit Metadaten (<tt class="docutils literal"><span class="pre">metadata_file</span></tt>) und als
Callback&ndash;Funktion eine <em>Helferfunktion</em> welche weiß, wie die Metadaten zu
extrahieren sind.</p>
<p>Kurzer Exkurs zur <em>Helferfunktion</em>. Die <em>Helferfunktion</em> hat folgende
Schnittstelle:</p>
<blockquote>
<div><tt class="docutils literal"><span class="pre">helper_func(metadata,</span> <span class="pre">attr_mask)</span></tt></div></blockquote>
<p>Der <tt class="docutils literal"><span class="pre">attr_mask</span></tt> Parameter gibt die Abbildungen der Attribute zwischen der
<em>externen</em> und <em>internen</em> Datenbank an.</p>
<p>Wir nehmen an unsere Metadaten sind im <em>JSON</em>&ndash;Format gespeichert, beim Einlesen
der <em>JSON&ndash;Datei</em> wird diese zu einer <a class="reference internal" href="rst/index.html#term-hashtabelle"><em class="xref std std-term">Hashtabelle</em></a> konvertiert, die wie
folgt aussieht:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">metadata_the_movie</span> <span class="o">=</span> <span class="o">{</span>
    <span class="s1">&#39;Filmtitel&#39;</span> <span class="o">=</span> <span class="s1">&#39;The Movie&#39;</span>,
    <span class="s1">&#39;Erscheinungsjahr&#39;</span> <span class="o">=</span> <span class="s1">&#39;2025&#39;</span>,
    <span class="s1">&#39;Inhaltsbeschreibung&#39;</span> <span class="o">=</span> <span class="s1">&#39;Es war einmal vor langer langer Zeit...&#39;</span>
<span class="o">}</span>
</pre></div>
</div>
<p>Folgendes Python&ndash;Snippet zeigt nun die Funktionalität der <em>Helferfunktion</em>,
welche die Abbildung von externer Quelle auf die interne Datenbank verdeutlicht:</p>
<div class="highlight-python"><div class="highlight"><pre> <span class="n">attr_mask</span> <span class="o">=</span> <span class="p">{</span>
     <span class="s">&#39;Filmtitel&#39;</span><span class="p">:</span> <span class="s">&#39;title&#39;</span><span class="p">,</span>
     <span class="c"># Filmtitel = Attributname unter welchem der Filmtitel</span>
     <span class="c"># in der externen Metadatendatei hinterlegt ist</span>
     <span class="c"># title = Attributname unter dem der Titel</span>
     <span class="c"># in der internen Datenbank abgelegt werden soll</span>
     <span class="c">#</span>
     <span class="c"># folgenden zwei Attribute analog zum Filmtitel</span>
     <span class="s">&#39;Erscheinungsjahr&#39;</span> <span class="o">=</span> <span class="s">&#39;year&#39;</span><span class="p">,</span>
     <span class="s">&#39;Inhaltsbeschreibung&#39;</span><span class="p">:</span> <span class="s">&#39;plot&#39;</span>
 <span class="p">}</span>

<span class="k">def</span> <span class="nf">helper</span><span class="p">(</span><span class="n">metadata</span><span class="p">,</span> <span class="n">attr_mask</span><span class="p">):</span>
    <span class="n">internal_repr</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">for</span> <span class="n">metadata_key</span><span class="p">,</span> <span class="n">internal_db_key</span> <span class="ow">in</span> <span class="n">attr_mask</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">internal_repr</span><span class="p">[</span><span class="n">internal_db_key</span><span class="p">]</span> <span class="o">=</span> <span class="n">metadata</span><span class="p">[</span><span class="n">metadata_key</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">internal_repr</span>
</pre></div>
</div>
<p>Weitere Methoden der Session&ndash;Klasse:</p>
<p><tt class="docutils literal"><span class="pre">analyzer_plugins(pluginname=None)</span></tt>: Liefert eine Liste mit den vorhandenen
Analyzer&ndash;Plugins zurück. Bei Angabe eines bestimmten Pluginnamen, wird dieses
Plugin direkt zurückgeliefert.</p>
<p><tt class="docutils literal"><span class="pre">modifier_plugins(pluginname=None)</span></tt>: Analog zu <tt class="docutils literal"><span class="pre">analyzer_plugins()</span></tt>.</p>
<p><tt class="docutils literal"><span class="pre">comparator_plugins(pluginname=None)</span></tt>: Analog zu <tt class="docutils literal"><span class="pre">analyzer_plugins()</span></tt>.</p>
<p>Folgende weitere Methoden erlauben es, die <em>libhugin&ndash;analyze</em> Plugins auf <em>externe</em>
Daten anzuwenden:</p>
<p><tt class="docutils literal"><span class="pre">analyze_raw(plugin,</span> <span class="pre">attr,</span> <span class="pre">data)</span></tt>: Wrapper Methode, welche es erlaubt die
Analyzer&ndash;Plugins auf <em>externen</em> Daten auszuführen.</p>
<p><tt class="docutils literal"><span class="pre">modify_raw(plugin,</span> <span class="pre">attr,</span> <span class="pre">data)</span></tt>: Analog zu <tt class="docutils literal"><span class="pre">analyze_raw(plugin,</span> <span class="pre">attr,</span> <span class="pre">data)</span></tt>.</p>
<p><tt class="docutils literal"><span class="pre">compare_raw(plugin,</span> <span class="pre">attr,</span> <span class="pre">data)</span></tt>: Analog zu <tt class="docutils literal"><span class="pre">analyze_raw(plugin,</span> <span class="pre">attr,</span> <span class="pre">data)</span></tt>.</p>
<p><tt class="docutils literal"><span class="pre">get_database()</span></tt>: Liefert die interne Datenbank (Python&ndash;Dictionary) zurück.</p>
<p>Für das Öffnen und Schließen der internen Datenbank der Session gibt es folgende
zwei Methoden:</p>
<p><tt class="docutils literal"><span class="pre">database_open(databasename)</span></tt>: Lädt die angegebene Datenbank.</p>
<p><tt class="docutils literal"><span class="pre">database_close()</span></tt>: Schließt und schreibt die aktuelle Datenbank persistent auf
die Festplatte.</p>
<p><strong>Movie:</strong>
Die Movie Klasse repräsentiert ein Metadatenobjekt welches in der internen
Datenbank zur Analyse gespeichert wird. Es enthält folgende Attribute:</p>
<blockquote>
<div><ul class="simple">
<li>Schlüssel, über den die Metadaten eindeutig zugeordnet werden können.</li>
<li>Pfad zur Metadatendatei.</li>
<li>Hashtabelle mit den Metadaten.</li>
<li>Hashtabelle mit Analyzer&ndash;Analysedaten.</li>
<li>Hashtabelle mit Comparator&ndash;Analysedaten.</li>
</ul>
</div></blockquote>
<p><strong>PluginHandler:</strong>
Die PluginHandler&ndash;Klasse hat analog zum <em>libhugin&ndash;harvest</em> die folgenden
Schnittstellen:</p>
<p><tt class="docutils literal"><span class="pre">activate_plugin_by_category(category)</span></tt>: Aktiviert Plugins einer bestimmten
Kategorie.</p>
<p><tt class="docutils literal"><span class="pre">deactivate_plugin_by_category(category)</span></tt>: Deaktiviert Plugins einer bestimmten
Kategorie.</p>
<p><tt class="docutils literal"><span class="pre">get_plugins_from_category(category)</span></tt>: Liefert Plugins einer bestimmten
Kategorie zurück.</p>
<p><tt class="docutils literal"><span class="pre">is_activated(category)</span></tt>: Gibt einen Wahrheitswert zurück, wenn eine Kategorie
bereits aktiviert ist.</p>
</div>
<div class="section" id="plugininterface-libhugin-analyze">
<h4>5.2.4 Plugininterface libhugin&ndash;analyze<a class="headerlink" href="#plugininterface-libhugin-analyze" title="Permalink to this headline">¶</a></h4>
<p><em>Libhugin&ndash;analyze</em> bietet für jeden Plugintyp eine bestimmte Schnittstelle an,
die vom jeweiligen Plugintyp implementiert werden muss (siehe Abbildung ).</p>
<div class="figure align-center" id="fig-analyze">
<a class="reference internal image-reference" href="../../_images/analyze-plugin-interface.pdf"><img alt="Libhugin--analyze Plugin Schnittstellenbeschreibung" src="../../_images/analyze-plugin-interface.pdf" style="width: 100%;" /></a>
<p class="caption">Libhugin&ndash;analyze Plugin Schnittstellenbeschreibung.</p>
</div>
<p>Die <em>libhugin&ndash;analyze</em> Plugins haben die Möglichkeiten, von den folgenden
Oberklassen abzuleiten:</p>
<div class="figure align-center" id="table-analyze-plugins">
<center><table border="1" class="docutils">
<colgroup>
<col width="23%" />
<col width="77%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="headalign-center"><em>Schnittstellenname</em></th>
<th class="headalign-center"><em>Beschreibung</em></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td class="align-center"><em>IModifier</em></td>
<td class="align-center">Modifier&ndash;Plugins, die Metadaten direkt modifizieren.</td>
</tr>
<tr class="row-odd"><td class="align-center"><em>IAnalyzer</em></td>
<td class="align-center">Analyzer&ndash;Plugins, die für die Analyse der Metadaten zuständig sind.</td>
</tr>
<tr class="row-even"><td class="align-center"><em>IComparator</em></td>
<td class="align-center">Comparator&ndash;Plugins, die Metadaten für statistische Zwecke vergleichen.</td>
</tr>
</tbody>
</table>
<p class="caption">Libhugin Plugininterfaces für die verschiedenen libhugin&ndash;analyze Plugins.</p>
</center></div><p id="table-analyze-plugins">Plugins, die Metadaten modifizieren, müssen von <em>IModifier</em> ableiten (siehe
Abbildung ). Diese Plugins müssen folgende Methoden
implementieren:</p>
<p><tt class="docutils literal"><span class="pre">modify(movie,</span> <span class="pre">**kwargs)</span></tt>: Die Standardmethode für Modifierplugins. Die
Methode bekommt ein <em>Movie&ndash;Objekt</em> und optional Keyword&ndash;Argumente übergeben.
Die nötigen Keyword&ndash;Argumente können über die <tt class="docutils literal"><span class="pre">parameters()</span></tt>&ndash;Methode abgefragt
werden.</p>
<p><tt class="docutils literal"><span class="pre">modify_all(database,</span> <span class="pre">**kwargs)</span></tt>: Analog zur <tt class="docutils literal"><span class="pre">modify(movie,</span>
<span class="pre">kwagrs)</span></tt>&ndash;Methode. Diese Methode arbeitet jedoch nicht mit nur einem Movie
Objekt sondern mit der ganzen ,,Datenbank&quot;.</p>
<p><tt class="docutils literal"><span class="pre">parameters()</span></tt>: Die Methode listet die Keyword&ndash;Argumente für ein Modifierplugin.</p>
<p>Plugins, die für die Analyse der Metadaten zuständig sind, müssen von <em>IAnalyzer</em>
ableiten (siehe Abbildung ). Diese Plugins schreiben
ihre Analysedaten in das <em>Analyzerdata</em>&ndash;Attribut des <em>Movie&ndash;Objekts</em>.  Sie
müssen folgende Methoden implementieren:</p>
<p><tt class="docutils literal"><span class="pre">analyze(movie,</span> <span class="pre">**kwargs)</span></tt>: Die Standardmethode für Analyzerplugins. Die
Anwendung hier ist analog den Modifierplugins.</p>
<p><tt class="docutils literal"><span class="pre">analyze_all(database,</span> <span class="pre">**kwargs)</span></tt>: Analog Modifierplugins.</p>
<p><tt class="docutils literal"><span class="pre">parameters()</span></tt>: Analog zu Modifierplugins.</p>
<p>Plugins, die Metadaten für statistische Zwecke analysieren und vergleichen
können, müssen von <em>IComparator</em> ableiten (siehe Abbildung
). Des Weiteren müssen diese Plugins folgende
Methoden implementieren:</p>
<p><tt class="docutils literal"><span class="pre">compare(movie_a,</span> <span class="pre">movie_b,</span> <span class="pre">**kwargs)</span></tt>: Die Standardmethode für
Comparatorplugins. Diese erwartet als Parameter zwei <em>Movie&ndash;Objekte</em>, die
verglichen werden sollen. Die Keyword&ndash;Argumente können analog den Modifier&ndash;
und Analyzerplugins verwendet werden.</p>
<p><tt class="docutils literal"><span class="pre">compare_all(database,</span> <span class="pre">**kwargs)</span></tt>: Diese Methode vergleicht alle
<em>Movie&ndash;Objekt</em> Kombinationen aus der Datenbank.</p>
<p><tt class="docutils literal"><span class="pre">parameters()</span></tt>: Analog zu Modifier- und Analyzerplugins.</p>
</div>
</div>
<div class="section" id="bibliothek-dateistruktur">
<h3>5.3 Bibliothek Dateistruktur<a class="headerlink" href="#bibliothek-dateistruktur" title="Permalink to this headline">¶</a></h3>
<p>Die folgende Auflistung zeigt die Ordnerstruktur der Bibliothek.  Normalerweise
enthält unter Python jeder Ordner eine <cite>__init__.py&ndash;Datei</cite> welche diesen Ordner
dann als Modul erscheinen lässt. Diese wurden wegen der Übersichtlichkeit
weggelassen.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">hugin</span>
<span class="o">|--</span> <span class="n">harvest</span><span class="o">/</span>                           <span class="c"># libhugin--harvest Ordner</span>
<span class="o">|</span>   <span class="o">|--</span> <span class="n">session</span><span class="o">.</span><span class="n">py</span>                     <span class="c"># Implementierungen der Session</span>
<span class="o">|</span>   <span class="o">|--</span> <span class="n">query</span><span class="o">.</span><span class="n">py</span>                       <span class="c"># Implementierungen der Query</span>
<span class="o">|</span>   <span class="o">|--</span> <span class="n">cache</span><span class="o">.</span><span class="n">py</span>                       <span class="c"># Implementierungen vom Cache</span>
<span class="o">|</span>   <span class="o">|--</span> <span class="n">downloadqueue</span><span class="o">.</span><span class="n">py</span>               <span class="c"># Implementierungen der Downloadqueue</span>
<span class="o">|</span>   <span class="o">|--</span> <span class="n">pluginhandler</span><span class="o">.</span><span class="n">py</span>               <span class="c"># Implementierungen vom PluginHandler</span>
<span class="o">|</span>   <span class="o">|</span>
<span class="o">|</span>   <span class="o">|--</span> <span class="n">converter</span><span class="o">/</span>                      <span class="c"># Ordner für Converter--Plugins</span>
<span class="o">|</span>   <span class="o">|--</span> <span class="n">postprocessor</span><span class="o">/</span>                  <span class="c"># Ordner für Postprocessor--Plugins</span>
<span class="o">|</span>   <span class="o">|--</span> <span class="n">provider</span><span class="o">/</span>                       <span class="c"># Ordner für Provider--Plugins</span>
<span class="o">|</span>   <span class="o">|</span>   <span class="o">|--</span> <span class="n">genrefiles</span><span class="o">/</span>                 <span class="c"># Genre Dateien für ,,Normalisierung&quot;</span>
<span class="o">|</span>   <span class="o">|</span>   <span class="o">|</span>   <span class="o">|--</span> <span class="n">normalized_genre</span><span class="o">.</span><span class="n">dat</span>    <span class="c"># Globale Normalisierungstabelle Genre</span>
<span class="o">|</span>   <span class="o">|</span>   <span class="o">|--</span> <span class="n">result</span><span class="o">.</span><span class="n">py</span>                   <span class="c"># Implementierung ,,ErgebnisObjekt&quot;</span>
<span class="o">|</span>   <span class="o">|</span>   <span class="o">|--</span> <span class="n">genrenorm</span><span class="o">.</span><span class="n">py</span>                <span class="c"># Implementierung Genrenormalisierung</span>
<span class="o">|--</span> <span class="n">utils</span><span class="o">/</span>                              <span class="c"># Gemeinsame Hilfsfunktionen</span>
<span class="o">|</span>   <span class="o">|--</span> <span class="n">logutil</span><span class="o">.</span><span class="n">py</span>
<span class="o">|</span>   <span class="o">|--</span> <span class="n">stringcompare</span><span class="o">.</span><span class="n">py</span>
<span class="o">|</span>
<span class="o">|--</span> <span class="n">analyze</span><span class="o">/</span>                            <span class="c"># libhugin--analyze Ordner</span>
<span class="o">|</span>   <span class="o">|--</span> <span class="n">session</span><span class="o">.</span><span class="n">py</span>                      <span class="c"># Implementierungen der o.g. Klassen</span>
<span class="o">|</span>   <span class="o">|--</span> <span class="n">movie</span><span class="o">.</span><span class="n">py</span>                        <span class="c"># Implementierung des ,,Movie&quot; Objektes</span>
<span class="o">|</span>   <span class="o">|--</span> <span class="n">pluginhandler</span><span class="o">.</span><span class="n">py</span>
<span class="o">|</span>   <span class="o">|--</span> <span class="n">rake</span><span class="o">.</span><span class="n">py</span>                         <span class="c"># Implementierung Rake Algorithmus</span>
<span class="o">|</span>   <span class="o">|--</span> <span class="n">analyzer</span><span class="o">/</span>                       <span class="c"># Ordner für Analyzer--Plugins</span>
<span class="o">|</span>   <span class="o">|--</span> <span class="n">comparator</span><span class="o">/</span>                     <span class="c"># Ordner für Comparator--Plugins</span>
<span class="o">|</span>   <span class="o">|--</span> <span class="n">modifier</span><span class="o">/</span>                       <span class="c"># Ordner für Modifier--Plugins</span>
<span class="o">|--</span> <span class="n">filewalk</span><span class="o">.</span><span class="n">py</span>                         <span class="c"># Helferfunktion für Import/Export</span>
</pre></div>
</div>
</div>
</div>
<span id="document-rst/VI/index"></span><div class="section" id="implementierung">
<h2>6 Implementierung<a class="headerlink" href="#implementierung" title="Permalink to this headline">¶</a></h2>
<p>Im Folgenden soll die API und die implementierten Plugins vorgestellt werden.</p>
<div class="section" id="libhugin-harvest-api">
<h3>6.1 Libhugin&ndash;harvest API<a class="headerlink" href="#libhugin-harvest-api" title="Permalink to this headline">¶</a></h3>
<p>Die API wurde sehr einfach gehalten und ermöglicht dadurch dem Benutzer ein
schnelles Einarbeiten. Folgendes Beispiel, in der interaktiven Python&ndash;Shell,
zeigt die typische Benutzung der API:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hugin.harvest.session</span> <span class="kn">import</span> <span class="n">Session</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">session</span> <span class="o">=</span> <span class="n">Session</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">query</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">create_query</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s">&#39;Prometheus&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
<span class="go">[&lt;TMDBMovie &lt;picture, movie&gt; : Prometheus (2012)&gt;,</span>
<span class="go">&lt;OFDBMovie &lt;movie&gt; :  Prometheus - Dunkle Zeichen (2012)&gt;,</span>
<span class="go">&lt;OMDBMovie &lt;movie&gt; : Prometheus (2012)&gt;]</span>
</pre></div>
</div>
<p>Für weitere Beispiele siehe offizielle <em>libhugin&ndash;harvest</em> API <a class="reference internal" href="rst/index.html#huginapi" id="id1">[Link&ndash;36]</a>.</p>
</div>
<div class="section" id="libhugin-harvest-plugins">
<h3>6.2 Libhugin&ndash;harvest Plugins<a class="headerlink" href="#libhugin-harvest-plugins" title="Permalink to this headline">¶</a></h3>
<div class="section" id="provider-plugins">
<h4>6.2.1 Provider&ndash;Plugins<a class="headerlink" href="#provider-plugins" title="Permalink to this headline">¶</a></h4>
<p>Libhugin&ndash;harvest hat aktuell verschiedene Provider implementiert (siehe Abbildung
).</p>
<div class="figure align-center" id="table-provideroverview">
<center><table border="1" class="docutils">
<colgroup>
<col width="21%" />
<col width="16%" />
<col width="16%" />
<col width="16%" />
<col width="16%" />
<col width="16%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="headalign-center">&nbsp;</th>
<th class="headalign-center"><em>TMDb</em></th>
<th class="headalign-center"><em>OFDb</em></th>
<th class="headalign-center"><em>Videobuster</em></th>
<th class="headalign-center"><em>Filmstarts</em></th>
<th class="headalign-center"><em>OMDb</em></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td class="align-center"><em>Priorität</em></td>
<td class="align-center">90</td>
<td class="align-center">80</td>
<td class="align-center">70</td>
<td class="align-center">65</td>
<td class="align-center">65</td>
</tr>
<tr class="row-odd"><td class="align-center"><em>Providerart</em></td>
<td class="align-center">movie/person</td>
<td class="align-center">movie/person</td>
<td class="align-center">movie</td>
<td class="align-center">movie</td>
<td class="align-center">movie</td>
</tr>
<tr class="row-even"><td class="align-center"><em>Metadaten</em></td>
<td class="align-center">textuell/grafisch</td>
<td class="align-center">textuell</td>
<td class="align-center">textuell</td>
<td class="align-center">textuell</td>
<td class="align-center">textuell</td>
</tr>
<tr class="row-odd"><td class="align-center"><em>Sprache</em></td>
<td class="align-center">multilingual</td>
<td class="align-center">deutsch</td>
<td class="align-center">deutsch</td>
<td class="align-center">deutsch</td>
<td class="align-center">englisch</td>
</tr>
<tr class="row-even"><td class="align-center"><em>Unschärfesuche Online</em></td>
<td class="align-center"><span class="math">\(\times\)</span></td>
<td class="align-center"><span class="math">\(\times\)</span></td>
<td class="align-center"><span class="math">\(\times\)</span></td>
<td class="align-center"><span class="math">\(\times\)</span></td>
<td class="align-center"><span class="math">\(\times\)</span></td>
</tr>
<tr class="row-odd"><td class="align-center"><em>Unschärfesuche libhugin</em></td>
<td class="align-center"><span class="math">\(\checkmark\)</span></td>
<td class="align-center"><span class="math">\(\checkmark\)</span></td>
<td class="align-center"><span class="math">\(\checkmark\)</span></td>
<td class="align-center"><span class="math">\(\checkmark\)</span></td>
<td class="align-center"><span class="math">\(\checkmark\)</span></td>
</tr>
<tr class="row-even"><td class="align-center"><em>IMDB&ndash;Suche Online</em></td>
<td class="align-center"><span class="math">\(\checkmark\)</span></td>
<td class="align-center"><span class="math">\(\checkmark\)</span></td>
<td class="align-center"><span class="math">\(\times\)</span></td>
<td class="align-center"><span class="math">\(\times\)</span></td>
<td class="align-center"><span class="math">\(\checkmark\)</span></td>
</tr>
<tr class="row-odd"><td class="align-center"><em>IMDB&ndash;Suche  libhugin</em></td>
<td class="align-center"><span class="math">\(\checkmark\)</span></td>
<td class="align-center"><span class="math">\(\checkmark\)</span></td>
<td class="align-center"><span class="math">\(\checkmark\)</span></td>
<td class="align-center"><span class="math">\(\checkmark\)</span></td>
<td class="align-center"><span class="math">\(\checkmark\)</span></td>
</tr>
<tr class="row-even"><td class="align-center"><em>API verfügbar</em></td>
<td class="align-center"><span class="math">\(\checkmark\)</span></td>
<td class="align-center"><span class="math">\(\checkmark\)</span></td>
<td class="align-center"><span class="math">\(\times\)</span></td>
<td class="align-center"><span class="math">\(\times\)</span></td>
<td class="align-center"><span class="math">\(\checkmark\)</span></td>
</tr>
</tbody>
</table>
<p class="caption">Übersicht implementierter Provider und Funktionalität.</p>
</center></div><p id="table-provideroverview">Ein paar der Provider, wie <tt class="docutils literal"><span class="pre">Filmstarts</span></tt>, <tt class="docutils literal"><span class="pre">Videobuster</span></tt> lassen sich noch
weiter ausbauen. Diese unterstützen momentan nur textuelle Metadaten, würden
sich aber um grafische Metadaten erweitern lassen. Die in der Tabelle
festgelegten Prioritäten wurden hier willkürlich für Testzwecke vergeben. Diese
können jederzeit an die eigenen Bedürfnisse angepasst werden.</p>
</div>
<div class="section" id="postprocessor-plugins">
<h4>6.2.2 Postprocessor&ndash;Plugins<a class="headerlink" href="#postprocessor-plugins" title="Permalink to this headline">¶</a></h4>
<p>Die Postprocessor&ndash;Plugins beim <em>libgugin&ndash;harvest</em> Teil sind für die direkte
,,Nachbearbeitung&quot; der Daten gedacht.</p>
<p><strong>Compose:</strong>
Das <tt class="docutils literal"><span class="pre">Compose</span></tt>&ndash;Plugin ist das momentane Kernstück der Postprocessor&ndash;Plugins. Das
Plugin gruppiert die Ergebnisse verschiedener Onlinequellen nach Film und bietet
dem Benutzer dadurch folgende Möglichkeiten:</p>
<blockquote>
<div><ol class="arabic simple">
<li>Ergebnis komponieren.</li>
<li>Genre zusammenführen.</li>
</ol>
</div></blockquote>
<p><strong>Zu 1.):</strong> Es erlaubt dem Benutzer sich ein nach seinen Wünschen
zusammengesetztes Ergebnis zu komponieren. Der Benutzer kann über das Angeben
einer Profilmaske bestimmen, wie sich die Metadaten zusammensetzen sollen.
Hier kann er beispielsweise angeben, dass er den Filmtitel, Jahr und Cover vom
Provider <em>TMDb</em> möchte, die Inhaltsbeschreibung jedoch immer vom <em>Filmstarts</em>
Provider. Hier besteht auch die Möglichkeit eines ,,Fallbacks&quot;, falls <em>Filmstarts</em>
keine Inhaltsbeschreibung hat, dann kann auch auf andere Provider
zurückgegriffen werden.</p>
<p>Beispiel für eine Profilmaske, die TMDb als Standardprovider nimmt und die
Inhaltsbeschreibung vom OFDb&ndash;Provider nimmt. Falls keine OFDb&ndash;Inhaltsbeschreibung
vorhanden ist, dann erfolgt ein ,,Fallback&quot; auf den OMDb&ndash;Provider:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span><span class="nb">echo</span> <span class="s2">&quot;{&#39;default&#39;:[&#39;tmdbmovie&#39;], &#39;plot&#39;:[&#39;ofdbmovie&#39;, &#39;omdbmovie&#39;]}&quot;</span> &gt; profilemask
</pre></div>
</div>
<p>Wird keine Profilmaske angegeben, so werden fehlende Attribute nach
Provider&ndash;Priorität aufgefüllt.</p>
<p><strong>Zu 2.):</strong> Dieses Feature erlaubt dem Benutzer divergente Genres
beim gleichen Film zu verschmelzen. Das macht das Genre feingranularer und
behebt die genannte Problematik (siehe Abbildung )
divergenter Genres bei verschiedenen Onlinequellen. Das Genre wird hier wie
folgt zusammengesetzt:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="c"># Drei Genre der Unterschiedlichen Provider      # Zusammengeführtes Genre</span>
<span class="o">[</span>Comedy, Drama<span class="o">]</span>, <span class="o">[</span>Komödie, Drama<span class="o">]</span>, <span class="o">[</span>Erotik<span class="o">]</span> ---&gt; <span class="o">[</span>Komödie, Drama, Erotik<span class="o">]</span>
</pre></div>
</div>
<p><strong>Trim:</strong>
Dies ist vergleichsweise ein einfaches Plugin, welches dafür zuständig, ist
vorangehende und nachziehende Leerzeichen bei den Metadaten zu entfernen. Das
Plugin führt eine Bereinigung durch, diese muss nicht explizit vom
Provider&ndash;Plugin durchgeführt werden.</p>
</div>
<div class="section" id="converter-plugins">
<h4>6.2.3 Converter&ndash;Plugins<a class="headerlink" href="#converter-plugins" title="Permalink to this headline">¶</a></h4>
<p>Bei den Converter&ndash;Plugins wurde zu Demonstrationszwecken ein <em>HTML</em>&ndash;Converter
und ein <em>JSON</em>&ndash;Converter implementiert.</p>
<p>Des Weiteren wurde für den Produktiveinsatz ein XBMC <em>Nfo</em>&ndash;Converter
implementiert, dieser wird vom <em>libhugin</em>&ndash;Proxy (siehe Libhugin&ndash;Proxy,
<a class="reference internal" href="rst/index.html#libhuginproxy">7.3.1</a>) verwendet, um dem XBMC&ndash;libhugin Plugin (siehe XBMC Plugin
Integration, <a class="reference internal" href="rst/index.html#xbmcplugin">7.3</a>) die Metadaten im richtigen Format zu liefern.</p>
</div>
</div>
<div class="section" id="libhugin-analyze-api">
<span id="analyzeapiexample"></span><h3>6.3 Libhugin&ndash;analyze API<a class="headerlink" href="#libhugin-analyze-api" title="Permalink to this headline">¶</a></h3>
<p>Die API von <em>libhugin&ndash;analyze</em> ist vom Grundaufbau ähnlich zu der
<em>libhugin&ndash;harvest</em> API. Folgendes Beispiel&ndash;Snippet zeigt die Anwendung des
<tt class="docutils literal"><span class="pre">BracketClean</span></tt>&ndash;Plugins auf <em>Rohdaten</em>, welche nicht aus der internen Datenbank
stammen.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hugin.analyze.session</span> <span class="kn">import</span> <span class="n">Session</span>
<span class="go">    # Beispieltext. Erstelle Sitzung mit Dummy DB. Hole BracketClean Plugin.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">example_text</span> <span class="o">=</span> <span class="s">&quot;Aus diesem Text wird die Klammer (welche?) samt Inhalt entfernt!&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">session</span> <span class="o">=</span> <span class="n">session</span><span class="p">(</span><span class="s">&#39;/tmp/temporary.db&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">BracketClean</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">modifier_plugins</span><span class="p">(</span><span class="s">&#39;BracketClean&#39;</span><span class="p">)</span>
<span class="go">    # Wende Plugin im raw Modus auf Daten an</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">modify_raw</span><span class="p">(</span><span class="n">BracketClean</span><span class="p">,</span> <span class="s">&#39;plot&#39;</span><span class="p">,</span> <span class="n">example_text</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">Aus diesem Text wird die Klammer samt Inhalt entfernt!</span>
</pre></div>
</div>
<p>Weitere Beispiele bezüglich Einsatz von <em>libhugin&ndash;analyze</em> siehe Demoanwendung
Freki  (siehe <a class="reference internal" href="rst/index.html#ref-freki">7.2</a>).</p>
</div>
<div class="section" id="libhugin-analyze-plugins">
<h3>6.4 Libhugin&ndash;analyze Plugins<a class="headerlink" href="#libhugin-analyze-plugins" title="Permalink to this headline">¶</a></h3>
<div class="section" id="modifier-plugins">
<h4>6.4.1 Modifier&ndash;Plugins<a class="headerlink" href="#modifier-plugins" title="Permalink to this headline">¶</a></h4>
<p><strong>BracketClean:</strong>
Das <tt class="docutils literal"><span class="pre">BracketClean</span></tt>&ndash;Plugin ist für nachträgliche Manipulation der
Inhaltsbeschreibung gedacht. Das Plugin entfernt alle Klammern samt Inhalt aus
der Beschreibung. Das vereinheitlicht die Inhaltsbeschreibung in dem Sinne, dass
alle Schauspieler oder Informationen in Klammern aus der Beschreibung entfernt
werden.</p>
<p><strong>PlotLangChange:</strong>
Das <tt class="docutils literal"><span class="pre">PlotLangChange</span></tt>&ndash;Plugin ist für das nachträgliche Ändern der
Inhaltsbeschreibung zuständig. Es hat die Funktion, die Sprache des Plots zu
ändern.</p>
</div>
<div class="section" id="analyzer-plugins">
<h4>6.4.2 Analyzer&ndash;Plugins<a class="headerlink" href="#analyzer-plugins" title="Permalink to this headline">¶</a></h4>
<p><strong>KeywordExtract:</strong>
Dieses Plugin extrahiert aus einem Text, bei Filmen meist die
Inhaltsbeschreibung, relevante Schlüsselwörter, die den Text beziehungsweise
die darin dargestellte Thematik repräsentieren.</p>
<p><strong>FileTypeAnalyze:</strong>
Das <tt class="docutils literal"><span class="pre">FileTypeAnalyze</span></tt>&ndash;Plugin arbeitet mit den Videodaten selbst. Es ist für die
Extraktion der Datei&ndash;Metadaten zuständig. Momentan extrahiert es:</p>
<blockquote>
<div><ul class="simple">
<li>Auflösung</li>
<li>Seitenverhältnis</li>
<li>Videocodec</li>
<li>Audiocodec, Anzahl der Audiokanäle, Sprache</li>
</ul>
</div></blockquote>
<p><strong>LangIdentify:</strong>
Der <tt class="docutils literal"><span class="pre">LangIdentify</span></tt>&ndash;Analyzer erkennt die Sprache des verwendeten Plots und schreibt
die Information zu den Analysedaten.</p>
</div>
<div class="section" id="comparator-plugins">
<h4>6.4.3 Comparator&ndash;Plugins<a class="headerlink" href="#comparator-plugins" title="Permalink to this headline">¶</a></h4>
<p>Dieser Plugintyp ist experimentell, er ist für statistische Zwecke und
Analysen bezüglich der Vergleichbarkeit von Filmen anhand der Metadaten gedacht.</p>
<p>Folgende Comparator&ndash;Plugins wurden konzeptionell implementiert:</p>
<p><strong>GenreCmp:</strong>
Ein Plugin, das die Genres verschiedener Filme miteinander vergleicht.</p>
<p><strong>KeywordCmp:</strong>
Ein Plugin, das die Schlüsselwörter verschiedener Filme miteinander vergleicht.</p>
</div>
</div>
<div class="section" id="verschiedenes">
<h3>6.5 Verschiedenes<a class="headerlink" href="#verschiedenes" title="Permalink to this headline">¶</a></h3>
<div class="section" id="testverfahren">
<h4>6.5.1 Testverfahren<a class="headerlink" href="#testverfahren" title="Permalink to this headline">¶</a></h4>
<p>Für das Testen der Software wird das Python Unittest&ndash;Framework verwendet.
Bisher wurden Tests für die wichtigsten Grundklassen und das
Provider&ndash;Pluginsystem erstellt, um ein valides Verhalten der Provider&ndash;Plugins
zu gewährleisten.</p>
<p>Die Unittests wurden direkt in der ,,Main&quot; der jeweiligen Klasse untergebracht.
Diese werden dann beim Ausführen der Python&ndash;Datei gestartet.</p>
<p>Folgendes Beispiel zeigt die Funktionsweise:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span> <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">unittest</span>

    <span class="k">class</span> <span class="nc">SimpleTest</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">test_add_func</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">add</span><span class="p">(</span><span class="mi">21</span><span class="p">,</span> <span class="mi">21</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">result</span> <span class="o">==</span> <span class="mi">42</span><span class="p">)</span>

    <span class="n">unittest</span><span class="o">.</span><span class="n">main</span><span class="p">()</span>
</pre></div>
</div>
<p>Das Ausführen des Beispielcodes würde folgende Ausgabe produzieren:</p>
<div class="highlight-bash"><div class="highlight"><pre>Ran 1 <span class="nb">test </span>in 0.000s

OK
</pre></div>
</div>
<p>Alle geschriebenen Tests werden bei jedem ,,Einspielen&quot; der Änderungen in das
verwendete Quellcode&ndash;Versionsverwaltungssystem automatisiert über einen
externen Dienst ausgeführt (siehe Entwicklungsumgebung, <a class="reference internal" href="rst/index.html#dev">6.5.2</a>).</p>
</div>
<div class="section" id="entwicklungumgebung">
<span id="dev"></span><h4>6.5.2 Entwicklungumgebung<a class="headerlink" href="#entwicklungumgebung" title="Permalink to this headline">¶</a></h4>
<p><strong>Programmiersprache:</strong>
Für die Entwicklung der Bibliothek wurde die Programmiersprache Python, in der
Version 3.3, aus folgenden Gründen gewählt:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Rapid Prototyping Language:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">Wichtig bei einem Projekt dieser Größe mit begrenztem Zeitraum (vgl. <a class="reference internal" href="rst/index.html#lutz2013learning" id="id2">[2]</a>).</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Plattformunabhängigkeit:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Plattformunabhängigkeit ist ein sekundäres Ziel des Projekts.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Einfach erlernbar:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">Wichtig für Pluginentwickler wegen der kurzen Einarbeitungszeit.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Verbreitungsgrad:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Gängige Skriptsprache bei vielen Open&ndash;Source&ndash;Projekten.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Optimierungsmöglichkeiten:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">Möglichkeit der Erweiterung durch
<span class="math">\(\mathrm{C/C{\scriptstyle\overset{\!++}{\vphantom{\_}}}}\)</span>&ndash;Code,
Optimierung von Python mittels Cython (siehe <a class="reference internal" href="rst/index.html#cython" id="id3">[Link&ndash;37]</a>, vgl.
<a class="reference internal" href="rst/index.html#lutz2013learning" id="id4">[2]</a>).</td>
</tr>
</tbody>
</table>
<p><strong>Entwicklungssytem:</strong>
Die Bibliothek wird unter <em>Archlinux</em> entwickelt. Für die Entwicklung wird der
Editor <em>gVim</em> mit entsprechenden Python&ndash;Plugins zur Validierung der Python
PEP&ndash;Stilrichtlinien (siehe <a class="reference internal" href="rst/index.html#pep" id="id5">[Link&ndash;38]</a>) verwendet. Des Weiteren wird die
interaktive Python Shell <em>IPython</em> eingesetzt.</p>
<p><strong>Quellcodeverwaltung:</strong>
Für die Quellcodeverwaltung wird das Versionsverwaltungssystem <em>git</em>
eingesetzt. Der Quellcode selbst wird auf dem Hosting&ndash;Dienst für
Software&ndash;Entwicklungsprojekte <em>GitHub</em> (siehe <a class="reference internal" href="rst/index.html#github" id="id6">[Link&ndash;39]</a>) gelagert. Das
Projekt ist auf folgender GitHub Seite zu finden:</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference external" href="https://github.com/qitta/libhugin">https://github.com/qitta/libhugin</a></li>
</ul>
</div></blockquote>
<p><strong>Automatisches Testen:</strong>
Die oben genannten Softwaretests werden von <em>TravisCI</em> (siehe <a class="reference internal" href="rst/index.html#travisci" id="id7">[Link&ndash;40]</a>),
einem sogenanntem ,,Continuous Integration Service&quot; automatisch ausgeführt. Dies
passiert bei jedem Hochladen von Quellcodeänderungen auf <em>GitHub</em>. <em>GitHub</em> hat
hier eine Service&ndash;Schnittstelle zu <em>TravisCI,</em> welche aktiviert wurde.</p>
<p>Ein Symbol (siehe Abbildung ) auf der <em>libhugin</em>
Github&ndash;Projektseite teilt so dem Besuchern der Seite den aktuellen
,,Projektstatus&quot; mit.</p>
<div class="figure align-center" id="fig-build">
<a class="reference internal image-reference" href="../../_images/build.png"><img alt="Symbol, das den aktuellen ,,Build Status&quot; der GitHub--Projektseite zeigt" src="../../_images/build.png" style="width: 60%;" /></a>
<p class="caption">Symbol, das den aktuellen ,,Build&ndash;Status&quot; der GitHub&ndash;Projektseite zeigt.</p>
</div>
<p><strong>Projektdokumentation:</strong>
Das Projekt wird nach dem Prinzip der <em>literalen Programmierung</em> entwickelt, wie
von <em>Donald E. Knuth</em> (siehe <a class="reference internal" href="rst/index.html#knuth" id="id8">[Link&ndash;41]</a>) empfohlen. Hierbei liegen Quelltext
und Dokumentation des Programms in der gleichen Datei.</p>
<p>Die Dokumentation kann so über spezielle Softwaredokumentationswerkzeuge
generiert werden. Unter Python wird hier das Softwaredokumentationswerkzeug
<em>Sphinx</em> (siehe <a class="reference internal" href="rst/index.html#sphinxdoc" id="id9">[Link&ndash;42]</a>) verwendet. Die offizielle
Projektdokumentation, aktuell hauptsächlich der <em>libhugin-harvest</em> Teil, ist auf
der Plattform <em>ReadTheDocs</em> (siehe <a class="reference internal" href="rst/index.html#rtfd" id="id10">[Link&ndash;43]</a>) gehostet und unter folgender
Adresse zu finden:</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference external" href="http://libhugin.rtfd.org">http://libhugin.rtfd.org</a></li>
</ul>
</div></blockquote>
<p>Dieses kann eine Dokumentation in verschiedenen Formaten generieren, auch diese
Projektarbeit wurde in <em>reStructuredText</em> (siehe <a class="reference internal" href="rst/index.html#rst" id="id11">[Link&ndash;44]</a>) geschrieben und
mit <em>Sphinx</em> generiert.</p>
<p>Des Weiteren wird dem Entwickler bei Nutzung der
Bibliothek in der interaktiven Python&ndash;Shell eine zusätzliche Hilfestellung
geboten (siehe Abbildung ).</p>
<div class="figure align-center" id="fig-knuth">
<a class="reference internal image-reference" href="../../_images/knuth.png"><img alt="API--Dokumentation als Hilfestellung in der interaktiven Python--Shell bpython" src="../../_images/knuth.png" style="width: 80%;" /></a>
<p class="caption">API&ndash;Dokumentation als Hilfestellung in der interaktiven Python&ndash;Shell bpython.</p>
</div>
<p><strong>Projektumfang:</strong>
Der Projektumfang beträgt ca. 3500 <em>lines of code</em>,  hinzu kommt noch
die Onlinedokumentation. Eine Statistik zum Projekt, welche mit dem Tool
<em>cloc</em> erstellt wurde, ist im Anhang unter <a class="reference internal" href="rst/index.html#ref-cloc"><em>Projektstatistik (cloc)</em></a> zu finden.</p>
<p><strong>Externe Bibliotheken:</strong>
Die Tabelle  listet alle verwendeten externen Abhängigkeiten
für die <em>libhugin</em>&ndash;Bibliothek.</p>
<div class="figure align-center" id="table-libs">
<center><table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="23%" />
<col width="44%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="headalign-center"><em>Abhängigkeit</em></th>
<th class="headalign-center"><em>Verwendung in</em></th>
<th class="headalign-center"><em>Einsatzzweck</em></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td class="align-center"><em>yapsy</em></td>
<td class="align-center">Pluginsystem</td>
<td class="align-center">Laden von Plugins</td>
</tr>
<tr class="row-odd"><td class="align-center"><em>charade</em></td>
<td class="align-center">Downloadqueue</td>
<td class="align-center">Encodingerkennung</td>
</tr>
<tr class="row-even"><td class="align-center"><em>parse</em></td>
<td class="align-center">Plugins</td>
<td class="align-center">Parsen von Zeitstrings</td>
</tr>
<tr class="row-odd"><td class="align-center"><em>httplib2</em></td>
<td class="align-center">Downloadqueue</td>
<td class="align-center">Content download</td>
</tr>
<tr class="row-even"><td class="align-center"><em>jinja2</em></td>
<td class="align-center">Plugins</td>
<td class="align-center">HTML Template Engine</td>
</tr>
<tr class="row-odd"><td class="align-center"><em>docopt</em></td>
<td class="align-center">Cli&ndash;Tools</td>
<td class="align-center">CLI&ndash;Optionparser</td>
</tr>
<tr class="row-even"><td class="align-center"><em>Flask</em></td>
<td class="align-center">Huginproxy</td>
<td class="align-center">Webframework, RESTful interface</td>
</tr>
<tr class="row-odd"><td class="align-center"><em>guess_language-spirit</em></td>
<td class="align-center">Plugins</td>
<td class="align-center">Spracherkennung</td>
</tr>
<tr class="row-even"><td class="align-center"><em>PyStemmer</em></td>
<td class="align-center">Plugins</td>
<td class="align-center">Stemming von Wörtern</td>
</tr>
<tr class="row-odd"><td class="align-center"><em>pyxDamerauLevenshtein</em></td>
<td class="align-center">Plugins, Utils</td>
<td class="align-center">Vergleich von Strings</td>
</tr>
<tr class="row-even"><td class="align-center"><em>Pyaml</em></td>
<td class="align-center">Plugins</td>
<td class="align-center">Verarbeitung von Yaml Dateien</td>
</tr>
<tr class="row-odd"><td class="align-center"><em>beaufifulsoup4</em></td>
<td class="align-center">Plugins</td>
<td class="align-center">Parsen von HTML Seiten</td>
</tr>
<tr class="row-even"><td class="align-center"><em>xmltodict</em></td>
<td class="align-center">Plugins</td>
<td class="align-center">Verarbeitung von XML Dokumenten</td>
</tr>
<tr class="row-odd"><td class="align-center"><em>hachoir-metadata</em></td>
<td class="align-center">Plugins</td>
<td class="align-center">Extraktion von Datei&ndash;Metadaten</td>
</tr>
</tbody>
</table>
<p class="caption">Übersicht über externe Abhängigkeiten.</p>
<span class="target" id="table-libs"></span></center></div></div>
</div>
</div>
<span id="document-rst/VII/index"></span><div class="section" id="demoanwendungen">
<h2>7 Demoanwendungen<a class="headerlink" href="#demoanwendungen" title="Permalink to this headline">¶</a></h2>
<p>Die vorgestellten CLI&ndash;Tools stellen nur einen kleinen Ausschnitt der
Fähigkeiten der Bibliothek dar. Die Bibliothek selbst ist um fast jede denkbare
Funktionalität der Metadatenaufbereitung erweiterbar. Die Algorithmik der
verwendeten Plugins und Funktionen ist Bestandteil der Bachelorarbeit.</p>
<div class="section" id="libhugin-harvest-cli-tool-geri">
<h3>7.1 Libhugin&ndash;harvest CLI&ndash;Tool Geri<a class="headerlink" href="#libhugin-harvest-cli-tool-geri" title="Permalink to this headline">¶</a></h3>
<p>Geri ist eine CLI&ndash;Anwendung, die zu Demozwecken, aber auch als Testwerkzeug für
die <em>libhugin&ndash;harvest</em> Bibliothek verwendet werden kann.</p>
<div class="section" id="ubersicht-der-optionen">
<h4>7.1.1 Übersicht der Optionen<a class="headerlink" href="#ubersicht-der-optionen" title="Permalink to this headline">¶</a></h4>
<p>Ein Überblick über die Funktionalität und die möglichen Optionen zeigt die Hilfe
des Tools:</p>
<div class="highlight-python"><div class="highlight"><pre>$ geri -h
Libhugin commandline tool.

Usage:
  geri (-t &lt;title&gt;) [-y &lt;year&gt;] [-a &lt;amount&gt;] [-p &lt;providers&gt;...] [-c &lt;converter&gt;] \
       [-o &lt;path&gt;] [-l &lt;lang&gt;] [-P &lt;pm&gt;]  [-r &lt;processor&gt;] [-f &lt;pfile&gt;] [-L]
  geri (-i &lt;imdbid&gt;) [-p &lt;providers&gt;...] [-c &lt;converter&gt;] [-o &lt;path&gt;] [-l &lt;lang&gt;] \
       [-r &lt;processor&gt;] [-f &lt;pfile&gt;] [-L]
  geri (-n &lt;name&gt;) [--items &lt;num&gt;] [-p &lt;providers&gt;...] [-c &lt;converter&gt;] [-o &lt;path&gt;]
  geri list-provider
  geri list-converter
  geri list-postprocessor
  geri -h | --help
  geri --version

 Options:
   -t, --title=&lt;title&gt;               Movie title.
   -y, --year=&lt;year&gt;                 Year of movie release date.
   -n, --name=&lt;name&gt;                 Person name.
   -i, --imdbid=&lt;imdbid&gt;             A imdbid prefixed with tt.
   -p, --providers=&lt;providers&gt;       Providers to be used.
   -c, --convert=&lt;converter&gt;         Converter to be used.
   -r, --postprocess=&lt;processor&gt;     Postprocessor to be used.
   -o, --output=&lt;path&gt;               Output folder for converter result [default: /tmp].
   -a, --amount=&lt;amount&gt;             Amount of items to retrieve.
   -l, --language=&lt;lang&gt;             Language in ISO 639-1 [default: de]
   -P, --predator-mode               The magic &#39;fuzzy search&#39; mode.
   -L, --lookup-mode                 Does a title -&gt; imdbid lookup.
   -f, --profile-file=&lt;pfile&gt;        User specified profile.
   -v, --version                     Show version.
   -h, --help                        Show this screen.
</pre></div>
</div>
<p>Das Tool eignet sich neben dem Einsatz als Testwerkzeug für die Bibliothek
auch gut für Skripte und somit für automatische Verarbeitung großer
Datenmengen, siehe auch <em>Scripting Tasks</em> <a class="reference internal" href="rst/index.html#ref-scripting-tasks">7.4</a>.</p>
</div>
<div class="section" id="filmsuche">
<h4>7.1.2 Filmsuche<a class="headerlink" href="#filmsuche" title="Permalink to this headline">¶</a></h4>
<p>Ein Film kann über den Titel oder über die <em>IMDb&ndash;ID</em> gesucht werden. Hier gibt
es die Möglichkeit, <em>Geri</em> auch bestimmte Provider, Converter, Sprache und
Postprocessor&ndash;Plugins anzugeben.</p>
<p>Um das Ausgabeformat zu konfigurieren, gibt es im <em>Geri</em>&ndash;Ordner eine
<tt class="docutils literal"><span class="pre">movie.mask</span></tt>&ndash; und <tt class="docutils literal"><span class="pre">person.mask</span></tt>&ndash;Datei. Über diese Dateien kann das
Ausgabeformat definiert werden. Die Syntax ist einfach. Um Attribute
darzustellen, werden diese einfach in geschweifte Klammern geschrieben. Das
<em>num</em>&ndash;Attribut gibt Geri die Möglichkeit, die Resultate durchzunummerieren.</p>
<p>Folgend die Definition vom Ausgabeformat für die <tt class="docutils literal"><span class="pre">movie.mask</span></tt>:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span><span class="nb">echo</span> <span class="s2">&quot;{num}) {title} ({year}), IMDBid: {imdbid} Provider: {provider} \</span>
<span class="s2">\nInhalt: {plot}&quot;</span> &gt; tools/geri/movie.mask
</pre></div>
</div>
<p>Standardsuche nach Titel mit der Begrenzung auf fünf Ergebnisse:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>geri --title <span class="s2">&quot;sin city&quot;</span> --amount<span class="o">=</span>5
1<span class="o">)</span> Sin City <span class="o">(</span>2005<span class="o">)</span>, IMDBid: tt0401792, Provider: TMDBMovie &lt;picture, movie&gt;
Inhalt: Basin City, genannt Sin City, ist ein düsteres Metropolis, in dem nichts
und niemand wirklich sicher ist, in dem die Gewalt allgegenwärtig ist <span class="o">[</span>...<span class="o">]</span>

2<span class="o">)</span> Sin City <span class="o">(</span>2005<span class="o">)</span>, IMDBid: tt0401792, Provider: OFDBMovie &lt;movie&gt;
Inhalt: Basin City, genannt Sin City, ist ein düsteres Metropolis, in dem nichts
und niemand wirklich sicher ist, in dem die Gewalt allgegenwärtig ist <span class="o">[</span>...<span class="o">]</span>

3<span class="o">)</span> Sin City <span class="o">(</span>2005<span class="o">)</span>, IMDBid: None, Provider: VIDEOBUSTERMovie &lt;movie&gt;
Inhalt: Willkommen in Sin City.  Diese Stadt begrüßt die Harten, die Korrupten,
die mit den gebrochenen Herzen.  Einer von ihnen ist Marv <span class="o">[</span>...<span class="o">]</span>

4<span class="o">)</span> Sin City <span class="o">(</span>2005<span class="o">)</span>, IMDBid: tt0401792, Provider: OMDBMovie &lt;movie&gt;
Inhalt: Four tales of crime adapted from Frank Millers popular comics focusing
around a muscular brute whos looking <span class="k">for </span>the person responsible <span class="k">for </span>the <span class="o">[</span>...<span class="o">]</span>

5<span class="o">)</span> Sin City <span class="o">(</span>2005<span class="o">)</span>, IMDBid: None, Provider: FILMSTARTSMovie &lt;movie&gt;
Inhalt: <span class="s2">&quot;Sin City&quot;</span> enthält drei lose verbundene und ineinander verschachtelt
erzählte Episoden: Los geht es mit Hartigan <span class="o">(</span>Bruce Willis<span class="o">)</span> - einem Cop <span class="o">[</span>...<span class="o">]</span>
</pre></div>
</div>
<p>Die Suche kann, wie die Optionen des Tools zeigen, feingranularer konfiguriert
werden.  Es würde jedoch den Rahmen sprengen alle Optionen zu zeigen.</p>
<p><strong>Unschärfesuche:</strong>
Ein weiteres nennenswertes Feature ist die Unschärfesuche.  Die getesteten Tools
(siehe Abbildung ) sind nicht in der Lage, Filme zu
finden, wenn der Titel nicht exakt geschrieben ist. Das trifft auch in der
Standardkonfiguration für <em>libhugin</em> zu, weil hier die Onlinequellen, auf die
zugegriffen wird, exakte Suchbegriffe erwarten.</p>
<p>Folgendes findet keine Ergebnisse, weil hier ,,Matrix&quot; falsch geschrieben ist:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>geri --title <span class="s2">&quot;the marix&quot;</span> --amount<span class="o">=</span>2
</pre></div>
</div>
<p>Mit dem aktivierten <em>Predator&ndash;Mode</em> findet <em>Geri</em> ,,providerübergreifend&quot; den
gesuchten Film.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>geri --title <span class="s2">&quot;the marix&quot;</span> --amount<span class="o">=</span>2 --predator-mode
1<span class="o">)</span> Matrix <span class="o">(</span>1999<span class="o">)</span>, IMDBid: tt0133093, Provider: TMDBMovie &lt;movie, picture&gt;
Inhalt: Der Hacker Neo wird übers Internet von einer geheimnisvollen Untergrund-
Organisation kontaktiert.  Der Kopf der Gruppe - der gesuchte Terrorist <span class="o">[</span>...<span class="o">]</span>

2<span class="o">)</span> Matrix <span class="o">(</span>1999<span class="o">)</span>, IMDBid: tt0133093, Provider: OFDBMovie &lt;movie&gt;
Inhalt: Was ist die Matrix?  Diese Frage quält den Hacker Neo seit Jahren.  Er
führt ein Doppelleben - tagsüber ist er Thomas Anderson und arbeitet in <span class="o">[</span>...<span class="o">]</span>
</pre></div>
</div>
<p><strong>Suche über IMDb&ndash;ID:</strong>
Normalerweise kann nur über die <em>IMDb&ndash;ID</em> gesucht werden, wenn es die jeweilige
Onlinequelle unterstützt. Deswegen funktioniert standardmäßig die Suche bei
Providern wie <em>Filmstarts</em> oder <em>Videobuster</em> nicht. <em>Libhugin</em> schafft hier
Abhilfe mit einer providerübergreifenden <em>IMDb&ndash;ID</em>&ndash;Suche.</p>
<p>Im folgenden Beispiel findet der Provider <em>videobustermovie</em> keine Ergebnisse,
weil die Onlinequelle die Suche über <em>IMDb&ndash;ID</em> nicht unterstützt:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>geri --imdbid <span class="s2">&quot;tt0133093&quot;</span> -p videobustermovie
</pre></div>
</div>
<p>Mit dem <em>Lookup&ndash;Mode</em> funktioniert auch die Suche über <em>IMDb&ndash;ID</em> bei
Onlinequellen, die eine Suche über die <em>IMDb&ndash;ID</em> nicht unterstützen:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>geri --imdbid <span class="s2">&quot;tt0133093&quot;</span> -p videobustermovie --lookup-mode
1<span class="o">)</span> Matrix <span class="o">(</span>1999<span class="o">)</span>, IMDBid: None, Provider: VIDEOBUSTERMovie &lt;movie&gt;

Inhalt: Der Hacker Neo <span class="o">(</span>Keanu Reeves<span class="o">)</span> wird übers Internet von einer
geheimnisvollen Untergrund--Organisation kontaktiert.  Der Kopf der <span class="o">[</span>...<span class="o">]</span>

<span class="o">[</span>...<span class="o">]</span>
</pre></div>
</div>
</div>
<div class="section" id="einsatz-von-plugins">
<h4>7.1.3 Einsatz von Plugins<a class="headerlink" href="#einsatz-von-plugins" title="Permalink to this headline">¶</a></h4>
<p><strong>Einsatz von Postprocessor&ndash;Plugins:</strong>
Das <em>Compose</em>&ndash;Plugin ermöglicht dem Benutzer, das Ergebnis nach seinen
Bedürfnissen zu komponieren und besitzt die Fähigkeit, das normalisierte Genre
mehrerer Provider zusammenzuführen.</p>
<p>Zuerst wird die <tt class="docutils literal"><span class="pre">movie.mask</span></tt> angepasst, damit das Genre und das normalisierte
Genre zu sehen ist:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span><span class="nb">echo</span> <span class="s2">&quot;{num}) {title} ({year}), IMDBid: {imdbid}, Provider: {provider}\</span>
<span class="s2">\nGenre: {genre}\nGenre normalisiert: {genre_norm} \nInhalt: {plot}&quot;</span> &gt; movie.mask
</pre></div>
</div>
<p>Des Weiteren wird ein benutzerdefiniertes <em>userprofile</em> erstellt, welches dem
<em>Compose</em>&ndash;Plugin mitteilt, wie das Ergebnis zusammengebaut werden soll. In
unserem Beispiel wird ein Profil erstellt, welches standardmäßig den TMDb
Provider nimmt und die Inhaltsbeschreibung durch die vom OFDb&ndash;Provider
austauscht.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span><span class="nb">echo</span> <span class="s2">&quot;{&#39;default&#39;:[&#39;tmdbmovie&#39;], &#39;plot&#39;:[&#39;ofdbmovie&#39;]}&quot;</span> &gt; userprofile
</pre></div>
</div>
<p>Suche nach dem Film <em>,,Feuchgebiete (2013)&quot;</em> mit Einsatz vom <em>Compose</em>&ndash;Plugin
und Beschränkung auf die zwei Provider TMDb und OFDb:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>geri --title <span class="s2">&quot;feuchtgebiete&quot;</span> -r compose -f userprofile -p tmdbmovie,ofdbmovie -a2
1<span class="o">)</span> Feuchtgebiete <span class="o">(</span>2013<span class="o">)</span>, IMDBid: tt2524674, Provider: TMDBMovie &lt;movie, picture&gt;
Genre: <span class="o">[</span><span class="s1">&#39;Komödie&#39;</span>, <span class="s1">&#39;Drama&#39;</span><span class="o">]</span>
Genre normalisiert: <span class="o">[</span><span class="s1">&#39;Komödie&#39;</span>, <span class="s1">&#39;Drama&#39;</span><span class="o">]</span>
Inhalt: Helen ist eine Herausforderung für ihre Mutter und ihren Vater, die
getrennt leben und geschieden sind.  Trotzdem wünscht sich Helen nichts <span class="o">[</span>...<span class="o">]</span>

2<span class="o">)</span> Feuchtgebiete <span class="o">(</span>2013<span class="o">)</span>, IMDBid: tt2524674, Provider: OFDBMovie &lt;movie&gt;
Genre: <span class="o">[</span><span class="s1">&#39;Erotik&#39;</span><span class="o">]</span>
Genre normalisiert: <span class="o">[</span><span class="s1">&#39;Erotik&#39;</span><span class="o">]</span>
Inhalt: Die 18jährige Helen <span class="o">(</span>Carla Juri<span class="o">)</span> hat schon seit ihrer Kindheit
Hämorrhoiden, hat diesen Fakt aber immer verheimlicht, da sie glaubte <span class="o">[</span>...<span class="o">]</span>

3<span class="o">)</span> Feuchtgebiete <span class="o">(</span>2013<span class="o">)</span>, IMDBid: tt2524674, Provider: Compose
Genre: <span class="o">[</span><span class="s1">&#39;Komödie&#39;</span>, <span class="s1">&#39;Drama&#39;</span><span class="o">]</span>
Genre normalisiert: <span class="o">{</span><span class="s1">&#39;Erotik&#39;</span>, <span class="s1">&#39;Drama&#39;</span>, <span class="s1">&#39;Komödie&#39;</span><span class="o">}</span>
Inhalt: Die 18jährige Helen <span class="o">(</span>Carla Juri<span class="o">)</span> hat schon seit ihrer Kindheit
Hämorrhoiden, hat diesen Fakt aber immer verheimlicht, da sie glaubte <span class="o">[</span>...<span class="o">]</span>
</pre></div>
</div>
<p>Das dritte Resultat in der Ausgabe wurde vom Provider ,,Compose&quot; generiert,
dies ist das komponierte Ergebnis. Hier wurde das normalisierte Genre
verschmolzen. Dieses Feature macht das gepflegte Genre in den Metadaten
feingranularer und lässt im Beispiel auch besser vermuten, ob ein Film für
Kinder geeignet ist oder nicht.</p>
</div>
</div>
<div class="section" id="libhugin-analyze-cli-tool-freki">
<span id="ref-freki"></span><h3>7.2 Libhugin&ndash;analyze CLI&ndash;Tool Freki<a class="headerlink" href="#libhugin-analyze-cli-tool-freki" title="Permalink to this headline">¶</a></h3>
<p>Freki ist für Demonstrationszwecke und das Testen der <em>libhugin&ndash;analyze</em>
Bibliothek entwickelt worden.</p>
<div class="section" id="id1">
<h4>7.2.1 Übersicht der Optionen<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h4>
<p>Folgend zum Überblick der Funktionalität die Hilfe des Tools Freki:</p>
<div class="highlight-python"><div class="highlight"><pre>$ freki -h
Libhugin--analyzer commandline testtool.

Usage:
  freki create &lt;database&gt; &lt;datapath&gt;
  freki list &lt;database&gt;
  freki list &lt;database&gt; attr &lt;attr&gt;
  freki list &lt;database&gt; analyzerdata
  freki list-modifier | list-analyzer
  freki (analyze | modify) plugin &lt;plugin&gt; &lt;database&gt;
  freki (analyze | modify) plugin &lt;plugin&gt; pluginattrs &lt;pluginattrs&gt; &lt;database&gt;
  freki export &lt;database&gt;
  freki -h | --help
  freki --version

Options:
  -v, --version                     Show version.
  -h, --help                        Show this screen.
</pre></div>
</div>
</div>
<div class="section" id="erstellen-einer-datenbank">
<h4>7.2.2 Erstellen einer Datenbank<a class="headerlink" href="#erstellen-einer-datenbank" title="Permalink to this headline">¶</a></h4>
<p>Freki erlaubt dem Benutzer, eine <em>Datenbank</em> aus externen Metadaten zu
generieren. Auf dieser Datenbank kann man folgend mit den Analyzer- und
Modifier&ndash;Plugins , die <em>libhugin&ndash;analyze</em> anbietet, arbeiten, um
beispielsweise seine Metadaten zu säubern. Nach der Bearbeitung können die
<em>neuen</em> Metadaten in die externen Metadaten&ndash;Dateien exportiert werden.</p>
<p>Folgend eine kurze Demonstration des CLI&ndash;Tools.</p>
<p><strong>Erstellen einer Datenbank:</strong>
Hierzu wird die Helferfunktion (siehe Anhang <a class="reference internal" href="rst/index.html#ref-attachment-a"><em>Helferfunktion für NFO&ndash;Dateien</em></a>) verwendet.
Im Ordner <em>movies</em> befinden sich zwei Filme, die mit dem XBMC mit Metadaten
versorgt wurden.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>freki create mydb.db ./movies
</pre></div>
</div>
<p><strong>Datenbank anzeigen:</strong>
Mit <em>list</em> kann der Inhalt der Datenbank angezeigt werden. Die
Inhaltsbeschreibung wurde hier wegen der Übersichtlichkeit gekürzt.  Wie die
Ausgabe zeigt, wurden die Attribute <em>title</em>, <em>originaltitle</em>, <em>genre</em>,
<em>director</em>, <em>year</em> und <em>plot</em> eingelesen.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>freki list mydb.db
0<span class="o">)</span> All Good Things <span class="o">(</span>2010<span class="o">)</span>
<span class="o">{</span><span class="s1">&#39;director&#39;</span>: <span class="s1">&#39;Andrew Jarecki&#39;</span>,
 <span class="s1">&#39;genre&#39;</span>: <span class="o">[</span><span class="s1">&#39;Drama&#39;</span>, <span class="s1">&#39;Mystery&#39;</span>, <span class="s1">&#39;Suspense&#39;</span>, <span class="s1">&#39;Thriller&#39;</span><span class="o">]</span>,
 <span class="s1">&#39;originaltitle&#39;</span>: <span class="s1">&#39;All Good Things&#39;</span>,
 <span class="s1">&#39;plot&#39;</span>: <span class="s1">&#39;Historia ambientada en los años 80 y centrada en un heredero de</span>
<span class="s1"> una dinastía de Nueva York que se enamora de una chica de otra clase</span>
<span class="s1"> [..]&#39;</span>,
 <span class="s1">&#39;title&#39;</span>: <span class="s1">&#39;All Beauty Must Die&#39;</span>,
 <span class="s1">&#39;year&#39;</span>: <span class="s1">&#39;2010&#39;</span><span class="o">}</span>

1<span class="o">)</span> Alien³ <span class="o">(</span>1992<span class="o">)</span>
<span class="o">{</span><span class="s1">&#39;director&#39;</span>: <span class="s1">&#39;David Fincher&#39;</span>,
 <span class="s1">&#39;genre&#39;</span>: <span class="o">[</span><span class="s1">&#39;Action&#39;</span>, <span class="s1">&#39;Horror&#39;</span>, <span class="s1">&#39;Science Fiction&#39;</span><span class="o">]</span>,
 <span class="s1">&#39;originaltitle&#39;</span>: <span class="s1">&#39;Alien³&#39;</span>,
 <span class="s1">&#39;plot&#39;</span>: <span class="s1">&#39;Después de huir con Newt y Bishop del planeta Alien, Ripley se</span>
<span class="s1"> estrella con su nave en Fiorina 161, un planeta prisión. Desgraciadamente</span>
<span class="s1"> [...]&#39;</span>,
 <span class="s1">&#39;title&#39;</span>: <span class="s1">&#39;Alien 3&#39;</span>,
 <span class="s1">&#39;year&#39;</span>: <span class="s1">&#39;1992&#39;</span><span class="o">}</span>
</pre></div>
</div>
<p><strong>Analyzer&ndash;Data anzeigen:</strong>
Auflisten der Analysedaten aller sich in der Datenbank befindlichen Filme:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>freki list mydb.db analyzerdata
0<span class="o">)</span> All Good Things <span class="o">(</span>2010<span class="o">)</span>
<span class="o">{}</span>
1<span class="o">)</span> Alien³ <span class="o">(</span>1992<span class="o">)</span>
<span class="o">{}</span>
</pre></div>
</div>
<p>Da noch nichts weiter analysiert wurde, sieht man hier nur leere Klammern.</p>
<p><strong>Analyzer und Modifier anzeigen:</strong>
Anzeigen der vorhandenen Analyzer:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>freki list-analyzer
Name:           MovieFileAnalyzer
Description:    Analayze movie files, extract video or audio information.
Parameters:     <span class="o">{}</span>

Name:           LangIdentify
Description:    Analyzes the language of a given plot.
Parameters:     <span class="o">{</span><span class="s1">&#39;attr_name&#39;</span>: &lt;class <span class="s1">&#39;str&#39;</span>&gt;<span class="o">}</span>
</pre></div>
</div>
<p>Anzeigen der vorhandenen Modifier:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>freki list-modifier
Name:           PlotLangChange
Description:    Allows to exchange plot to given language.
Parameters:     <span class="o">{</span><span class="s1">&#39;attr_name&#39;</span>: &lt;class <span class="s1">&#39;str&#39;</span>&gt;, <span class="s1">&#39;change_to&#39;</span>: &lt;class <span class="s1">&#39;str&#39;</span>&gt;<span class="o">}</span>

Name:           BracketCleaner
Description:    Removes brackets e.g. brakets with actor name from plot.
Parameters:     <span class="o">{</span><span class="s1">&#39;attr_name&#39;</span>: &lt;class <span class="s1">&#39;str&#39;</span>&gt;<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id2">
<h4>7.2.3 Einsatz von Plugins<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h4>
<p><strong>Anwenden von Analyzern:</strong>
Anwendung des <em>LangIdentify</em> Plugins auf der <em>mydb.db</em>&ndash;Datenbank:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>freki analyze plugin LangIdentify mydb.db
</pre></div>
</div>
<p>Betrachten der Analyzerdaten nach der Analyse:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>freki list mydb.db analyzerdata
0<span class="o">)</span> All Good Things <span class="o">(</span>2010<span class="o">)</span>
<span class="o">{</span><span class="s1">&#39;LangIdentify&#39;</span>: <span class="s1">&#39;es&#39;</span><span class="o">}</span>
1<span class="o">)</span> Alien³ <span class="o">(</span>1992<span class="o">)</span>
<span class="o">{</span><span class="s1">&#39;LangIdentify&#39;</span>: <span class="s1">&#39;es&#39;</span><span class="o">}</span>
</pre></div>
</div>
<p>Wie man sieht, wurde hier die verwendete Sprache der Plots analysiert. Das
Plugin hat sich in das Analysedaten&ndash;Array mit seinem ermittelten Ergebnis
eingetragen. In unserem Beispiel <em>es (espanol)</em> für eine spanische
Inhaltsbeschreibung.</p>
<p><strong>Anwenden von Modifiern:</strong>
Anwendung des PlotLangChange Modifier&ndash;Plugins um die Sprache der
Inhaltsbeschreibung von Spanisch auf Deutsch zu ändern:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>freki modify plugin PlotLangChange pluginattrs <span class="nv">attr_name</span><span class="o">=</span><span class="s1">&#39;plot&#39;</span>,change_to<span class="o">=</span>de mydb.db
</pre></div>
</div>
<p>Betrachten der Metadaten nach Einsatz des Plugins:</p>
<div class="highlight-bash"><div class="highlight"><pre>$ freki list mydb.db
0) All Good Things (2010)
{&#39;director&#39;: &#39;Andrew Jarecki&#39;,
 &#39;genre&#39;: [&#39;Drama&#39;, &#39;Mystery&#39;, &#39;Suspense&#39;, &#39;Thriller&#39;],
 &#39;originaltitle&#39;: &#39;All Good Things&#39;,
 &#39;plot&#39;: &#39;David Marks, Sohn einer reichen New Yorker Familie, verliebt sich
 in die junge Katie McCarthy, die nicht zu seinen Kreisen gehört. Doch dann [...]&#39;,
 &#39;title&#39;: &#39;All Beauty Must Die&#39;,
 &#39;year&#39;: &#39;2010&#39;}

1) Alien³ (1992)
{&#39;director&#39;: &#39;David Fincher&#39;,
 &#39;genre&#39;: [&#39;Action&#39;, &#39;Horror&#39;, &#39;Science Fiction&#39;],
 &#39;originaltitle&#39;: &#39;Alien³&#39;,
 &#39;plot&#39;: &#39;Nachdem Ellen Ripley, die kleine Newt, Soldat Hicks und der
 Android Bishop von LV 426 entkommen sind und sich mit dem Raumschiff USS [...]&#39;,&#39;
 &#39;title&#39;: &#39;Alien 3&#39;,
 &#39;year&#39;: &#39;1992&#39;}
</pre></div>
</div>
<p>Wie in dem Beispiel zu sehen ist, wurde die Inhaltsbeschreibung bei den Filmen
von der spanischen Version auf eine deutsche Version geändert.</p>
</div>
<div class="section" id="exportieren-der-daten">
<h4>7.2.4 Exportieren der Daten<a class="headerlink" href="#exportieren-der-daten" title="Permalink to this headline">¶</a></h4>
<p>Die modifizierten Metadaten können nun ins Produktivsystem zurückgespielt
werden.  Dies geht bei Freki über die <em>export</em>&ndash;Funktion, hier wird wieder im
Hintergrund die <em>Helferfunktion</em> (siehe Anhang <a class="reference internal" href="rst/index.html#ref-attachment-a"><em>Helferfunktion für NFO&ndash;Dateien</em></a>) verwendet.</p>
<p>Betrachten der Inhaltsbeschreibung der <em>nfo</em>&ndash;Dateien vor dem Export
(Ausgabe gekürzt):</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>cat <span class="s2">&quot;movies/All Good Things (2010)/movie.nfo&quot;</span> | grep <span class="s1">&#39;plot&#39;</span>
&lt;plot&gt;Historia ambientada en los años 80 y centrada en un heredero de una
dinastía de Nueva York que se enamora de una chica de otra clase social. <span class="o">[</span>...<span class="o">]</span>&lt;/plot&gt;
</pre></div>
</div>
<p>Export der modifizierten Datenbank:</p>
<div class="highlight-python"><div class="highlight"><pre>$ freki export mydb.db
./movies/All Good Things (2010)/movie.nfo
./movies/Alien³ (1992)/movie.nfo
</pre></div>
</div>
<p>Betrachten der Inhaltsbeschreibung der <em>nfo</em>-Dateien nach dem Export (gekürzt):</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>cat <span class="s2">&quot;movies/All Good Things (2010)/movie.nfo&quot;</span> | grep <span class="s1">&#39;plot&#39;</span>
&lt;plot&gt;David Marks, Sohn einer reichen New Yorker Familie, verliebt sich in
die junge Katie McCarthy, die nicht zu seinen Kreisen gehört. <span class="o">[</span>...<span class="o">]</span>&lt;/plot&gt;
</pre></div>
</div>
<p>Betrachtet man nun die <em>nfo</em>&ndash;Dateien der jeweiligen Filme, so sieht man, dass
sich hier die Sprache von Spanisch auf Deutsch geändert hat.</p>
</div>
</div>
<div class="section" id="xbmc-plugin-integration">
<span id="xbmcplugin"></span><h3>7.3 XBMC Plugin Integration<a class="headerlink" href="#xbmc-plugin-integration" title="Permalink to this headline">¶</a></h3>
<p>Neben den Kommandozeilentools Geri und Freki wurde konzeptionell ein Plugin für
das XBMC (siehe Abbildung: ) geschrieben,
welches <em>libhugin</em> als Metadatenquelle nutzen kann.</p>
<p>Das XBMC erlaubt es, sogenannte <a class="reference internal" href="rst/index.html#term-scraper"><em class="xref std std-term">Scraper</em></a> zu schreiben.
Diese arbeiten vom Grundprinzip ähnlich wie die Provider von <em>libhugin</em>. Das
Problem bei dessen Scrapern ist, dass diese vollständig mittels <em>Regulärer
Ausdrücke</em> innerhalb von <em>XML</em>&ndash;Dateien geschrieben sind. Dies ist nach Meinung
des Autors fehleranfällig, aufwändig und nur schwer lesbar. Des Weiteren sind
hier die Möglichkeiten des Postprocessings nur begrenzt umsetzbar.</p>
<p>Die Referenzimplementierung des offiziellen XBMC TMDb&ndash;Scrapers hat insgesamt
über 600 <em>lines of code</em>, recht kryptischer regulärer Ausdrücke (siehe
<a class="reference internal" href="rst/index.html#tmdbscraper1" id="id3">[Link&ndash;45]</a> und <a class="reference internal" href="rst/index.html#tmdbscraper2" id="id4">[Link&ndash;46]</a>).</p>
<p>Die Implementierung des <em>libhugin</em> Plugins in das XBMC hat an dieser Stelle nur
23 <em>lines of code</em> (siehe <a class="reference internal" href="rst/index.html#ref-xbmc-libhugin"><em>XBMC&ndash;Scraper&ndash;Plugin</em></a>). Das liegt daran, dass der
<em>libhugin</em>&ndash;Proxy hier dem XBMC die Daten bereits im benötigten Format über das
<em>Nfo</em>&ndash;Converter&ndash;Plugin liefern kann.</p>
<div class="section" id="libhugin-proxy">
<span id="libhuginproxy"></span><h4>7.3.1 Libhugin&ndash;Proxy<a class="headerlink" href="#libhugin-proxy" title="Permalink to this headline">¶</a></h4>
<p>Da die direkte Integration in das XBMC aufgrund der begrenzten Zeit der
Projektarbeit nicht möglich ist, wurde hier der Ansatz eines ,,Proxy&ndash;Dienstes&quot;
angewandt. Für <em>libhugin</em> wurde mittels dem Microwebframework Flask (siehe
<a class="reference internal" href="rst/index.html#flask" id="id5">[Link&ndash;47]</a>) ein minimaler <a class="reference internal" href="rst/index.html#term-restful"><em class="xref std std-term">RESTful</em></a> Webservice geschrieben (siehe
<a class="reference internal" href="rst/index.html#ref-flaskproxy"><em>Libhugin XBMC Proxy</em></a>), welcher über eine eigens definierte API Metadaten an das
XBMC liefert.</p>
<p><strong>Libhugin RESTful&ndash;API:</strong>
Der <em>Libhugin</em>&ndash;Proxy zeigt konzeptionell die Integration von <em>libhugin</em> als
Netzwerkdienst, welcher eine RESTful&ndash;API bereitstellt. Nach dem der
<em>libhugin</em>&ndash;Proxy gestartet wurde, ist es möglich über den Webbrowser auf die
RESTful&ndash;API über Port 5000 zuzugreifen.</p>
<p>Folgende Bash&ndash;Sitzung zeigt die Suche des Films <em>,,Prometheus (2012)&quot;</em> über den
<em>libhugin</em>&ndash;Proxy. Der Proxy liefert ein für das XBMC formatiertes <em>XML</em> zurück:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>curl http://127.0.0.1:5000/search/prometheus
&lt;?xml <span class="nv">version</span><span class="o">=</span><span class="s2">&quot;1.0&quot;</span> <span class="nv">encoding</span><span class="o">=</span><span class="s2">&quot;iso-8859-1&quot;</span> <span class="nv">standalone</span><span class="o">=</span><span class="s2">&quot;yes&quot;</span>?&gt;
&lt;results&gt;
    &lt;entity&gt;
        &lt;title&gt;
            Prometheus - Dunkle Zeichen <span class="o">(</span>2012<span class="o">)</span>, <span class="o">[</span>tt1446714<span class="o">]</span>, Source: TMDBMovie
        &lt;/title&gt;
        &lt;url&gt;http://localhost:5000/movie/0&lt;/url&gt;
    &lt;/entity&gt;
&lt;/results&gt;
</pre></div>
</div>
<p>Die implementierte Test&ndash;API bietet die folgenden Schnittstellen:</p>
<blockquote>
<div><ul class="simple">
<li><tt class="docutils literal"><span class="pre">/search/&lt;titlename</span> <span class="pre">or</span> <span class="pre">imdbid&gt;:</span></tt> Suche nach Film über Titel oder <em>IMDb&ndash;ID</em>.</li>
<li><tt class="docutils literal"><span class="pre">/movie/&lt;position&gt;:</span></tt> Zugriff auf einen bestimmten Film im Proxy Cache.</li>
<li><tt class="docutils literal"><span class="pre">/info:</span></tt> Server Information, welche zeigt ob Postprocessing aktiviert ist.</li>
<li><tt class="docutils literal"><span class="pre">/toggle_pp:</span></tt> Postprocessing aktivieren oder deaktivieren.</li>
<li><tt class="docutils literal"><span class="pre">/shutdown:</span></tt> Server herunterfahren.</li>
</ul>
</div></blockquote>
<p>Die Implementierung des Proxy zeigt, dass es mit relativ wenig Aufwand möglich
ist, <em>libhugin</em> als ,,neuen Dienst&quot; für Multimedia&ndash;Anwendungen oder auch
Movie&ndash;Metadaten&ndash;Manager zu verwenden.</p>
<p>Hierbei kommt die Flexibilität und Anpassbarkeit des Systems den bisherigen
Tools zu Gute. Auf diese Art und Weise lassen sich alle Features, die <em>libhugin</em>
bietet, in bereits existierende Tools integrieren.</p>
<div class="figure align-center" id="fig-xbmcscreenshot-hugin">
<a class="reference internal image-reference" href="../../_images/hugin_xbmc.png"><img alt="Libhugin Scraper--Plugin im XBMC Scraper Menü" src="../../_images/hugin_xbmc.png" style="width: 60%;" /></a>
<p class="caption">Libhugin Scraper&ndash;Plugin im XBMC&ndash;Scraper&ndash;Menü.</p>
</div>
</div>
<div class="section" id="unterschiede-tmdb-xbmc-und-tmdb-libhugin">
<h4>7.3.2 Unterschiede TMDb XBMC und TMDb libhugin<a class="headerlink" href="#unterschiede-tmdb-xbmc-und-tmdb-libhugin" title="Permalink to this headline">¶</a></h4>
<p>Im Vergleich zum XBMC TMDb&ndash;Scraper bietet der XBMC <em>libhugin</em>&ndash;Scraper
(<em>libhugin</em>&ndash;Provider wurde zum Testen auf TMDb beschränkt) zusätzliche
Features.</p>
<blockquote>
<div><ul class="simple">
<li>Suche über <em>IMDb&ndash;ID</em> möglich.</li>
<li>Unschärfesuche möglich, dadurch auch erhöhte Trefferquote.</li>
<li>Postprocessing, je nach dazugeschalteten Plugin möglich.</li>
</ul>
</div></blockquote>
<p>Beim Nutzen weiterer Provider sowie Plugins, wie dem Compose Plugin eröffnen
sich hier für das XBMC ganz neue Möglichkeiten, seine Metadaten nach den eigenen
Wünschen zusammen zu bauen, ohne dabei auf externe Movie&ndash;Manager zugreifen zu
müssen. Im Prinzip kann <em>libhugin</em> hier das komplette Metadatensystem vom XBMC
ersetzen.</p>
</div>
</div>
<div class="section" id="weitere-einsatzmoglichkeiten">
<span id="ref-scripting-tasks"></span><h3>7.4 Weitere Einsatzmöglichkeiten<a class="headerlink" href="#weitere-einsatzmoglichkeiten" title="Permalink to this headline">¶</a></h3>
<p><strong>Scripting Tasks:</strong>
Die Einsatzmöglichkeiten sind je nach Szenario anpassbar. Für einfache
Anwendungen lassen sich Geri und Freki bereits direkt verwenden.</p>
<p>Ein schönes Beispiel für einen <em>Scripting&ndash;Task</em> ist das Normalisieren der
Ordnerstruktur/Benennung von großen Filmsammlungen.</p>
<p>Hierzu reicht es einfach, die <tt class="docutils literal"><span class="pre">movie.mask</span></tt> von Geri anzupassen und ein kleines
Bash&ndash;Skript zu schreiben. Anpassen der <tt class="docutils literal"><span class="pre">movie.mask</span></tt> auf das gewünschte
Format:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span><span class="nb">echo</span> <span class="s2">&quot;{title} ({year}), [{imdbid}]&quot;</span> &gt; tools/geri/movie.mask
</pre></div>
</div>
<p>So schaut das minimalistische rename&ndash;Skript aus:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="c">#!/bin/bash</span>

<span class="k">for </span>movie in <span class="nv">$1</span>/*; <span class="k">do</span>
<span class="k">    </span><span class="nv">old_name</span><span class="o">=</span><span class="k">$(</span>basename <span class="s2">&quot;$movie&quot;</span><span class="k">)</span>
    <span class="nv">new_name</span><span class="o">=</span><span class="k">$(</span>geri -t <span class="s2">&quot;$old_name&quot;</span> -P --language<span class="o">=</span>en --amount 1 -providers tmdbmovie<span class="k">)</span>;
    mv -v <span class="s2">&quot;$movie&quot;</span> <span class="s2">&quot;$1/$new_name&quot;</span>;
<span class="k">done</span>
</pre></div>
</div>
<p>Um eine schlampig gepflegte Filmsammlung zu ,,simulieren&quot;, werden Ordner mit
Filmen, die falsch geschrieben sind, erstellt:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>mkdir movies/<span class="o">{</span><span class="s2">&quot;alien1&quot;</span>,<span class="s2">&quot;alien 2&quot;</span>,<span class="s2">&quot;geständnisse&quot;</span>,<span class="s2">&quot;ironman2&quot;</span>,<span class="s2">&quot;iron man3&quot;</span>,<span class="s2">&quot;iron men 1&quot;</span>,<span class="se">\</span>
<span class="s2">&quot;jung unt schon&quot;</span>,<span class="s2">&quot;marix&quot;</span>,<span class="s2">&quot;oonly good forgives&quot;</span>,<span class="s2">&quot;teh marix 2&quot;</span><span class="o">}</span>
</pre></div>
</div>
<p>Anschließend wird das Skript auf die schlampig gepflegte Ordnerstruktur
angewandt:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>./rename.sh movies
‘movies/alien1’ -&gt; ‘movies/Alien <span class="o">(</span>1979<span class="o">)</span>, <span class="o">[</span>tt0078748<span class="o">]</span>’
‘movies/alien 2’ -&gt; ‘movies/Aliens <span class="o">(</span>1986<span class="o">)</span>, <span class="o">[</span>tt0090605<span class="o">]</span>’
‘movies/geständnisse’ -&gt; ‘movies/Confessions <span class="o">(</span>2010<span class="o">)</span>, <span class="o">[</span>tt1590089<span class="o">]</span>’
‘movies/ironman2’ -&gt; ‘movies/Iron Man 2 <span class="o">(</span>2010<span class="o">)</span>, <span class="o">[</span>tt1228705<span class="o">]</span>’
‘movies/iron man3’ -&gt; ‘movies/Iron Man 3 <span class="o">(</span>2013<span class="o">)</span>, <span class="o">[</span>tt1300854<span class="o">]</span>’
‘movies/iron men 1’ -&gt; ‘movies/Iron Man <span class="o">(</span>2008<span class="o">)</span>, <span class="o">[</span>tt0371746<span class="o">]</span>’
‘movies/jung unt schon’ -&gt; ‘movies/Young &amp; Beautiful <span class="o">(</span>2013<span class="o">)</span>, <span class="o">[</span>tt2752200<span class="o">]</span>’
‘movies/marix’ -&gt; ‘movies/The Matrix <span class="o">(</span>1999<span class="o">)</span>, <span class="o">[</span>tt0133093<span class="o">]</span>’
‘movies/oonly good forgives’ -&gt; ‘movies/Only God Forgives <span class="o">(</span>2013<span class="o">)</span>, <span class="o">[</span>tt1602613<span class="o">]</span>’
‘movies/teh marix 2’ -&gt; ‘movies/The Matrix Reloaded <span class="o">(</span>2003<span class="o">)</span>, <span class="o">[</span>tt0234215<span class="o">]</span>’
</pre></div>
</div>
<p>An diesem Beispiel sieht man, wie gut die Unschärfesuche funktionieren kann.
Bei diesem kleinem <em>Testsample</em> haben wir eine Trefferwahrscheinlichkeit von 100%.</p>
<p><strong>D&ndash;Bus:</strong>
Eine weitere Möglichkeit, neben dem ,,Proxyserver&ndash;Ansatz&quot;, wäre <em>D&ndash;Bus</em> zu
verwenden. <em>D&ndash;Bus</em> ist ein Framework, das unter Linux zur
Interprozesskommunikation verwendet wird. Man kann hier beispielsweise
<em>libhugin</em> als <em>D&ndash;Bus</em>&ndash;Service laufen lassen und jede andere beliebige
Anwendung hätte die Möglichkeit, programmiersprachenunabhängig mit <em>libhugin</em> zu
kommunizieren.</p>
</div>
</div>
<span id="document-rst/VIII/index"></span><div class="section" id="zusammenfassung">
<h2>8 Zusammenfassung<a class="headerlink" href="#zusammenfassung" title="Permalink to this headline">¶</a></h2>
<div class="section" id="aktueller-stand">
<h3>8.1 Aktueller Stand<a class="headerlink" href="#aktueller-stand" title="Permalink to this headline">¶</a></h3>
<p>Die aktuelle Implementierung zeigt einen modularen Prototypen, der für
die gezeigten Anwendungsfälle des Autors gut funktioniert.</p>
</div>
<div class="section" id="erfullung-der-gesetzten-anforderungen">
<h3>8.2 Erfüllung der gesetzten Anforderungen<a class="headerlink" href="#erfullung-der-gesetzten-anforderungen" title="Permalink to this headline">¶</a></h3>
<p>Die vom Autor gesetzten Anforderungen (siehe Anforderungen an die Bibliothek,
<a class="reference internal" href="rst/index.html#ref-requirements">4.1</a>) konnten direkt über die Bibliothek oder durch Schreiben
eines Plugins erfüllt werden.</p>
<p>Dennoch gibt es bei einigen Ansätzen Problemstellungen, die nur schwer ,,gut&quot;
umsetzbar sind.  Im Fall von <em>libhugin</em> wäre das die Normalisierung von Metadaten
über mehrere Onlinequellen hinweg. Dies funktioniert im Moment beim Genre mittels
statisch gepflegter Abbildungen. Hier wären andere Ansätze, falls möglich,
wünschenswert.</p>
<p>Diese Problematik und mögliche andere Ansätze werden in der Bachelorarbeit
genauer betrachtet.</p>
</div>
<div class="section" id="defizite-und-verbesserungen">
<h3>8.3 Defizite und Verbesserungen<a class="headerlink" href="#defizite-und-verbesserungen" title="Permalink to this headline">¶</a></h3>
<div class="section" id="erweiterung-des-aktuellen-pluginsystems">
<h4>8.3.1 Erweiterung des aktuellen Pluginsystems<a class="headerlink" href="#erweiterung-des-aktuellen-pluginsystems" title="Permalink to this headline">¶</a></h4>
<p><strong>Provider&ndash;Plugins:</strong>
Momentan sind ein multilingualer, ein englischsprachiger und drei
deutschsprachige Provider implementiert (siehe Abbildung
). Betrachtet man die Möglichkeiten und Anzahl der
Plattformen, ist es wünschenswert weitere Provider zu implementieren.</p>
<p>Die aktuelle Attributstruktur, die von den Providern befüllt wird, richtet sich
aktuell an der TMDb&ndash;Onlinequelle. Erweiterungen dieser Struktur um neue
Attribute sind wünschenswert.</p>
<p>Ein Attribut, das in erster Linie einen Mehrgewinn bringen würde, wäre die
,,Stimmung&quot;. Die Onlinequelle <em>jinni.com</em> (siehe <a class="reference internal" href="rst/index.html#jinni" id="id1">[Link&ndash;48]</a>) hat ein Attribut
,,Mood&quot; und noch weitere interessante Attribute wie ,,Style&quot;, die nach
Meinung des Autors einen Mehrgewinn für eine Filmsammlung bringen würden.</p>
<p>Das ,,Stimmungs&quot;&ndash;Attribut könnte man beispielsweise als ,,tag&quot;&ndash;Attribut sogar
in die XBMC Metadatenstruktur aufnehmen und hier zusätzlich die Filme nicht nur
nach Genre, sondern auch nach Stimmung gruppieren und auswählen.</p>
<p><strong>Postprocessor- und Converter&ndash;Plugins:</strong>
Hier wäre es wünschenswert Converter für allgemein bekannte Metadatenformate zu
implementieren, wie beispielsweise für das Windows&ndash;Media&ndash;Center.</p>
</div>
<div class="section" id="verbesserungen-am-grundsystem">
<h4>8.3.2 Verbesserungen am Grundsystem<a class="headerlink" href="#verbesserungen-am-grundsystem" title="Permalink to this headline">¶</a></h4>
<p><strong>Provider&ndash;Priorität:</strong>
Aktuell wird die Priorität der Provider per Hand gepflegt. Hier wäre ein
automatischer Ansatz denkbar und wünschenswert. Eine Idee wäre es, Fehlversuche
und Timeouts zu protokollieren und Provider aufgrund dieser zu ,,bestrafen&quot;.
Der implementierte OFDb&ndash;Provider würde hier wahrscheinlich recht schnell in der
Priorität fallen, da dieser sehr oft nicht erreichbar ist. Über diesen Ansatz
würde sich zumindest aufgrund der Verfügbarkeit eine Art ,,Qualität&quot; der Provider
bestimmen lassen.</p>
<p><strong>Yapsy:</strong>
Die aktuell verwendete Bibliothek für das Laden der Plugins wird nur minimal
genutzt. Hier wäre es sinnvoll, diese Abhängigkeit komplett aufzulösen und durch
einen einfacheren Ansatz auszutauschen.</p>
</div>
<div class="section" id="weitere-mogliche-verbesserungen">
<h4>8.3.3 Weitere mögliche Verbesserungen<a class="headerlink" href="#weitere-mogliche-verbesserungen" title="Permalink to this headline">¶</a></h4>
<p><strong>Geri und Freki:</strong>
Die beiden Kommandozeilen&ndash;Tools lassen sich noch weiter ausbauen. Das
Analysetool Freki beherrscht im aktuellen Zustand noch keine Comparator&ndash;Plugins.
Weitere denkbare Entwicklungen bei beiden Tools wären automatisierte Analysen
der Metadaten und statistische Auswertungen. Des Weiteren wäre ein zusätzliches
<em>ncurses</em>&ndash;Interface wünschenswert, wie es beispielsweise auch beim Mail Client
<em>mutt</em> genutzt wird. Das würde laut Meinung des Autors die
Benutzerfreundlichkeit im Vergleich zum einfachen CLI&ndash;Tool erhöhen.</p>
<p><strong>Libhugin&ndash;Proxy:</strong>
Der momentan implementierte Proxy zeigt nur einen konzeptionellen Ansatz und ist
aktuell für den Einsatz des XBMC&ndash;Plugins geschrieben. Hier wäre eine generische
Implementierung als CLI&ndash;Tool wünschenswert.</p>
<p><strong>XBMC&ndash;Plugin:</strong>
Das aktuelle XBMC&ndash;Plugin kann soweit erweitert werden, dass sich sämtliche
<em>libhugin</em> Optionen direkt über das Plugin selbst im XBMC konfigurieren lassen.</p>
</div>
</div>
<div class="section" id="denkbare-weiterentwicklungen">
<h3>8.4 Denkbare Weiterentwicklungen<a class="headerlink" href="#denkbare-weiterentwicklungen" title="Permalink to this headline">¶</a></h3>
<div class="section" id="onlinequellen-mit-neuem-wissen-anreichern">
<h4>8.4.1 Onlinequellen mit ,,neuem Wissen&quot; anreichern<a class="headerlink" href="#onlinequellen-mit-neuem-wissen-anreichern" title="Permalink to this headline">¶</a></h4>
<p>Viele Onlinequellen, wie beispielsweise TMDb, haben Schlüsselwörter gepflegt.
Diese werden bei TMDb durch die Benutzer der Plattform gepflegt. Oft sind diese
jedoch gar nicht vorhanden oder sind zum Teil recht ungenau oder unpassend
gepflegt.</p>
<p>Eine Idee wäre hier, die Schlüsselwörter über einen Data&ndash;Mining&ndash;Algorithmus aus
der vorliegenden Inhaltsbeschreibung zu extrahieren. Dies könnte man aufgrund
der Architektur von <em>libhugin</em> problemlos automatisiert für die ganze
Filmsammlung machen und das neu gewonnene ,,Wissen&quot; in die von der Community
gepflegte Plattform zurückfließen lassen.</p>
<p>Ob dies ein möglicher und vom Betreiber der Plattform wünschenswerter Ansatz
ist, sollte jedoch vorher mit dem Betreiber der Plattform abgeklärt werden.</p>
</div>
<div class="section" id="statistische-untersuchung-der-metadaten">
<h4>8.4.2 Statistische Untersuchung der Metadaten<a class="headerlink" href="#statistische-untersuchung-der-metadaten" title="Permalink to this headline">¶</a></h4>
<p>Der Analyse&ndash;Teil der Bibliothek bietet die nicht weiter behandelte
experimentelle Comparator&ndash;Plugin&ndash;Schnittstelle. Die Idee hierzu ist es,
Plugins zu entwickeln, die Filmmetadaten verschiedener Quellen untersuchen und
miteinander vergleichen. Durch den Vergleich der Metadaten verschiedener
Onlinequellen soll die ,,Qualität&quot; der Metadatenquellen statistisch untersucht
werden. Als geeignetes Qualitätsmaß wäre hier beispielsweise die Anzahl der
gefundenen Filme oder die Anzahl der in deutscher Sprache gepflegten Metadaten
denkbar.</p>
<p>Des Weiteren kann untersucht werden, wie gut sich Filme anhand bestimmter
Metadaten mit einander vergleichen lassen und ob man aufgrund von Metadaten
Empfehlungen für ähnliche Filme aussprechen kann.</p>
</div>
<div class="section" id="systemintegration">
<h4>8.4.3 Systemintegration<a class="headerlink" href="#systemintegration" title="Permalink to this headline">¶</a></h4>
<p><strong>D&ndash;Bus:</strong>
Neben einem generischen Proxy wäre auch die Implementierung eines
<em>D&ndash;Bus</em>&ndash;Service eine gute Idee, um systemweit über eine
programmiersprachenunabhängige Schnittstelle auf die Bibliothek zugreifen zu
können.</p>
<p><strong>Programmiersprachen&ndash;Bindings:</strong>
Für oft genutzte Sprachen wäre eine Erstellung von Bindings wünschenswert.</p>
</div>
</div>
<div class="section" id="abschlieszendes-fazit">
<h3>8.5 Abschließendes Fazit<a class="headerlink" href="#abschlieszendes-fazit" title="Permalink to this headline">¶</a></h3>
<p>Das Projekt zeigt einen Prototyp für die Suche und Analyse von Filmmetadaten.
Durch das modulare Konzept lässt sich der Prototyp um verschiedene
Onlinequellen und Möglichkeiten der Metadatenaufbereitung erweitern. Der
Ansatz mit dem Proxy zeigt, wie sich <em>libhugin</em> in bereits existierende Lösungen
integrieren lässt. Die beiden Kommandozeilen Tools, <em>Geri</em> und <em>Freki</em>, eignen
sich gut für <em>Scripting Tasks</em>. Durch den automatisierbaren Ansatz ist es
möglich, sehr große Filmsammlungen von mehreren tausend Filmen in einem
vernünftigen Zeitaufwand zu pflegen.</p>
<p>Durch die modulare Erweiterbarkeit lässt sich das System an Bedürfnisse des
Benutzers und an zukünftige Anforderungen anpassen.</p>
<p>Zusammenfassend kann gesagt werden, dass das Projekt mit dem ,,modularen Ansatz&quot;
für die vom Autor gestellten Anforderungen erfolgreich war.</p>
</div>
</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">orphan:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<p><strong>Abkürzungsverzeichnis:</strong></p>
<div class="figure align-center">
<center><table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="headalign-center align-top">Abkürzung</th>
<th class="headalign-center align-top">Bedeutung</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td class="align-center align-top">API</td>
<td class="align-center align-top"><em>Application Programming Interface</em></td>
</tr>
<tr class="row-odd"><td class="align-center align-top">CLI</td>
<td class="align-center align-top"><em>Command Line Interface</em></td>
</tr>
<tr class="row-even"><td class="align-center align-top">HDTV</td>
<td class="align-center align-top"><em>High Definition Television</em></td>
</tr>
<tr class="row-odd"><td class="align-center align-top">LoC</td>
<td class="align-center align-top"><em>Lines of Code</em></td>
</tr>
<tr class="row-even"><td class="align-center align-top">XML</td>
<td class="align-center align-top"><em>Extensible Markup Language</em></td>
</tr>
<tr class="row-odd"><td class="align-center align-top">URL</td>
<td class="align-center align-top"><em>Uniform Resource Locator</em></td>
</tr>
<tr class="row-even"><td class="align-center align-top">ID</td>
<td class="align-center align-top"><em>Identifier</em></td>
</tr>
</tbody>
</table>
</center></div><div class="toctree-wrapper compound">
<span id="document-rst/appendix"></span><div class="section" id="helferfunktion-fur-nfo-dateien">
<span id="ref-attachment-a"></span><h2>Helferfunktion für NFO&ndash;Dateien<a class="headerlink" href="#helferfunktion-fur-nfo-dateien" title="Permalink to this headline">¶</a></h2>
<p>Folgender Anhang zeigt die import/export&ndash;Helferfunktion, die von
<em>libhugin&ndash;analyze</em> als Schnittstelle zu den XBMC Metadaten verwendet wird:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c">#!/usr/bin/env python</span>
<span class="c"># encoding: utf-8</span>

<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">glob</span>
<span class="kn">import</span> <span class="nn">xmltodict</span>


<span class="k">def</span> <span class="nf">attr_mapping</span><span class="p">():</span>
<span class="k">return</span> <span class="p">{</span>
    <span class="s">&#39;title&#39;</span><span class="p">:</span> <span class="s">&#39;title&#39;</span><span class="p">,</span> <span class="s">&#39;originaltitle&#39;</span><span class="p">:</span> <span class="s">&#39;originaltitle&#39;</span><span class="p">,</span> <span class="s">&#39;year&#39;</span><span class="p">:</span> <span class="s">&#39;year&#39;</span><span class="p">,</span>
    <span class="s">&#39;plot&#39;</span><span class="p">:</span> <span class="s">&#39;plot&#39;</span><span class="p">,</span> <span class="s">&#39;director&#39;</span><span class="p">:</span> <span class="s">&#39;director&#39;</span><span class="p">,</span> <span class="s">&#39;genre&#39;</span><span class="p">:</span> <span class="s">&#39;genre&#39;</span>
<span class="p">}</span>


<span class="c">##############################################################################</span>
<span class="c"># -------------------------- import functions --------------------------------</span>
<span class="c">##############################################################################</span>
<span class="k">def</span> <span class="nf">attr_import_func</span><span class="p">(</span><span class="n">nfo_file</span><span class="p">,</span> <span class="n">mask</span><span class="p">):</span>
<span class="k">try</span><span class="p">:</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">nfo_file</span><span class="p">,</span> <span class="s">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">xml</span> <span class="o">=</span> <span class="n">xmltodict</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
        <span class="n">attributes</span> <span class="o">=</span> <span class="p">{</span><span class="n">key</span><span class="p">:</span> <span class="bp">None</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">mask</span><span class="o">.</span><span class="n">keys</span><span class="p">()}</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">filekey</span> <span class="ow">in</span> <span class="n">mask</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">attributes</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">xml</span><span class="p">[</span><span class="s">&#39;movie&#39;</span><span class="p">][</span><span class="n">filekey</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">attributes</span>
<span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&#39;Exception&#39;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">data_import</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
<span class="n">metadata</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">moviefolder</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
    <span class="n">full_movie_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">moviefolder</span><span class="p">)</span>
    <span class="n">nfofile</span> <span class="o">=</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob1</span><span class="p">(</span><span class="n">full_movie_path</span><span class="p">,</span> <span class="s">&#39;*.nfo&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">nfofile</span> <span class="o">==</span> <span class="p">[]:</span>
        <span class="n">nfofile</span> <span class="o">=</span> <span class="n">full_movie_path</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">nfofile</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">full_movie_path</span><span class="p">,</span> <span class="n">nfofile</span><span class="o">.</span><span class="n">pop</span><span class="p">())</span>
    <span class="n">metadata</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">nfofile</span><span class="p">)</span>
<span class="k">return</span> <span class="n">metadata</span>


<span class="c">##############################################################################</span>
<span class="c"># -------------------------- export functions --------------------------------</span>
<span class="c">##############################################################################</span>
<span class="k">def</span> <span class="nf">attr_export_func</span><span class="p">(</span><span class="n">movie</span><span class="p">):</span>
<span class="n">mask</span> <span class="o">=</span> <span class="n">attr_mapping</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">movie</span><span class="o">.</span><span class="n">nfo</span><span class="p">)</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">movie</span><span class="o">.</span><span class="n">nfo</span><span class="p">,</span> <span class="s">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">xml</span> <span class="o">=</span> <span class="n">xmltodict</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">filekey</span> <span class="ow">in</span> <span class="n">mask</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">xml</span><span class="p">[</span><span class="s">&#39;movie&#39;</span><span class="p">][</span><span class="n">filekey</span><span class="p">]</span> <span class="o">=</span> <span class="n">movie</span><span class="o">.</span><span class="n">attributes</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">movie</span><span class="o">.</span><span class="n">nfo</span><span class="p">,</span> <span class="s">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">xmltodict</span><span class="o">.</span><span class="n">unparse</span><span class="p">(</span><span class="n">xml</span><span class="p">,</span> <span class="n">pretty</span><span class="o">=</span><span class="bp">True</span><span class="p">))</span>


<span class="k">def</span> <span class="nf">data_export</span><span class="p">(</span><span class="n">metadata_dict</span><span class="p">):</span>
<span class="k">for</span> <span class="n">movie</span> <span class="ow">in</span> <span class="n">metadata_dict</span><span class="p">:</span>
    <span class="n">attr_export_func</span><span class="p">(</span><span class="n">movie</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="xbmc-scraper-plugin">
<span id="ref-xbmc-libhugin"></span><h2>XBMC&ndash;Scraper&ndash;Plugin<a class="headerlink" href="#xbmc-scraper-plugin" title="Permalink to this headline">¶</a></h2>
<p>Folgender Quelltext zeigt die Implementierung des XBMC Plugins. Als
externe Schnittstelle wird hier der <em>libhugin</em>&ndash;Proxy (siehe
<a class="reference internal" href="rst/index.html#ref-flaskproxy"><em>Libhugin XBMC Proxy</em></a>) verwendet.</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; standalone=&quot;yes&quot;?&gt;</span>
<span class="nt">&lt;scraper</span> <span class="na">framework=</span><span class="s">&quot;1.1&quot;</span> <span class="na">date=</span><span class="s">&quot;2010-02-22&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;NfoUrl</span> <span class="na">dest=</span><span class="s">&quot;3&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;RegExp</span> <span class="na">input=</span><span class="s">&quot;$$1&quot;</span> <span class="na">output=</span><span class="s">&quot;\1&quot;</span> <span class="na">dest=</span><span class="s">&quot;3&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;expression&gt;&lt;/expression&gt;</span>
    <span class="nt">&lt;/RegExp&gt;</span>
<span class="nt">&lt;/NfoUrl&gt;</span>
<span class="nt">&lt;CreateSearchUrl</span> <span class="na">dest=</span><span class="s">&quot;3&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;RegExp</span> <span class="na">input=</span><span class="s">&quot;$$1&quot;</span> <span class="na">output=</span><span class="s">&quot;&amp;lt;url&amp;gt;http://localhost:5000/search/\1&amp;lt;/url&amp;gt;&quot;</span> <span class="na">dest=</span><span class="s">&quot;3&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;expression&gt;&lt;/expression&gt;</span>
    <span class="nt">&lt;/RegExp&gt;</span>
<span class="nt">&lt;/CreateSearchUrl&gt;</span>
<span class="nt">&lt;GetSearchResults</span> <span class="na">dest=</span><span class="s">&quot;8&quot;</span><span class="nt">&gt;</span>
 <span class="nt">&lt;RegExp</span> <span class="na">input=</span><span class="s">&quot;$$5&quot;</span> <span class="na">output=</span><span class="s">&quot;$$1&quot;</span> <span class="na">dest=</span><span class="s">&quot;8&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;expression&gt;&lt;/expression&gt;</span>
    <span class="nt">&lt;/RegExp&gt;</span>
<span class="nt">&lt;/GetSearchResults&gt;</span>
<span class="nt">&lt;GetDetails</span> <span class="na">dest=</span><span class="s">&quot;3&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;RegExp</span> <span class="na">input=</span><span class="s">&quot;$$1&quot;</span> <span class="na">output=</span><span class="s">&quot;$$1&quot;</span> <span class="na">dest=</span><span class="s">&quot;3&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;expression&gt;&lt;/expression&gt;</span>
    <span class="nt">&lt;/RegExp&gt;</span>
<span class="nt">&lt;/GetDetails&gt;</span>
<span class="nt">&lt;/scraper&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="libhugin-xbmc-proxy">
<span id="ref-flaskproxy"></span><h2>Libhugin XBMC Proxy<a class="headerlink" href="#libhugin-xbmc-proxy" title="Permalink to this headline">¶</a></h2>
<p>Folgender Quelltext zeigt die Implementierung des <em>libhugin</em>&ndash;Proxy&ndash;Servers,
welcher das XBMC Plugin mit Daten versorgt.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c">#!/usr/bin/env python</span>
<span class="c"># encoding: utf-8</span>

<span class="c"># stdlib</span>
<span class="kn">import</span> <span class="nn">re</span>

<span class="c"># 3rd party libs</span>
<span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span>
<span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Response</span>
<span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">request</span>

<span class="c"># hugin</span>
<span class="kn">import</span> <span class="nn">hugin.harvest.session</span> <span class="kn">as</span> <span class="nn">HarvestSession</span>
<span class="kn">import</span> <span class="nn">hugin.analyze.session</span> <span class="kn">as</span> <span class="nn">AnalyzerSession</span>


<span class="n">SESSION</span> <span class="o">=</span> <span class="n">HarvestSession</span><span class="o">.</span><span class="n">Session</span><span class="p">()</span>
<span class="n">ANALYZER</span> <span class="o">=</span> <span class="n">AnalyzerSession</span><span class="o">.</span><span class="n">Session</span><span class="p">(</span><span class="s">&#39;/tmp/dummydbforanalyzer&#39;</span><span class="p">)</span>

<span class="n">POSTPROCESSING</span> <span class="o">=</span> <span class="bp">False</span>
<span class="n">CACHE</span> <span class="o">=</span> <span class="p">{}</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>


<span class="c">##############################################################################</span>
<span class="c"># -------------------------- flask functions ---------------------------------</span>
<span class="c">##############################################################################</span>

<span class="nd">@app.route</span><span class="p">(</span><span class="s">&#39;/search/&lt;title&gt;&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">search</span><span class="p">(</span><span class="n">title</span><span class="p">):</span>
    <span class="n">imdbid</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s">&#39;tt\d+&#39;</span><span class="p">,</span> <span class="n">title</span><span class="p">)</span>
    <span class="c"># search by imdbid</span>
    <span class="k">if</span> <span class="n">imdbid</span><span class="p">:</span>
        <span class="n">query</span> <span class="o">=</span> <span class="n">SESSION</span><span class="o">.</span><span class="n">create_query</span><span class="p">(</span>
            <span class="n">imdbid</span><span class="o">=</span><span class="n">imdbid</span><span class="o">.</span><span class="n">pop</span><span class="p">(),</span> <span class="n">providers</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;tmdbmovie&#39;</span><span class="p">],</span> <span class="n">language</span><span class="o">=</span><span class="s">&#39;de&#39;</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
    <span class="c"># search by title</span>
        <span class="n">query</span> <span class="o">=</span> <span class="n">SESSION</span><span class="o">.</span><span class="n">create_query</span><span class="p">(</span>
            <span class="n">title</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">title</span><span class="p">),</span> <span class="n">fuzzysearch</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
            <span class="n">providers</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;tmdbmovie&#39;</span><span class="p">],</span> <span class="n">language</span><span class="o">=</span><span class="s">&#39;de&#39;</span>
        <span class="p">)</span>
    <span class="n">results</span> <span class="o">=</span> <span class="n">SESSION</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
    <span class="n">template</span> <span class="o">=</span> <span class="n">_read_template</span><span class="p">(</span><span class="s">&#39;tools/huginproxy/results.xml&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">Response</span><span class="p">(</span>
        <span class="n">template</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">results</span><span class="o">=</span><span class="n">_build_search_results</span><span class="p">(</span><span class="n">results</span><span class="p">)),</span>
        <span class="n">mimetype</span><span class="o">=</span><span class="s">&#39;text/xml&#39;</span><span class="p">)</span>

<span class="nd">@app.route</span><span class="p">(</span><span class="s">&#39;/movie/&lt;num&gt;&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">get_movie</span><span class="p">(</span><span class="n">num</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Get movie with a specific number. &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">CACHE</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">CACHE</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">num</span><span class="p">)]</span>
        <span class="k">if</span> <span class="n">POSTPROCESSING</span><span class="p">:</span>
            <span class="n">postprocess</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
        <span class="n">nfo_converter</span> <span class="o">=</span> <span class="n">SESSION</span><span class="o">.</span><span class="n">converter_plugins</span><span class="p">(</span><span class="s">&#39;nfo&#39;</span><span class="p">)</span>
        <span class="n">nfo_file</span> <span class="o">=</span> <span class="n">nfo_converter</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">Response</span><span class="p">(</span><span class="n">nfo_file</span><span class="p">,</span> <span class="n">mimetype</span><span class="o">=</span><span class="s">&#39;text/xml&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">Response</span><span class="p">(</span><span class="s">&#39;Cache is empty.&#39;</span><span class="p">,</span> <span class="n">mimetype</span><span class="o">=</span><span class="s">&#39;text&#39;</span><span class="p">)</span>

<span class="nd">@app.route</span><span class="p">(</span><span class="s">&#39;/stats&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">stats</span><span class="p">():</span>
    <span class="n">response</span> <span class="o">=</span> <span class="s">&#39;Postprocessor enabled: {}</span><span class="se">\n</span><span class="s">Results in queue: {}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
        <span class="n">POSTPROCESSING</span><span class="p">,</span>
        <span class="nb">len</span><span class="p">(</span><span class="n">CACHE</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">Response</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="n">mimetype</span><span class="o">=</span><span class="s">&#39;text&#39;</span><span class="p">)</span>

<span class="nd">@app.route</span><span class="p">(</span><span class="s">&#39;/toggle_pp&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">toggle_pp</span><span class="p">():</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">global</span> <span class="n">POSTPROCESSING</span>
        <span class="n">POSTPROCESSING</span> <span class="o">=</span> <span class="ow">not</span> <span class="n">POSTPROCESSING</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
    <span class="k">return</span> <span class="s">&#39;Postprocessor enabled: {}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">POSTPROCESSING</span><span class="p">)</span>

<span class="nd">@app.route</span><span class="p">(</span><span class="s">&#39;/shutdown&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">shutdown</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&#39;Shutting down hugin...&#39;</span><span class="p">)</span>
    <span class="n">SESSION</span><span class="o">.</span><span class="n">cancel</span><span class="p">()</span>
    <span class="n">SESSION</span><span class="o">.</span><span class="n">clean_up</span><span class="p">()</span>
    <span class="n">ANALYZER</span><span class="o">.</span><span class="n">database_shutdown</span><span class="p">()</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&#39;Shutting down server...&#39;</span><span class="p">)</span>
    <span class="n">shutdown_server</span><span class="p">()</span>

<span class="c">##############################################################################</span>
<span class="c"># -------------------------- helper functions --------------------------------</span>
<span class="c">##############################################################################</span>

<span class="k">def</span> <span class="nf">_build_search_results</span><span class="p">(</span><span class="n">results</span><span class="p">):</span>
    <span class="n">enities</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">CACHE</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">num</span><span class="p">,</span> <span class="n">result</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">results</span><span class="p">):</span>
        <span class="n">template</span> <span class="o">=</span> <span class="n">_read_template</span><span class="p">(</span><span class="s">&#39;tools/huginproxy/result_enity.xml&#39;</span><span class="p">)</span>
        <span class="n">enities</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="n">template</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">title</span><span class="o">=</span><span class="n">result</span><span class="o">.</span><span class="n">_result_dict</span><span class="p">[</span><span class="s">&#39;title&#39;</span><span class="p">],</span>
                <span class="n">year</span><span class="o">=</span><span class="n">result</span><span class="o">.</span><span class="n">_result_dict</span><span class="p">[</span><span class="s">&#39;year&#39;</span><span class="p">],</span>
                <span class="n">imdbid</span><span class="o">=</span><span class="n">result</span><span class="o">.</span><span class="n">_result_dict</span><span class="p">[</span><span class="s">&#39;imdbid&#39;</span><span class="p">],</span>
                <span class="n">provider</span><span class="o">=</span><span class="n">result</span><span class="o">.</span><span class="n">_provider</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="n">nr</span><span class="o">=</span><span class="n">num</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="n">CACHE</span><span class="p">[</span><span class="n">num</span><span class="p">]</span> <span class="o">=</span> <span class="n">result</span>
    <span class="k">return</span> <span class="s">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">enities</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">postprocess</span><span class="p">(</span><span class="n">result</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Postprocess example. &quot;&quot;&quot;</span>
    <span class="n">BracketCleaner</span> <span class="o">=</span> <span class="n">ANALYZER</span><span class="o">.</span><span class="n">modifier_plugins</span><span class="p">(</span><span class="s">&#39;plot&#39;</span><span class="p">)</span>
    <span class="n">result</span><span class="o">.</span><span class="n">_result_dict</span><span class="p">[</span><span class="s">&#39;plot&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ANALYZER</span><span class="o">.</span><span class="n">modify_raw</span><span class="p">(</span>
        <span class="n">BracketCleaner</span><span class="p">,</span> <span class="s">&#39;plot&#39;</span><span class="p">,</span> <span class="n">result</span><span class="o">.</span><span class="n">_result_dict</span><span class="p">[</span><span class="s">&#39;plot&#39;</span><span class="p">]</span>
    <span class="p">)</span>

<span class="k">def</span> <span class="nf">_read_template</span><span class="p">(</span><span class="n">template</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Helper for reading templates. &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">template</span><span class="p">,</span> <span class="s">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="nb">file</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">shutdown_server</span><span class="p">():</span>
    <span class="n">func</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;werkzeug.server.shutdown&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">func</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s">&#39;No werkzeug server running.&#39;</span><span class="p">)</span>
    <span class="n">func</span><span class="p">()</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">app</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="projektstatistik-cloc">
<span id="ref-cloc"></span><h2>Projektstatistik (<em>cloc</em>)<a class="headerlink" href="#projektstatistik-cloc" title="Permalink to this headline">¶</a></h2>
<p>Folgend eine Projektstatistik erstellt mit dem Tool <em>cloc</em>:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>cloc hugin/ tools/
     119 text files.
     117 unique files.
      87 files ignored.

http://cloc.sourceforge.net v 1.60  <span class="nv">T</span><span class="o">=</span>0.51 s <span class="o">(</span>109.5 files/s, 11970.3 lines/s<span class="o">)</span>
-------------------------------------------------------------------------------
Language                     files          blank        comment           code
-------------------------------------------------------------------------------
Python                          49           1220           1171           3540
XML                              5              1              0             57
HTML                             2              9            113             10
-------------------------------------------------------------------------------
SUM:                            56           1230           1284           3607
-------------------------------------------------------------------------------
</pre></div>
</div>
</div>
<span id="document-rst/zzz_bibliography"></span><div class="section" id="bibliographie">
<h2>Bibliographie<a class="headerlink" href="#bibliographie" title="Permalink to this headline">¶</a></h2>
</div>
<p id="bibtex-bibliography-rst/zzz_bibliography-0"><table class="docutils citation" frame="void" id="fielding2000architectural" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[1]</td><td>Roy&nbsp;Thomas Fielding. <em>Architectural styles and the design of network-based software architectures</em>. PhD thesis, University of California, 2000.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="lutz2013learning" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[2]</td><td>Mark Lutz. <em>Learning python</em>. O'Reilly Media, Inc., 2013.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="snell2002webservice" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[3]</td><td>James Snell, Doug Tidwell, and Pavel Kulchenko. <em>Webservice-Programmierung mit SOAP</em>. O'Reilly Germany, 2002.</td></tr>
</tbody>
</table>
</p>
<div class="section" id="weblink-verzeichnis">
<h2>Weblink Verzeichnis<a class="headerlink" href="#weblink-verzeichnis" title="Permalink to this headline">¶</a></h2>
</div>
<p id="bibtex-bibliography-rst/zzz_bibliography-1"><table class="docutils citation" frame="void" id="usbstickmovie" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link&ndash;1]</td><td><span><a class="reference external" href="http://www.amazon.de/Layer-Cake-Film-Flash-Drive/dp/B001Q3LOTQ">http://www.amazon.de/Layer-Cake-Film-Flash-Drive/dp/B001Q3LOTQ</a></span>. [Stand: 14.4.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="imdb" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link&ndash;2]</td><td><span><a class="reference external" href="http://www.imdb.com/ ">http://www.imdb.com/ </a></span>. [Stand: 15.4.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="xbmc" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link&ndash;3]</td><td><span><a class="reference external" href="http://www.xbmc.org">http://www.xbmc.org</a></span>. [Stand: 14.4.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="containerformate" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link&ndash;4]</td><td><span><a class="reference external" href="http://videoencoding.websmith.de/encoding-praxis/die-richtige-containerwahl.html">http://videoencoding.websmith.de/encoding-praxis/die-richtige-containerwahl.html</a></span>. [Stand: 20.4.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="gpl" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link&ndash;5]</td><td><span><a class="reference external" href="http://www.gnu.de/documents/gpl-3.0.de.html">http://www.gnu.de/documents/gpl-3.0.de.html</a></span>. [Stand: 20.4.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="cc" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link&ndash;6]</td><td><span><a class="reference external" href="http://creativecommons.org/licenses/?lang=de">http://creativecommons.org/licenses/?lang=de</a></span>. [Stand: 14.4.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="huginmunin" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link&ndash;7]</td><td><span><a class="reference external" href="http://de.wikipedia.org/wiki/Hugin_und_Munin">http://de.wikipedia.org/wiki/Hugin_und_Munin</a></span>. [Stand: 20.4.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="gerifreki" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link&ndash;8]</td><td><span><a class="reference external" href="http://de.wikipedia.org/wiki/Geri_und_Freki">http://de.wikipedia.org/wiki/Geri_und_Freki</a></span>. [Stand: 14.4.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="metadatenarten" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link&ndash;9]</td><td><span><a class="reference external" href="https://www.videouniversity.com/articles/metadata-for-video/">https://www.videouniversity.com/articles/metadata-for-video/</a></span>. [Stand: 14.4.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="cinefacts-paddg" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link&ndash;10]</td><td><span><a class="reference external" href="http://www.cinefacts.de/Filme/Per-Anhalter-durch-die-Galaxis,18240">http://www.cinefacts.de/Filme/Per-Anhalter-durch-die-Galaxis,18240</a></span>. [Stand: 14.4.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="filmstarts-paddg" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link&ndash;11]</td><td><span><a class="reference external" href="http://www.filmstarts.de/kritiken/37940-Per-Anhalter-durch-die-Galaxis.html">http://www.filmstarts.de/kritiken/37940-Per-Anhalter-durch-die-Galaxis.html</a></span>. [Stand: 14.4.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="ofdb-paddg" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link&ndash;12]</td><td><span><a class="reference external" href="http://www.ofdb.de/film/73135,Per-Anhalter-durch-die-Galaxis">http://www.ofdb.de/film/73135,Per-Anhalter-durch-die-Galaxis</a></span>. [Stand: 14.4.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="tmdb-paddg" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link&ndash;13]</td><td><span><a class="reference external" href="http://www.themoviedb.org/movie/7453-the-hitchhiker-s-guide-to-the-galaxy?language=de">http://www.themoviedb.org/movie/7453-the-hitchhiker-s-guide-to-the-galaxy?language=de</a></span>. [Stand: 14.4.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="raspberry" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link&ndash;14]</td><td><span><a class="reference external" href="http://www.heise.de/hardware-hacks/artikel/Erste-Schritte-mit-dem-Raspberry-Pi-1573973.html?artikelseite=">http://www.heise.de/hardware-hacks/artikel/Erste-Schritte-mit-dem-Raspberry-Pi-1573973.html?artikelseite=</a></span>. [Stand: 14.4.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="popcornhour" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link&ndash;15]</td><td><span><a class="reference external" href="http://www.popcorn-hour.de">http://www.popcorn-hour.de</a></span>. [Stand: 14.4.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="mediaelch" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link&ndash;16]</td><td><span><a class="reference external" href="http://www.mediaelch.de">http://www.mediaelch.de</a></span>. [Stand: 14.4.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="moviemanager" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link&ndash;17]</td><td><span><a class="reference external" href="http://www.junauza.com/2013/01/best-movie-collection-managers-for-linux.html">http://www.junauza.com/2013/01/best-movie-collection-managers-for-linux.html</a></span>. [Stand: 14.4.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="xbmcnfo" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link&ndash;18]</td><td><span><a class="reference external" href="http://wiki.xbmc.org/index.php?title=NFO_files/movies">http://wiki.xbmc.org/index.php?title=NFO_files/movies</a></span>. [Stand: 14.4.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="dvdxml" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link&ndash;19]</td><td><span><a class="reference external" href="http://dvdxml.com/p/faq/faq.php?0.cat.2.3">http://dvdxml.com/p/faq/faq.php?0.cat.2.3</a></span>. [Stand: 14.4.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="imdbgenre" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link&ndash;20]</td><td><span><a class="reference external" href="http://www.imdb.com/genre/ ">http://www.imdb.com/genre/ </a></span>. [Stand: 14.4.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="tmdbgenre" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link&ndash;21]</td><td><span><a class="reference external" href="http://www.themoviedb.org/genres">http://www.themoviedb.org/genres</a></span>. [Stand: 14.4.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="feuchtgebiete" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link&ndash;22]</td><td><span><a class="reference external" href="http://de.wikipedia.org/wiki/Feuchtgebiete_(Film)">http://de.wikipedia.org/wiki/Feuchtgebiete_(Film)</a></span>. [Stand: 14.4.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="nymphomaniac" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link&ndash;23]</td><td><span><a class="reference external" href="http://en.wikipedia.org/wiki/Nymphomaniac_(film)">http://en.wikipedia.org/wiki/Nymphomaniac_(film)</a></span>. [Stand: 14.4.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="glyr" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link&ndash;24]</td><td><span><a class="reference external" href="http://github.com/sahib/glyr">http://github.com/sahib/glyr</a></span>. [Stand: 15.4.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="xbmcscraper" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link&ndash;25]</td><td><span><a class="reference external" href="http://wiki.xbmc.org/index.php?title=Scraper">http://wiki.xbmc.org/index.php?title=Scraper</a></span>. [Stand: 14.4.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="curl" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link&ndash;26]</td><td><span><a class="reference external" href="http://curl.haxx.se">http://curl.haxx.se</a></span>. [Stand: 20.4.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="omdb" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link&ndash;27]</td><td><span><a class="reference external" href="http://www.omdbapi.com">http://www.omdbapi.com</a></span>. [Stand: 20.4.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="filmstarts" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link&ndash;28]</td><td><span><a class="reference external" href="http://www.filmstarts.de">http://www.filmstarts.de</a></span>. [Stand: 20.4.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="movieprovider" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link&ndash;29]</td><td><span><a class="reference external" href="http://libhugin.rtfd.org/en/latest/developer_api/api.html#imovieprovider">http://libhugin.rtfd.org/en/latest/developer_api/api.html#imovieprovider</a></span>. [Stand: 20.4.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="queryapi" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link&ndash;30]</td><td><span><a class="reference external" href="http://libhugin.rtfd.org/en/latest/user_manual/api.html#creating-a-query">http://libhugin.rtfd.org/en/latest/user_manual/api.html#creating-a-query</a></span>. [Stand: 20.4.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="futures" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link&ndash;31]</td><td><span><a class="reference external" href="http://docs.python.org/3.2/library/concurrent.futures.html">http://docs.python.org/3.2/library/concurrent.futures.html</a></span>. [Stand: 20.4.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="shelve" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link&ndash;32]</td><td><span><a class="reference external" href="http://docs.python.org/3.2/library/shelve.html">http://docs.python.org/3.2/library/shelve.html</a></span>. [Stand: 20.4.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="yapsy" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link&ndash;33]</td><td><span><a class="reference external" href="http://yapsy.sourceforge.net/ ">http://yapsy.sourceforge.net/ </a></span>. [Stand: 20.4.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="buildurl" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link&ndash;34]</td><td><span><a class="reference external" href="http://libhugin.rtfd.org/en/latest/developer_api/api.html#the-build-url-method">http://libhugin.rtfd.org/en/latest/developer_api/api.html#the-build-url-method</a></span>. [Stand: 20.4.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="parseresponse" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link&ndash;35]</td><td><span><a class="reference external" href="http://libhugin.rtfd.org/en/latest/developer_api/api.html#the-parse-reponse-method">http://libhugin.rtfd.org/en/latest/developer_api/api.html#the-parse-reponse-method</a></span>. [Stand: 20.4.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="huginapi" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link&ndash;36]</td><td><span><a class="reference external" href="http://libhugin.rtfd.org/en/latest/user_manual/api.html#introduction">http://libhugin.rtfd.org/en/latest/user_manual/api.html#introduction</a></span>. [Stand: 14.4.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="cython" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link&ndash;37]</td><td><span><a class="reference external" href="http://cython.org/">http://cython.org/</a></span>. [Stand: 14.4.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="pep" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link&ndash;38]</td><td><span><a class="reference external" href="http://legacy.python.org/dev/peps/">http://legacy.python.org/dev/peps/</a></span>. [Stand: 14.4.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="github" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link&ndash;39]</td><td><span><a class="reference external" href="http://github.com">http://github.com</a></span>. [Stand: 14.4.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="travisci" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link&ndash;40]</td><td><span><a class="reference external" href="https://travis-ci.org">https://travis-ci.org</a></span>. [Stand: 14.4.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="knuth" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link&ndash;41]</td><td><span><a class="reference external" href="http://www-cs-faculty.stanford.edu/~uno/lp.html">http://www-cs-faculty.stanford.edu/&nbsp;uno/lp.html</a></span>. [Stand: 14.4.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="sphinxdoc" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link&ndash;42]</td><td><span><a class="reference external" href="http://sphinx-doc.org/">http://sphinx-doc.org/</a></span>. [Stand: 14.4.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="rtfd" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link&ndash;43]</td><td><span><a class="reference external" href="https://readthedocs.org">https://readthedocs.org</a></span>. [Stand: 14.4.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="rst" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link&ndash;44]</td><td><span><a class="reference external" href="http://docutils.sourceforge.net/rst.html">http://docutils.sourceforge.net/rst.html</a></span>. [Stand: 14.4.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="tmdbscraper1" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link&ndash;45]</td><td><span><a class="reference external" href="https://github.com/xbmc/xbmc/blob/master/addons/metadata.common.themoviedb.org/tmdb.xml">https://github.com/xbmc/xbmc/blob/master/addons/metadata.common.themoviedb.org/tmdb.xml</a></span>. [Stand: 14.4.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="tmdbscraper2" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link&ndash;46]</td><td><span><a class="reference external" href="https://github.com/xbmc/xbmc/blob/master/addons/metadata.themoviedb.org/tmdb.xml">https://github.com/xbmc/xbmc/blob/master/addons/metadata.themoviedb.org/tmdb.xml</a></span>. [Stand: 14.4.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="flask" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link&ndash;47]</td><td><span><a class="reference external" href="http://flask.pocoo.org">http://flask.pocoo.org</a></span>. [Stand: 14.4.2014].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="jinni" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Link&ndash;48]</td><td><span><a class="reference external" href="http://www.jinni.com">http://www.jinni.com</a></span>. [Stand: 14.4.2014].</td></tr>
</tbody>
</table>
</p>
</div>
<div class="section" id="lizenz">
<h2>Lizenz<a class="headerlink" href="#lizenz" title="Permalink to this headline">¶</a></h2>
<p>Diese Arbeit ist unter den Bedingungen der <em>Creative Commons Attribution-3.0</em>
lizensiert:</p>
<blockquote>
<div><a class="reference external" href="http://creativecommons.org/licenses/by/3.0/de/">http://creativecommons.org/licenses/by/3.0/de/</a></div></blockquote>
<a class="reference internal image-reference" href="../../_images/cclogo.svg"><div align="center" class="align-center"><img alt="Creative Commons License" src="../../_images/cclogo.svg" width="50%" /></div>
</a>
</div>
</div>


          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright by Christoph Piechula, 2013-2014..
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>